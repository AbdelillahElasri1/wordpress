import{a as t,e as n,i as e,d as i,f as r,g as o,o as u,q as a}from"./p-6b9905f8.js";const c=e=>null!=e?e.constructor:null,s=e=>null==e,v=e=>c(e)===Object,f=e=>c(e)===String,h=s,l=v,d=f,y=e=>s(e)||(f(e)||(e=>Array.isArray(e))(e)||(e=>((e,t)=>Boolean(e&&t&&e instanceof t))(e,NodeList))(e))&&!e.length||v(e)&&!Object.keys(e).length;function g(e){return Array.isArray?Array.isArray(e):"[object Array]"===b(e)}function k(e){return"string"==typeof e}function m(e){return"number"==typeof e}function M(e){return"object"===r(e)}function p(e){return null!=e}function x(e){return!e.trim().length}function b(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}var L=function(e){return"Invalid value for key ".concat(e)},w=function(e){return"Pattern length exceeds max of ".concat(e,".")},$=Object.prototype.hasOwnProperty,S=function(){function e(t){var n=this;o(this,e),this._keys=[],this._keyMap={};var i=0;t.forEach((function(e){var t=j(e);i+=t.weight,n._keys.push(t),n._keyMap[t.id]=t,i+=t.weight})),this._keys.forEach((function(e){e.weight/=i}))}return n(e,[{key:"get",value:function(e){return this._keyMap[e]}},{key:"keys",value:function(){return this._keys}},{key:"toJSON",value:function(){return JSON.stringify(this._keys)}}]),e}();function j(e){var t=null,n=null,i=null,r=1,o=null;if(k(e)||g(e))i=e,t=A(e),n=O(e);else{if(!$.call(e,"name"))throw new Error("Missing ".concat("name"," property in key"));var a=e.name;if(i=a,$.call(e,"weight")&&(r=e.weight)<=0)throw new Error(function(e){return"Property 'weight' in key '".concat(e,"' must be a positive integer")}(a));t=A(a),n=O(a),o=e.getFn}return{path:t,id:n,weight:r,src:i,getFn:o}}function A(e){return g(e)?e:e.split(".")}function O(e){return g(e)?e.join("."):e}var R={useExtendedSearch:!1,getFn:function(e,t){var n=[],i=!1;return function e(t,r,o){if(p(t))if(r[o]){var a=t[r[o]];if(!p(a))return;if(o===r.length-1&&(k(a)||m(a)||function(e){return!0===e||!1===e||function(e){return M(e)&&null!==e}(e)&&"[object Boolean]"==b(e)}(a)))n.push(function(e){return null==e?"":function(e){if("string"==typeof e)return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(e)}(a));else if(g(a)){i=!0;for(var s=0,c=a.length;s<c;s+=1)e(a[s],r,o+1)}else r.length&&e(a,r,o+1)}else n.push(t)}(e,k(t)?t.split("."):t,0),i?n:n[0]},ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1},I=t(t(t(t({},{isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:function(e,t){return e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1}}),{includeMatches:!1,findAllMatches:!1,minMatchCharLength:1}),{location:0,threshold:.6,distance:100}),R),N=/[^ ]+/g;function _(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=new Map,i=Math.pow(10,t);return{get:function(t){var r=t.match(N).length;if(n.has(r))return n.get(r);var o=1/Math.pow(r,.5*e),a=parseFloat(Math.round(o*i)/i);return n.set(r,a),a},clear:function(){n.clear()}}}var C=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.getFn,i=void 0===n?I.getFn:n,r=t.fieldNormWeight,a=void 0===r?I.fieldNormWeight:r;o(this,e),this.norm=_(a,3),this.getFn=i,this.isCreated=!1,this.setIndexRecords()}return n(e,[{key:"setSources",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.docs=e}},{key:"setIndexRecords",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.records=e}},{key:"setKeys",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.keys=t,this._keysMap={},t.forEach((function(t,n){e._keysMap[t.id]=n}))}},{key:"create",value:function(){var e=this;!this.isCreated&&this.docs.length&&(this.isCreated=!0,k(this.docs[0])?this.docs.forEach((function(t,n){e._addString(t,n)})):this.docs.forEach((function(t,n){e._addObject(t,n)})),this.norm.clear())}},{key:"add",value:function(e){var t=this.size();k(e)?this._addString(e,t):this._addObject(e,t)}},{key:"removeAt",value:function(e){this.records.splice(e,1);for(var t=e,n=this.size();t<n;t+=1)this.records[t].i-=1}},{key:"getValueForItemAtKeyId",value:function(e,t){return e[this._keysMap[t]]}},{key:"size",value:function(){return this.records.length}},{key:"_addString",value:function(e,t){if(p(e)&&!x(e)){var n={v:e,i:t,n:this.norm.get(e)};this.records.push(n)}}},{key:"_addObject",value:function(e,t){var n=this,i={i:t,$:{}};this.keys.forEach((function(t,r){var o=t.getFn?t.getFn(e):n.getFn(e,t.path);if(p(o))if(g(o)){for(var a=[],s=[{nestedArrIndex:-1,value:o}];s.length;){var c=s.pop(),u=c.nestedArrIndex,h=c.value;if(p(h))if(k(h)&&!x(h)){var l={v:h,i:u,n:n.norm.get(h)};a.push(l)}else g(h)&&h.forEach((function(e,t){s.push({nestedArrIndex:t,value:e})}))}i.$[r]=a}else if(k(o)&&!x(o)){var d={v:o,n:n.norm.get(o)};i.$[r]=d}})),this.records.push(i)}},{key:"toJSON",value:function(){return{keys:this.keys,records:this.records}}}]),e}();function F(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.getFn,r=void 0===i?I.getFn:i,o=n.fieldNormWeight,a=void 0===o?I.fieldNormWeight:o,s=new C({getFn:r,fieldNormWeight:a});return s.setKeys(e.map(j)),s.setSources(t),s.create(),s}function E(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.errors,i=void 0===n?0:n,r=t.currentLocation,o=void 0===r?0:r,a=t.expectedLocation,s=void 0===a?0:a,c=t.distance,u=void 0===c?I.distance:c,h=t.ignoreLocation,l=void 0===h?I.ignoreLocation:h,d=i/e.length;if(l)return d;var f=Math.abs(s-o);return u?d+f/u:f?1:d}function J(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:I.minMatchCharLength,n=[],i=-1,r=-1,o=0,a=e.length;o<a;o+=1){var s=e[o];s&&-1===i?i=o:s||-1===i||((r=o-1)-i+1>=t&&n.push([i,r]),i=-1)}return e[o-1]&&o-i>=t&&n.push([i,o-1]),n}function T(e){for(var t={},n=0,i=e.length;n<i;n+=1){var r=e.charAt(n);t[r]=(t[r]||0)|1<<i-n-1}return t}var W=function(){function t(e){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=i.location,a=void 0===r?I.location:r,s=i.threshold,c=void 0===s?I.threshold:s,u=i.distance,h=void 0===u?I.distance:u,l=i.includeMatches,d=void 0===l?I.includeMatches:l,f=i.findAllMatches,v=void 0===f?I.findAllMatches:f,g=i.minMatchCharLength,p=void 0===g?I.minMatchCharLength:g,y=i.isCaseSensitive,m=void 0===y?I.isCaseSensitive:y,k=i.ignoreLocation,M=void 0===k?I.ignoreLocation:k;if(o(this,t),this.options={location:a,threshold:c,distance:h,includeMatches:d,findAllMatches:v,minMatchCharLength:p,isCaseSensitive:m,ignoreLocation:M},this.pattern=m?e:e.toLowerCase(),this.chunks=[],this.pattern.length){var x=function(e,t){n.chunks.push({pattern:e,alphabet:T(e),startIndex:t})},L=this.pattern.length;if(L>32){for(var _=0,S=L%32,C=L-S;_<C;)x(this.pattern.substr(_,32),_),_+=32;if(S){var b=L-32;x(this.pattern.substr(b),b)}}else x(this.pattern,0)}}return n(t,[{key:"searchIn",value:function(t){var n=this.options,i=n.includeMatches;if(n.isCaseSensitive||(t=t.toLowerCase()),this.pattern===t){var r={isMatch:!0,score:0};return i&&(r.indices=[[0,t.length-1]]),r}var o=this.options,a=o.location,s=o.distance,c=o.threshold,u=o.findAllMatches,h=o.minMatchCharLength,l=o.ignoreLocation,d=[],f=0,v=!1;this.chunks.forEach((function(n){var r=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=i.location,o=void 0===r?I.location:r,a=i.distance,s=void 0===a?I.distance:a,c=i.threshold,u=void 0===c?I.threshold:c,h=i.findAllMatches,l=void 0===h?I.findAllMatches:h,d=i.minMatchCharLength,f=void 0===d?I.minMatchCharLength:d,v=i.includeMatches,g=void 0===v?I.includeMatches:v,p=i.ignoreLocation,y=void 0===p?I.ignoreLocation:p;if(t.length>32)throw new Error(w(32));for(var m,k=t.length,M=e.length,x=Math.max(0,Math.min(o,M)),L=u,_=x,S=f>1||g,C=S?Array(M):[];(m=e.indexOf(t,_))>-1;){var b=E(t,{currentLocation:m,expectedLocation:x,distance:s,ignoreLocation:y});if(L=Math.min(b,L),_=m+k,S)for(var A=0;A<k;)C[m+A]=1,A+=1}_=-1;for(var $=[],F=1,N=k+M,O=1<<k-1,j=0;j<k;j+=1){for(var R=0,T=N;R<T;)E(t,{errors:j,currentLocation:x+T,expectedLocation:x,distance:s,ignoreLocation:y})<=L?R=T:N=T,T=Math.floor((N-R)/2+R);N=T;var W=Math.max(1,x-T+1),z=l?M:Math.min(x+T,M)+k,q=Array(z+2);q[z+1]=(1<<j)-1;for(var K=z;K>=W;K-=1){var B=K-1,D=n[e.charAt(B)];if(S&&(C[B]=+!!D),q[K]=(q[K+1]<<1|1)&D,j&&(q[K]|=($[K+1]|$[K])<<1|1|$[K+1]),q[K]&O&&(F=E(t,{errors:j,currentLocation:B,expectedLocation:x,distance:s,ignoreLocation:y}))<=L){if(L=F,(_=B)<=x)break;W=Math.max(1,2*x-_)}}if(E(t,{errors:j+1,currentLocation:x,expectedLocation:x,distance:s,ignoreLocation:y})>L)break;$=q}var P={isMatch:_>=0,score:Math.max(.001,F)};if(S){var Q=J(C,f);Q.length?g&&(P.indices=Q):P.isMatch=!1}return P}(t,n.pattern,n.alphabet,{location:a+n.startIndex,distance:s,threshold:c,findAllMatches:u,minMatchCharLength:h,includeMatches:i,ignoreLocation:l}),o=r.isMatch,g=r.indices;o&&(v=!0),f+=r.score,o&&g&&(d=[].concat(e(d),e(g)))}));var g={isMatch:v,score:v?f/this.chunks.length:1};return v&&i&&(g.indices=d),g}}]),t}(),z=function(){function e(t){o(this,e),this.pattern=t}return n(e,[{key:"search",value:function(){}}],[{key:"isMultiMatch",value:function(e){return B(e,this.multiRegex)}},{key:"isSingleMatch",value:function(e){return B(e,this.singleRegex)}}]),e}();function B(e,t){var n=e.match(t);return n?n[1]:null}var K=function(){u(t,z);var e=a(t);function t(n){return o(this,t),e.call(this,n)}return n(t,[{key:"search",value:function(e){var t=e===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}],[{key:"type",get:function(){return"exact"}},{key:"multiRegex",get:function(){return/^="(.*)"$/}},{key:"singleRegex",get:function(){return/^=(.*)$/}}]),t}(),P=function(){u(t,z);var e=a(t);function t(n){return o(this,t),e.call(this,n)}return n(t,[{key:"search",value:function(e){var t=-1===e.indexOf(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}],[{key:"type",get:function(){return"inverse-exact"}},{key:"multiRegex",get:function(){return/^!"(.*)"$/}},{key:"singleRegex",get:function(){return/^!(.*)$/}}]),t}(),q=function(){u(t,z);var e=a(t);function t(n){return o(this,t),e.call(this,n)}return n(t,[{key:"search",value:function(e){var t=e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}],[{key:"type",get:function(){return"prefix-exact"}},{key:"multiRegex",get:function(){return/^\^"(.*)"$/}},{key:"singleRegex",get:function(){return/^\^(.*)$/}}]),t}(),D=function(){u(t,z);var e=a(t);function t(n){return o(this,t),e.call(this,n)}return n(t,[{key:"search",value:function(e){var t=!e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}],[{key:"type",get:function(){return"inverse-prefix-exact"}},{key:"multiRegex",get:function(){return/^!\^"(.*)"$/}},{key:"singleRegex",get:function(){return/^!\^(.*)$/}}]),t}(),U=function(){u(t,z);var e=a(t);function t(n){return o(this,t),e.call(this,n)}return n(t,[{key:"search",value:function(e){var t=e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[e.length-this.pattern.length,e.length-1]}}}],[{key:"type",get:function(){return"suffix-exact"}},{key:"multiRegex",get:function(){return/^"(.*)"\$$/}},{key:"singleRegex",get:function(){return/^(.*)\$$/}}]),t}(),V=function(){u(t,z);var e=a(t);function t(n){return o(this,t),e.call(this,n)}return n(t,[{key:"search",value:function(e){var t=!e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}],[{key:"type",get:function(){return"inverse-suffix-exact"}},{key:"multiRegex",get:function(){return/^!"(.*)"\$$/}},{key:"singleRegex",get:function(){return/^!(.*)\$$/}}]),t}(),G=function(){u(t,z);var e=a(t);function t(n){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.location,s=void 0===a?I.location:a,c=r.threshold,u=void 0===c?I.threshold:c,h=r.distance,l=void 0===h?I.distance:h,d=r.includeMatches,f=void 0===d?I.includeMatches:d,v=r.findAllMatches,g=void 0===v?I.findAllMatches:v,p=r.minMatchCharLength,y=void 0===p?I.minMatchCharLength:p,m=r.isCaseSensitive,k=void 0===m?I.isCaseSensitive:m,M=r.ignoreLocation,x=void 0===M?I.ignoreLocation:M;return o(this,t),(i=e.call(this,n))._bitapSearch=new W(n,{location:s,threshold:u,distance:l,includeMatches:f,findAllMatches:g,minMatchCharLength:y,isCaseSensitive:k,ignoreLocation:x}),i}return n(t,[{key:"search",value:function(e){return this._bitapSearch.searchIn(e)}}],[{key:"type",get:function(){return"fuzzy"}},{key:"multiRegex",get:function(){return/^"(.*)"$/}},{key:"singleRegex",get:function(){return/^(.*)$/}}]),t}(),H=function(){u(t,z);var e=a(t);function t(n){return o(this,t),e.call(this,n)}return n(t,[{key:"search",value:function(e){for(var t,n=0,i=[],r=this.pattern.length;(t=e.indexOf(this.pattern,n))>-1;)i.push([t,(n=t+r)-1]);var o=!!i.length;return{isMatch:o,score:o?0:1,indices:i}}}],[{key:"type",get:function(){return"include"}},{key:"multiRegex",get:function(){return/^'"(.*)"$/}},{key:"singleRegex",get:function(){return/^'(.*)$/}}]),t}(),Q=[K,H,q,D,V,U,P,G],X=Q.length,Y=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/;function Z(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.split("|").map((function(e){for(var n=e.trim().split(Y).filter((function(e){return e&&!!e.trim()})),i=[],r=0,o=n.length;r<o;r+=1){for(var a=n[r],s=!1,c=-1;!s&&++c<X;){var u=Q[c],h=u.isMultiMatch(a);h&&(i.push(new u(h,t)),s=!0)}if(!s)for(c=-1;++c<X;){var l=Q[c],d=l.isSingleMatch(a);if(d){i.push(new l(d,t));break}}}return i}))}var tt=new Set([G.type,H.type]),nt=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.isCaseSensitive,r=void 0===i?I.isCaseSensitive:i,a=n.includeMatches,s=void 0===a?I.includeMatches:a,c=n.minMatchCharLength,u=void 0===c?I.minMatchCharLength:c,h=n.ignoreLocation,l=void 0===h?I.ignoreLocation:h,d=n.findAllMatches,f=void 0===d?I.findAllMatches:d,v=n.location,g=void 0===v?I.location:v,p=n.threshold,y=void 0===p?I.threshold:p,m=n.distance,k=void 0===m?I.distance:m;o(this,t),this.query=null,this.options={isCaseSensitive:r,includeMatches:s,minMatchCharLength:u,findAllMatches:f,ignoreLocation:l,location:g,threshold:y,distance:k},this.pattern=r?e:e.toLowerCase(),this.query=Z(this.pattern,this.options)}return n(t,[{key:"searchIn",value:function(t){var n=this.query;if(!n)return{isMatch:!1,score:1};var i=this.options,r=i.includeMatches;t=i.isCaseSensitive?t:t.toLowerCase();for(var o=0,a=[],s=0,c=0,u=n.length;c<u;c+=1){var h=n[c];a.length=0,o=0;for(var l=0,d=h.length;l<d;l+=1){var f=h[l],v=f.search(t),g=v.indices,p=v.score;if(!v.isMatch){s=0,o=0,a.length=0;break}o+=1,s+=p,r&&(tt.has(f.constructor.type)?a=[].concat(e(a),e(g)):a.push(g))}if(o){var y={isMatch:!0,score:s/o};return r&&(y.indices=a),y}}return{isMatch:!1,score:1}}}],[{key:"condition",value:function(e,t){return t.useExtendedSearch}}]),t}(),et=[];function it(e,t){for(var n=0,i=et.length;n<i;n+=1){var r=et[n];if(r.condition(e,t))return new r(e,t)}return new W(e,t)}var rt=function(e){return!(!e.$and&&!e.$or)},ot=function(e){return!!e.$path},ut=function(e){return!g(e)&&M(e)&&!rt(e)},at=function(e){return i({},"$and",Object.keys(e).map((function(t){return i({},t,e[t])})))};function ct(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.auto,r=void 0===i||i,o=function e(n){var i=Object.keys(n),o=ot(n);if(!o&&i.length>1&&!rt(n))return e(at(n));if(ut(n)){var a=o?n.$path:i[0],s=o?n.$val:n[a];if(!k(s))throw new Error(L(a));var c={keyId:O(a),pattern:s};return r&&(c.searcher=it(s,t)),c}var u={children:[],operator:i[0]};return i.forEach((function(t){var i=n[t];g(i)&&i.forEach((function(t){u.children.push(e(t))}))})),u};return rt(e)||(e=at(e)),o(e)}function st(e,t){var n=t.ignoreFieldNorm,i=void 0===n?I.ignoreFieldNorm:n;e.forEach((function(e){var t=1;e.matches.forEach((function(e){var n=e.key,r=e.score,o=n?n.weight:null;t*=Math.pow(0===r&&o?Number.EPSILON:r,(o||1)*(i?1:e.norm))})),e.score=t}))}function vt(e,t){var n=e.matches;t.matches=[],p(n)&&n.forEach((function(e){if(p(e.indices)&&e.indices.length){var n={indices:e.indices,value:e.value};e.key&&(n.key=e.key.src),e.idx>-1&&(n.refIndex=e.idx),t.matches.push(n)}}))}function ft(e,t){t.score=e.score}function ht(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.includeMatches,r=void 0===i?I.includeMatches:i,o=n.includeScore,a=void 0===o?I.includeScore:o,s=[];return r&&s.push(vt),a&&s.push(ft),e.map((function(e){var n=e.idx,i={item:t[n],refIndex:n};return s.length&&s.forEach((function(t){t(e,i)})),i}))}var lt=function(){function i(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;o(this,i),this.options=t(t({},I),n),this._keyStore=new S(this.options.keys),this.setCollection(e,r)}return n(i,[{key:"setCollection",value:function(e,t){if(this._docs=e,t&&!(t instanceof C))throw new Error("Incorrect 'index' type");this._myIndex=t||F(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}},{key:"add",value:function(e){p(e)&&(this._docs.push(e),this._myIndex.add(e))}},{key:"remove",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return!1},t=[],n=0,i=this._docs.length;n<i;n+=1){var r=this._docs[n];e(r,n)&&(this.removeAt(n),n-=1,i-=1,t.push(r))}return t}},{key:"removeAt",value:function(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}},{key:"getIndex",value:function(){return this._myIndex}},{key:"search",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.limit,i=void 0===n?-1:n,r=this.options,o=r.includeMatches,a=r.includeScore,s=r.shouldSort,c=r.sortFn,u=r.ignoreFieldNorm,h=k(e)?k(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return st(h,{ignoreFieldNorm:u}),s&&h.sort(c),m(i)&&i>-1&&(h=h.slice(0,i)),ht(h,this._docs,{includeMatches:o,includeScore:a})}},{key:"_searchStringList",value:function(e){var t=it(e,this.options),n=[];return this._myIndex.records.forEach((function(e){var i=e.v,r=e.i,o=e.n;if(p(i)){var a=t.searchIn(i);a.isMatch&&n.push({item:i,idx:r,matches:[{score:a.score,value:i,norm:o,indices:a.indices}]})}})),n}},{key:"_searchLogical",value:function(t){var n=this,i=ct(t,this.options),r=function t(i,r,o){if(!i.children){var a=i.keyId,s=i.searcher,c=n._findMatches({key:n._keyStore.get(a),value:n._myIndex.getValueForItemAtKeyId(r,a),searcher:s});return c&&c.length?[{idx:o,item:r,matches:c}]:[]}for(var u=[],h=0,l=i.children.length;h<l;h+=1){var d=t(i.children[h],r,o);if(d.length)u.push.apply(u,e(d));else if("$and"===i.operator)return[]}return u},o={},a=[];return this._myIndex.records.forEach((function(t){var n=t.$,s=t.i;if(p(n)){var c=r(i,n,s);c.length&&(o[s]||(o[s]={idx:s,item:n,matches:[]},a.push(o[s])),c.forEach((function(t){var n;(n=o[s].matches).push.apply(n,e(t.matches))})))}})),a}},{key:"_searchObjectList",value:function(t){var n=this,i=it(t,this.options),r=this._myIndex,o=r.keys,a=[];return r.records.forEach((function(t){var r=t.$,s=t.i;if(p(r)){var c=[];o.forEach((function(t,o){c.push.apply(c,e(n._findMatches({key:t,value:r[o],searcher:i})))})),c.length&&a.push({idx:s,item:r,matches:c})}})),a}},{key:"_findMatches",value:function(e){var t=e.key,n=e.value,i=e.searcher;if(!p(n))return[];var r=[];if(g(n))n.forEach((function(e){var n=e.v,o=e.i,a=e.n;if(p(n)){var s=i.searchIn(n);s.isMatch&&r.push({score:s.score,key:t,value:n,idx:o,norm:a,indices:s.indices})}}));else{var o=n.v,a=n.n,s=i.searchIn(o);s.isMatch&&r.push({score:s.score,key:t,value:o,norm:a,indices:s.indices})}return r}}]),i}();function dt(e){return"string"==typeof e&&e.includes(".m3u8")}function yt(e){for(var t=[];e.parentNode&&"body"!=e.parentNode.nodeName.toLowerCase();)t.push(e=e.parentNode);return t}lt.version="6.6.2",lt.createIndex=F,lt.parseIndex=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getFn,i=void 0===n?I.getFn:n,r=t.fieldNormWeight,o=void 0===r?I.fieldNormWeight:r,a=e.keys,s=e.records,c=new C({getFn:i,fieldNormWeight:o});return c.setKeys(a),c.setIndexRecords(s),c},lt.config=I,lt.parseQuery=ct,function(){et.push.apply(et,arguments)}(nt);const gt=e=>e?["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(((t,n)=>(e[n]&&(t[n]=e[n]),t)),{cues:e.cues&&Array.prototype.map.call(e.cues,(function(e){return{startTime:e.startTime,endTime:e.endTime,text:e.text,id:e.id}}))}):null;function kt(e,t){var n,i,r,o;if(!e)return;if(!(null===(n=null==e?void 0:e.media)||void 0===n?void 0:n.textTracks)||0===(null===(r=null===(i=null==e?void 0:e.media)||void 0===i?void 0:i.textTracks)||void 0===r?void 0:r.length))return;const a=e.media.textTracks,s=(null===(o=e.config.preset)||void 0===o?void 0:o.search)||"";let c="";if(c=-1===e.captions.currentTrack?function(e){if(!e)return;const t=localStorage.getItem("presto-player-"+e.id+"-cues");return y(t)?"":JSON.parse(t)}(e):a[e.captions.currentTrack],y(c))return[];const u=gt(c);return y(u)?[]:((e,t,n)=>{if(!d(e))return[];if(y(t))return[];if(y(n))return[];const i=((e,t,n)=>{if(y(t))return[];if(y(n))return[];if(!d(e))return[];const i=Object.assign(Object.assign(Object.assign({},null==n?void 0:n.minMatchCharLength),null==n?void 0:n.threshold),{shouldSort:!1,includeMatches:!0,threshold:.3,keys:["text"]});return null!==t&&t&&0!==t.length?new lt(t,i).search(e):[]})(e,t,n);return i&&Array.prototype.map.call(i,(function(e){return{time:Math.ceil(e.item.startTime),label:""}}))})(t,null==u?void 0:u.cues,s)}function mt(e){var t;if(!e)return;if(!(null==e?void 0:e.elements)||!(null===(t=null==e?void 0:e.elements)||void 0===t?void 0:t.progress))return;let n=e.elements.progress.querySelectorAll(".plyr__progress__marker");if(!y(n))for(var i=0;i<n.length;i++)n[i].remove()}function Mt(e,t){if(!e)return;if(mt(e),!(null==t?void 0:t.length))return;const n=document.createDocumentFragment(),i=document.createDocumentFragment();t.forEach((t=>{const n=function(e,t,n){const i=document.createElement("span");return l(t)&&function(e,t){var n;null!==(n=e)&&"object"==typeof n&&1===n.nodeType&&"object"==typeof n.style&&"object"==typeof n.ownerDocument&&!y(t)&&Object.entries(t).filter((([,e])=>!h(e))).forEach((([t,n])=>e.setAttribute(t,n)))}(i,t),d("")&&(i.innerText=""),i}(0,{class:"plyr__progress__marker"}),r=t.time/e.duration*100+"%";n.addEventListener("click",(()=>{e.currentTime=t.time})),n.style.left=r,i.appendChild(n)})),n.appendChild(i),e.elements.markers={points:i,tip:null},e.elements.progress.appendChild(n)}function pt(e){var t,n;if(!(null===(n=null===(t=e.config.preset)||void 0===t?void 0:t.search)||void 0===n?void 0:n.enabled))return;if(0===e.media.textTracks.length)return;if(-1!==e.currentTrack)return;e.toggleCaptions(!0);let i=setInterval((()=>{var t;const n=null===(t=e.media.textTracks[0])||void 0===t?void 0:t.cues;(null==n?void 0:n.length)>0&&(function(e){var t,n,i;if(!e)return;if(!(null===(t=null==e?void 0:e.media)||void 0===t?void 0:t.textTracks)||0===(null===(i=null===(n=null==e?void 0:e.media)||void 0===n?void 0:n.textTracks)||void 0===i?void 0:i.length))return;const r="presto-player-"+e.id+"-cues",o=gt(e.media.textTracks[0]);localStorage.setItem(r,JSON.stringify(o))}(e),e.toggleCaptions(!1),clearInterval(i))}),200)}export{Mt as a,pt as c,yt as g,dt as i,mt as r,kt as s};