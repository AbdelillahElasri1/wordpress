import Player from"plyr";import saveTime from"./save-time";import setControls from"./custom-controls";import analytics from"./analytics";import customLogo from"./custom-logo";import setPoster from"./set-poster";import actions from"./actions";import ajaxProgress from"./ajax-progress";import getNonce from"./get-nonce";import fullscreen from"./fullscreen";import menuSizing from"./menu-sizing";export default function(t,e={}){const o={...e,...window?.prestoPlayer?.plugin_url?{iconUrl:`${window?.prestoPlayer?.plugin_url}img/${e?.preset?.skin?e.preset.skin:"default"}.svg`}:{},chapters:e?.chapters||[],controls:e?.controls||[],settings:Object.keys(e?.settings||{}).length?e.settings:{}};let r=new Player(t,o);return"undefined"!=typeof learndash_video_data&&import("../integrations/learndash").then((t=>{(0,t.default)(r)})),"undefined"!=typeof _tutorobject&&import("../integrations/tutor").then((t=>{(0,t.default)(r)})),void 0!==window.llms&&!0===prestoPlayer?.lifter?.isLesson&&import("../integrations/lifter/lifter").then((t=>{(0,t.default)(r)})),actions(r),fullscreen(r),menuSizing(r),customLogo(r),setPoster(r),setControls(r),window?.prestoPlayer?.isAdmin||(getNonce(r),ajaxProgress(o),saveTime(r),analytics(r)),r}