!function(){var e={4697:function(e,t,r){"use strict";var n=r(8247),o=r(6411),a=r(6686),l=r(7563),i=r(211),s=r(8160),c=r(2190),u=function(e,t,r){for(var n=0,a=0;n=a,a=(0,o.fj)(),38===n&&12===a&&(t[r]=1),!(0,o.r)(a);)(0,o.lp)();return(0,o.tP)(e,o.FK)},p=new WeakMap,d=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,r=e.parent,n=e.column===r.column&&e.line===r.line;"rule"!==r.type;)if(!(r=r.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||p.get(r))&&!n){p.set(e,!0);for(var l=[],i=function(e,t){return(0,o.cE)(function(e,t){var r=-1,n=44;do{switch((0,o.r)(n)){case 0:38===n&&12===(0,o.fj)()&&(t[r]=1),e[r]+=u(o.FK-1,t,r);break;case 2:e[r]+=(0,o.iF)(n);break;case 4:if(44===n){e[++r]=58===(0,o.fj)()?"&\f":"",t[r]=e[r].length;break}default:e[r]+=(0,a.Dp)(n)}}while(n=(0,o.lp)());return e}((0,o.un)(e),t))}(t,l),s=r.props,c=0,d=0;c<i.length;c++)for(var f=0;f<s.length;f++,d++)e.props[d]=l[c]?i[c].replace(/&\f/g,s[f]):s[f]+" "+i[c]}}},f=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function y(e,t){switch((0,a.vp)(e,t)){case 5103:return l.G$+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return l.G$+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return l.G$+e+l.uj+e+l.MS+e+e;case 6828:case 4268:return l.G$+e+l.MS+e+e;case 6165:return l.G$+e+l.MS+"flex-"+e+e;case 5187:return l.G$+e+(0,a.gx)(e,/(\w+).+(:[^]+)/,l.G$+"box-$1$2"+l.MS+"flex-$1$2")+e;case 5443:return l.G$+e+l.MS+"flex-item-"+(0,a.gx)(e,/flex-|-self/,"")+e;case 4675:return l.G$+e+l.MS+"flex-line-pack"+(0,a.gx)(e,/align-content|flex-|-self/,"")+e;case 5548:return l.G$+e+l.MS+(0,a.gx)(e,"shrink","negative")+e;case 5292:return l.G$+e+l.MS+(0,a.gx)(e,"basis","preferred-size")+e;case 6060:return l.G$+"box-"+(0,a.gx)(e,"-grow","")+l.G$+e+l.MS+(0,a.gx)(e,"grow","positive")+e;case 4554:return l.G$+(0,a.gx)(e,/([^-])(transform)/g,"$1"+l.G$+"$2")+e;case 6187:return(0,a.gx)((0,a.gx)((0,a.gx)(e,/(zoom-|grab)/,l.G$+"$1"),/(image-set)/,l.G$+"$1"),e,"")+e;case 5495:case 3959:return(0,a.gx)(e,/(image-set\([^]*)/,l.G$+"$1$`$1");case 4968:return(0,a.gx)((0,a.gx)(e,/(.+:)(flex-)?(.*)/,l.G$+"box-pack:$3"+l.MS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+l.G$+e+e;case 4095:case 3583:case 4068:case 2532:return(0,a.gx)(e,/(.+)-inline(.+)/,l.G$+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if((0,a.to)(e)-1-t>6)switch((0,a.uO)(e,t+1)){case 109:if(45!==(0,a.uO)(e,t+4))break;case 102:return(0,a.gx)(e,/(.+:)(.+)-([^]+)/,"$1"+l.G$+"$2-$3$1"+l.uj+(108==(0,a.uO)(e,t+3)?"$3":"$2-$3"))+e;case 115:return~(0,a.Cw)(e,"stretch")?y((0,a.gx)(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==(0,a.uO)(e,t+1))break;case 6444:switch((0,a.uO)(e,(0,a.to)(e)-3-(~(0,a.Cw)(e,"!important")&&10))){case 107:return(0,a.gx)(e,":",":"+l.G$)+e;case 101:return(0,a.gx)(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+l.G$+(45===(0,a.uO)(e,14)?"inline-":"")+"box$3$1"+l.G$+"$2$3$1"+l.MS+"$2box$3")+e}break;case 5936:switch((0,a.uO)(e,t+11)){case 114:return l.G$+e+l.MS+(0,a.gx)(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return l.G$+e+l.MS+(0,a.gx)(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return l.G$+e+l.MS+(0,a.gx)(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return l.G$+e+l.MS+e+e}return e}var v=[function(e,t,r,n){if(e.length>-1&&!e.return)switch(e.type){case l.h5:e.return=y(e.value,e.length);break;case l.lK:return(0,i.q)([(0,o.JG)(e,{value:(0,a.gx)(e.value,"@","@"+l.G$)})],n);case l.Fr:if(e.length)return(0,a.$e)(e.props,(function(t){switch((0,a.EQ)(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return(0,i.q)([(0,o.JG)(e,{props:[(0,a.gx)(t,/:(read-\w+)/,":"+l.uj+"$1")]})],n);case"::placeholder":return(0,i.q)([(0,o.JG)(e,{props:[(0,a.gx)(t,/:(plac\w+)/,":"+l.G$+"input-$1")]}),(0,o.JG)(e,{props:[(0,a.gx)(t,/:(plac\w+)/,":"+l.uj+"$1")]}),(0,o.JG)(e,{props:[(0,a.gx)(t,/:(plac\w+)/,l.MS+"input-$1")]})],n)}return""}))}}];t.Z=function(e){var t=e.key;if("css"===t){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var o,a,l=e.stylisPlugins||v,u={},p=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),r=1;r<t.length;r++)u[t[r]]=!0;p.push(e)}));var y,m=[d,f],h=[i.P,(0,s.cD)((function(e){y.insert(e)}))],b=(0,s.qR)(m.concat(l,h));a=function(e,t,r,n){var o;y=r,o=e?e+"{"+t.styles+"}":t.styles,(0,i.q)((0,c.MY)(o),b),n&&(g.inserted[t.name]=!0)};var g={key:t,sheet:new n.m({key:t,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:u,registered:{},insert:a};return g.sheet.hydrate(p),g}},8247:function(e,t,r){"use strict";r.d(t,{m:function(){return n}});var n=function(){function e(e){var t=this;this._insertTag=function(e){var r;r=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,r),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var r=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{r.insertRule(e,r.cssRules.length)}catch(e){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}()},7453:function(e,t,r){"use strict";r.d(t,{iv:function(){return i.Z},tZ:function(){return s}});r(4578);var n=r(9196),o=(r(3061),r(1299)),a=r(8087),l=r(6660),i=(r(9664),r(3998)),s=function(e,t){var r=arguments;if(null==t||!o.h.call(t,"css"))return n.createElement.apply(void 0,r);var a=r.length,l=new Array(a);l[0]=o.E,l[1]=(0,o.c)(e,t);for(var i=2;i<a;i++)l[i]=r[i];return n.createElement.apply(null,l)},c=(n.Component,function e(t){for(var r=t.length,n=0,o="";n<r;n++){var a=t[n];if(null!=a){var l=void 0;switch(typeof a){case"boolean":break;case"object":if(Array.isArray(a))l=e(a);else for(var i in l="",a)a[i]&&i&&(l&&(l+=" "),l+=i);break;default:l=a}l&&(o&&(o+=" "),o+=l)}}return o});function u(e,t,r){var n=[],o=(0,a.f)(e,n,r);return n.length<2?r:o+t(n)}var p=function(){return null};(0,o.w)((function(e,t){return(0,n.createElement)(o.T.Consumer,null,(function(r){var o=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var o=(0,l.O)(r,t.registered);return(0,a.M)(t,o,!1),t.key+"-"+o.name},i={css:o,cx:function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return u(t.registered,o,c(r))},theme:r},s=e.children(i),d=(0,n.createElement)(p,null);return(0,n.createElement)(n.Fragment,null,d,s)}))}))},1299:function(e,t,r){"use strict";r.d(t,{E:function(){return v},T:function(){return c},c:function(){return d},h:function(){return i},w:function(){return u}});var n=r(9196),o=r(3061),a=r(8087),l=r(6660),i=Object.prototype.hasOwnProperty,s=(0,n.createContext)("undefined"!=typeof HTMLElement?(0,o.Z)():null),c=(0,n.createContext)({}),u=(s.Provider,function(e){var t=function(t,r){return(0,n.createElement)(s.Consumer,null,(function(n){return e(t,n,r)}))};return(0,n.forwardRef)(t)}),p="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",d=function(e,t){var r={};for(var n in t)i.call(t,n)&&(r[n]=t[n]);return r[p]=e,r},f=function(){return null},y=function(e,t,r,o){var s=null===r?t.css:t.css(r);"string"==typeof s&&void 0!==e.registered[s]&&(s=e.registered[s]);var c=t[p],u=[s],d="";"string"==typeof t.className?d=(0,a.f)(e.registered,u,t.className):null!=t.className&&(d=t.className+" ");var y=(0,l.O)(u);(0,a.M)(e,y,"string"==typeof c),d+=e.key+"-"+y.name;var v={};for(var m in t)i.call(t,m)&&"css"!==m&&m!==p&&(v[m]=t[m]);v.ref=o,v.className=d;var h=(0,n.createElement)(c,v),b=(0,n.createElement)(f,null);return(0,n.createElement)(n.Fragment,null,b,h)},v=u((function(e,t,r){return"function"==typeof e.css?(0,n.createElement)(c.Consumer,null,(function(n){return y(t,e,n,r)})):y(t,e,null,r)}))},3061:function(e,t,r){"use strict";var n=r(9664),o=r(8285),a="/*|*/",l=a+"}";function i(e){e&&s.current.insert(e+"}")}var s={current:null},c=function(e,t,r,n,o,c,u,p,d,f){switch(e){case 1:switch(t.charCodeAt(0)){case 64:return s.current.insert(t+";"),"";case 108:if(98===t.charCodeAt(2))return""}break;case 2:if(0===p)return t+a;break;case 3:switch(p){case 102:case 112:return s.current.insert(r[0]+t),"";default:return t+(0===f?a:"")}case-2:t.split(l).forEach(i)}};t.Z=function(e){void 0===e&&(e={});var t,r=e.key||"css";void 0!==e.prefix&&(t={prefix:e.prefix});var a,l=new o.Z(t),i={};a=e.container||document.head;var u,p=document.querySelectorAll("style[data-emotion-"+r+"]");Array.prototype.forEach.call(p,(function(e){e.getAttribute("data-emotion-"+r).split(" ").forEach((function(e){i[e]=!0})),e.parentNode!==a&&a.appendChild(e)})),l.use(e.stylisPlugins)(c),u=function(e,t,r,n){var o=t.name;s.current=r,l(e,t.styles),n&&(d.inserted[o]=!0)};var d={key:r,sheet:new n.m({key:r,container:a,nonce:e.nonce,speedy:e.speedy}),nonce:e.nonce,inserted:i,registered:{},insert:u};return d}},3998:function(e,t,r){"use strict";var n=r(6660);t.Z=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.O)(t)}},2506:function(e,t){"use strict";t.Z=function(e){for(var t,r=0,n=0,o=e.length;o>=4;++n,o-=4)t=1540483477*(65535&(t=255&e.charCodeAt(n)|(255&e.charCodeAt(++n))<<8|(255&e.charCodeAt(++n))<<16|(255&e.charCodeAt(++n))<<24))+(59797*(t>>>16)<<16),r=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&r)+(59797*(r>>>16)<<16);switch(o){case 3:r^=(255&e.charCodeAt(n+2))<<16;case 2:r^=(255&e.charCodeAt(n+1))<<8;case 1:r=1540483477*(65535&(r^=255&e.charCodeAt(n)))+(59797*(r>>>16)<<16)}return(((r=1540483477*(65535&(r^=r>>>13))+(59797*(r>>>16)<<16))^r>>>15)>>>0).toString(36)}},5042:function(e,t){"use strict";t.Z=function(e){var t=Object.create(null);return function(r){return void 0===t[r]&&(t[r]=e(r)),t[r]}}},2443:function(e,t,r){"use strict";r.d(t,{E:function(){return v},T:function(){return p},c:function(){return f},h:function(){return s},w:function(){return u}});var n=r(9196),o=r(4697),a=r(7728),l=r(8202),i=r(7278),s={}.hasOwnProperty,c=(0,n.createContext)("undefined"!=typeof HTMLElement?(0,o.Z)({key:"css"}):null);c.Provider;var u=function(e){return(0,n.forwardRef)((function(t,r){var o=(0,n.useContext)(c);return e(t,o,r)}))},p=(0,n.createContext)({}),d="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",f=function(e,t){var r={};for(var n in t)s.call(t,n)&&(r[n]=t[n]);return r[d]=e,r},y=function(e){var t=e.cache,r=e.serialized,n=e.isStringTag;return(0,a.hC)(t,r,n),(0,i.L)((function(){return(0,a.My)(t,r,n)})),null},v=u((function(e,t,r){var o=e.css;"string"==typeof o&&void 0!==t.registered[o]&&(o=t.registered[o]);var i=e[d],c=[o],u="";"string"==typeof e.className?u=(0,a.fp)(t.registered,c,e.className):null!=e.className&&(u=e.className+" ");var f=(0,l.O)(c,void 0,(0,n.useContext)(p));u+=t.key+"-"+f.name;var v={};for(var m in e)s.call(e,m)&&"css"!==m&&m!==d&&(v[m]=e[m]);return v.ref=r,v.className=u,(0,n.createElement)(n.Fragment,null,(0,n.createElement)(y,{cache:t,serialized:f,isStringTag:"string"==typeof i}),(0,n.createElement)(i,v))}))},917:function(e,t,r){"use strict";r.d(t,{tZ:function(){return a}});var n=r(9196),o=(r(4697),r(2443)),a=(r(8679),r(8202),r(7278),function(e,t){var r=arguments;if(null==t||!o.h.call(t,"css"))return n.createElement.apply(void 0,r);var a=r.length,l=new Array(a);l[0]=o.E,l[1]=(0,o.c)(e,t);for(var i=2;i<a;i++)l[i]=r[i];return n.createElement.apply(null,l)})},8491:function(e,t){"use strict";t.Z=function(e){for(var t,r=0,n=0,o=e.length;o>=4;++n,o-=4)t=1540483477*(65535&(t=255&e.charCodeAt(n)|(255&e.charCodeAt(++n))<<8|(255&e.charCodeAt(++n))<<16|(255&e.charCodeAt(++n))<<24))+(59797*(t>>>16)<<16),r=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&r)+(59797*(r>>>16)<<16);switch(o){case 3:r^=(255&e.charCodeAt(n+2))<<16;case 2:r^=(255&e.charCodeAt(n+1))<<8;case 1:r=1540483477*(65535&(r^=255&e.charCodeAt(n)))+(59797*(r>>>16)<<16)}return(((r=1540483477*(65535&(r^=r>>>13))+(59797*(r>>>16)<<16))^r>>>15)>>>0).toString(36)}},8202:function(e,t,r){"use strict";r.d(t,{O:function(){return v}});var n=r(8491),o=r(8687),a=r(5042),l=/[A-Z]|^ms/g,i=/_EMO_([^_]+?)_([^]*?)_EMO_/g,s=function(e){return 45===e.charCodeAt(1)},c=function(e){return null!=e&&"boolean"!=typeof e},u=(0,a.Z)((function(e){return s(e)?e:e.replace(l,"-$&").toLowerCase()})),p=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(i,(function(e,t,r){return f={name:t,styles:r,next:f},t}))}return 1===o.Z[e]||s(e)||"number"!=typeof t||0===t?t:t+"px"};function d(e,t,r){if(null==r)return"";if(void 0!==r.__emotion_styles)return r;switch(typeof r){case"boolean":return"";case"object":if(1===r.anim)return f={name:r.name,styles:r.styles,next:f},r.name;if(void 0!==r.styles){var n=r.next;if(void 0!==n)for(;void 0!==n;)f={name:n.name,styles:n.styles,next:f},n=n.next;return r.styles+";"}return function(e,t,r){var n="";if(Array.isArray(r))for(var o=0;o<r.length;o++)n+=d(e,t,r[o])+";";else for(var a in r){var l=r[a];if("object"!=typeof l)null!=t&&void 0!==t[l]?n+=a+"{"+t[l]+"}":c(l)&&(n+=u(a)+":"+p(a,l)+";");else if(!Array.isArray(l)||"string"!=typeof l[0]||null!=t&&void 0!==t[l[0]]){var i=d(e,t,l);switch(a){case"animation":case"animationName":n+=u(a)+":"+i+";";break;default:n+=a+"{"+i+"}"}}else for(var s=0;s<l.length;s++)c(l[s])&&(n+=u(a)+":"+p(a,l[s])+";")}return n}(e,t,r);case"function":if(void 0!==e){var o=f,a=r(e);return f=o,d(e,t,a)}}if(null==t)return r;var l=t[r];return void 0!==l?l:r}var f,y=/label:\s*([^\s;\n{]+)\s*(;|$)/g,v=function(e,t,r){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var o=!0,a="";f=void 0;var l=e[0];null==l||void 0===l.raw?(o=!1,a+=d(r,t,l)):a+=l[0];for(var i=1;i<e.length;i++)a+=d(r,t,e[i]),o&&(a+=l[i]);y.lastIndex=0;for(var s,c="";null!==(s=y.exec(a));)c+="-"+s[1];return{name:(0,n.Z)(a)+c,styles:a,next:f}}},8687:function(e,t){"use strict";t.Z={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}},7728:function(e,t,r){"use strict";function n(e,t,r){var n="";return r.split(" ").forEach((function(r){void 0!==e[r]?t.push(e[r]+";"):n+=r+" "})),n}r.d(t,{My:function(){return a},fp:function(){return n},hC:function(){return o}});var o=function(e,t,r){var n=e.key+"-"+t.name;!1===r&&void 0===e.registered[n]&&(e.registered[n]=t.styles)},a=function(e,t,r){o(e,t,r);var n=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var a=t;do{e.insert(t===a?"."+n:"",a,e.sheet,!0),a=a.next}while(void 0!==a)}}},6660:function(e,t,r){"use strict";r.d(t,{O:function(){return v}});var n=r(2506),o=r(351),a=r(7056),l=/[A-Z]|^ms/g,i=/_EMO_([^_]+?)_([^]*?)_EMO_/g,s=function(e){return 45===e.charCodeAt(1)},c=function(e){return null!=e&&"boolean"!=typeof e},u=(0,a.Z)((function(e){return s(e)?e:e.replace(l,"-$&").toLowerCase()})),p=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(i,(function(e,t,r){return f={name:t,styles:r,next:f},t}))}return 1===o.Z[e]||s(e)||"number"!=typeof t||0===t?t:t+"px"};function d(e,t,r,n){if(null==r)return"";if(void 0!==r.__emotion_styles)return r;switch(typeof r){case"boolean":return"";case"object":if(1===r.anim)return f={name:r.name,styles:r.styles,next:f},r.name;if(void 0!==r.styles){var o=r.next;if(void 0!==o)for(;void 0!==o;)f={name:o.name,styles:o.styles,next:f},o=o.next;return r.styles+";"}return function(e,t,r){var n="";if(Array.isArray(r))for(var o=0;o<r.length;o++)n+=d(e,t,r[o],!1);else for(var a in r){var l=r[a];if("object"!=typeof l)null!=t&&void 0!==t[l]?n+=a+"{"+t[l]+"}":c(l)&&(n+=u(a)+":"+p(a,l)+";");else if(!Array.isArray(l)||"string"!=typeof l[0]||null!=t&&void 0!==t[l[0]]){var i=d(e,t,l,!1);switch(a){case"animation":case"animationName":n+=u(a)+":"+i+";";break;default:n+=a+"{"+i+"}"}}else for(var s=0;s<l.length;s++)c(l[s])&&(n+=u(a)+":"+p(a,l[s])+";")}return n}(e,t,r);case"function":if(void 0!==e){var a=f,l=r(e);return f=a,d(e,t,l,n)}}if(null==t)return r;var i=t[r];return void 0===i||n?r:i}var f,y=/label:\s*([^\s;\n{]+)\s*;/g,v=function(e,t,r){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var o=!0,a="";f=void 0;var l=e[0];null==l||void 0===l.raw?(o=!1,a+=d(r,t,l,!1)):a+=l[0];for(var i=1;i<e.length;i++)a+=d(r,t,e[i],46===a.charCodeAt(a.length-1)),o&&(a+=l[i]);y.lastIndex=0;for(var s,c="";null!==(s=y.exec(a));)c+="-"+s[1];return{name:(0,n.Z)(a)+c,styles:a,next:f}}},7056:function(e,t){"use strict";t.Z=function(e){var t={};return function(r){return void 0===t[r]&&(t[r]=e(r)),t[r]}}},9664:function(e,t,r){"use strict";r.d(t,{m:function(){return n}});var n=function(){function e(e){this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.before=null}var t=e.prototype;return t.insert=function(e){if(this.ctr%(this.isSpeedy?65e3:1)==0){var t,r=function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t}(this);t=0===this.tags.length?this.before:this.tags[this.tags.length-1].nextSibling,this.container.insertBefore(r,t),this.tags.push(r)}var n=this.tags[this.tags.length-1];if(this.isSpeedy){var o=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(n);try{var a=105===e.charCodeAt(1)&&64===e.charCodeAt(0);o.insertRule(e,a?0:o.cssRules.length)}catch(e){}}else n.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}()},6774:function(e,t,r){"use strict";r.d(t,{Z:function(){return E}});var n=r(7462),o=r(9196),a=r(5042),l=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,i=(0,a.Z)((function(e){return l.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),s=r(2443);function c(e,t,r){var n="";return r.split(" ").forEach((function(r){void 0!==e[r]?t.push(e[r]+";"):n+=r+" "})),n}var u=function(e,t,r){var n=e.key+"-"+t.name;!1===r&&void 0===e.registered[n]&&(e.registered[n]=t.styles)},p=function(e){for(var t,r=0,n=0,o=e.length;o>=4;++n,o-=4)t=1540483477*(65535&(t=255&e.charCodeAt(n)|(255&e.charCodeAt(++n))<<8|(255&e.charCodeAt(++n))<<16|(255&e.charCodeAt(++n))<<24))+(59797*(t>>>16)<<16),r=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&r)+(59797*(r>>>16)<<16);switch(o){case 3:r^=(255&e.charCodeAt(n+2))<<16;case 2:r^=(255&e.charCodeAt(n+1))<<8;case 1:r=1540483477*(65535&(r^=255&e.charCodeAt(n)))+(59797*(r>>>16)<<16)}return(((r=1540483477*(65535&(r^=r>>>13))+(59797*(r>>>16)<<16))^r>>>15)>>>0).toString(36)},d={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},f=/[A-Z]|^ms/g,y=/_EMO_([^_]+?)_([^]*?)_EMO_/g,v=function(e){return 45===e.charCodeAt(1)},m=function(e){return null!=e&&"boolean"!=typeof e},h=(0,a.Z)((function(e){return v(e)?e:e.replace(f,"-$&").toLowerCase()})),b=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(y,(function(e,t,r){return Z={name:t,styles:r,next:Z},t}))}return 1===d[e]||v(e)||"number"!=typeof t||0===t?t:t+"px"};function g(e,t,r){if(null==r)return"";if(void 0!==r.__emotion_styles)return r;switch(typeof r){case"boolean":return"";case"object":if(1===r.anim)return Z={name:r.name,styles:r.styles,next:Z},r.name;if(void 0!==r.styles){var n=r.next;if(void 0!==n)for(;void 0!==n;)Z={name:n.name,styles:n.styles,next:Z},n=n.next;return r.styles+";"}return function(e,t,r){var n="";if(Array.isArray(r))for(var o=0;o<r.length;o++)n+=g(e,t,r[o])+";";else for(var a in r){var l=r[a];if("object"!=typeof l)null!=t&&void 0!==t[l]?n+=a+"{"+t[l]+"}":m(l)&&(n+=h(a)+":"+b(a,l)+";");else if(!Array.isArray(l)||"string"!=typeof l[0]||null!=t&&void 0!==t[l[0]]){var i=g(e,t,l);switch(a){case"animation":case"animationName":n+=h(a)+":"+i+";";break;default:n+=a+"{"+i+"}"}}else for(var s=0;s<l.length;s++)m(l[s])&&(n+=h(a)+":"+b(a,l[s])+";")}return n}(e,t,r);case"function":if(void 0!==e){var o=Z,a=r(e);return Z=o,g(e,t,a)}}if(null==t)return r;var l=t[r];return void 0!==l?l:r}var Z,w=/label:\s*([^\s;\n{]+)\s*(;|$)/g,_=function(e,t,r){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var n=!0,o="";Z=void 0;var a=e[0];null==a||void 0===a.raw?(n=!1,o+=g(r,t,a)):o+=a[0];for(var l=1;l<e.length;l++)o+=g(r,t,e[l]),n&&(o+=a[l]);w.lastIndex=0;for(var i,s="";null!==(i=w.exec(o));)s+="-"+i[1];return{name:p(o)+s,styles:o,next:Z}},k=r(7278),x=i,C=function(e){return"theme"!==e},P=function(e){return"string"==typeof e&&e.charCodeAt(0)>96?x:C},O=function(e,t,r){var n;if(t){var o=t.shouldForwardProp;n=e.__emotion_forwardProp&&o?function(t){return e.__emotion_forwardProp(t)&&o(t)}:o}return"function"!=typeof n&&r&&(n=e.__emotion_forwardProp),n},S=function(e){var t=e.cache,r=e.serialized,n=e.isStringTag;return u(t,r,n),(0,k.L)((function(){return function(e,t,r){u(e,t,r);var n=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var o=t;do{e.insert(t===o?"."+n:"",o,e.sheet,!0),o=o.next}while(void 0!==o)}}(t,r,n)})),null},E=function e(t,r){var a,l,i=t.__emotion_real===t,u=i&&t.__emotion_base||t;void 0!==r&&(a=r.label,l=r.target);var p=O(t,r,i),d=p||P(u),f=!d("as");return function(){var y=arguments,v=i&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==a&&v.push("label:"+a+";"),null==y[0]||void 0===y[0].raw)v.push.apply(v,y);else{v.push(y[0][0]);for(var m=y.length,h=1;h<m;h++)v.push(y[h],y[0][h])}var b=(0,s.w)((function(e,t,r){var n=f&&e.as||u,a="",i=[],y=e;if(null==e.theme){for(var m in y={},e)y[m]=e[m];y.theme=(0,o.useContext)(s.T)}"string"==typeof e.className?a=c(t.registered,i,e.className):null!=e.className&&(a=e.className+" ");var h=_(v.concat(i),t.registered,y);a+=t.key+"-"+h.name,void 0!==l&&(a+=" "+l);var b=f&&void 0===p?P(n):d,g={};for(var Z in e)f&&"as"===Z||b(Z)&&(g[Z]=e[Z]);return g.className=a,g.ref=r,(0,o.createElement)(o.Fragment,null,(0,o.createElement)(S,{cache:t,serialized:h,isStringTag:"string"==typeof n}),(0,o.createElement)(n,g))}));return b.displayName=void 0!==a?a:"Styled("+("string"==typeof u?u:u.displayName||u.name||"Component")+")",b.defaultProps=t.defaultProps,b.__emotion_real=b,b.__emotion_base=u,b.__emotion_styles=v,b.__emotion_forwardProp=p,Object.defineProperty(b,"toString",{value:function(){return"."+l}}),b.withComponent=function(t,o){return e(t,(0,n.Z)({},r,o,{shouldForwardProp:O(b,o,!0)})).apply(void 0,v)},b}}},8285:function(e,t){"use strict";t.Z=function(e){function t(e,n,s,c,d){for(var f,y,v,m,Z,_=0,k=0,x=0,C=0,P=0,A=0,D=v=f=0,B=0,L=0,M=0,I=0,F=s.length,U=F-1,V="",z="",$="",G="";B<F;){if(y=s.charCodeAt(B),B===U&&0!==k+C+x+_&&(0!==k&&(y=47===k?10:47),C=x=_=0,F++,U++),0===k+C+x+_){if(B===U&&(0<L&&(V=V.replace(p,"")),0<V.trim().length)){switch(y){case 32:case 9:case 59:case 13:case 10:break;default:V+=s.charAt(B)}y=59}switch(y){case 123:for(f=(V=V.trim()).charCodeAt(0),v=1,I=++B;B<F;){switch(y=s.charCodeAt(B)){case 123:v++;break;case 125:v--;break;case 47:switch(y=s.charCodeAt(B+1)){case 42:case 47:e:{for(D=B+1;D<U;++D)switch(s.charCodeAt(D)){case 47:if(42===y&&42===s.charCodeAt(D-1)&&B+2!==D){B=D+1;break e}break;case 10:if(47===y){B=D+1;break e}}B=D}}break;case 91:y++;case 40:y++;case 34:case 39:for(;B++<U&&s.charCodeAt(B)!==y;);}if(0===v)break;B++}if(v=s.substring(I,B),0===f&&(f=(V=V.replace(u,"").trim()).charCodeAt(0)),64===f){switch(0<L&&(V=V.replace(p,"")),y=V.charCodeAt(1)){case 100:case 109:case 115:case 45:L=n;break;default:L=N}if(I=(v=t(n,L,v,y,d+1)).length,0<T&&(Z=i(3,v,L=r(N,V,M),n,S,O,I,y,d,c),V=L.join(""),void 0!==Z&&0===(I=(v=Z.trim()).length)&&(y=0,v="")),0<I)switch(y){case 115:V=V.replace(w,l);case 100:case 109:case 45:v=V+"{"+v+"}";break;case 107:v=(V=V.replace(h,"$1 $2"))+"{"+v+"}",v=1===j||2===j&&a("@"+v,3)?"@-webkit-"+v+"@"+v:"@"+v;break;default:v=V+v,112===c&&(z+=v,v="")}else v=""}else v=t(n,r(n,V,M),v,c,d+1);$+=v,v=M=L=D=f=0,V="",y=s.charCodeAt(++B);break;case 125:case 59:if(1<(I=(V=(0<L?V.replace(p,""):V).trim()).length))switch(0===D&&(f=V.charCodeAt(0),45===f||96<f&&123>f)&&(I=(V=V.replace(" ",":")).length),0<T&&void 0!==(Z=i(1,V,n,e,S,O,z.length,c,d,c))&&0===(I=(V=Z.trim()).length)&&(V="\0\0"),f=V.charCodeAt(0),y=V.charCodeAt(1),f){case 0:break;case 64:if(105===y||99===y){G+=V+s.charAt(B);break}default:58!==V.charCodeAt(I-1)&&(z+=o(V,f,y,V.charCodeAt(2)))}M=L=D=f=0,V="",y=s.charCodeAt(++B)}}switch(y){case 13:case 10:47===k?k=0:0===1+f&&107!==c&&0<V.length&&(L=1,V+="\0"),0<T*R&&i(0,V,n,e,S,O,z.length,c,d,c),O=1,S++;break;case 59:case 125:if(0===k+C+x+_){O++;break}default:switch(O++,m=s.charAt(B),y){case 9:case 32:if(0===C+_+k)switch(P){case 44:case 58:case 9:case 32:m="";break;default:32!==y&&(m=" ")}break;case 0:m="\\0";break;case 12:m="\\f";break;case 11:m="\\v";break;case 38:0===C+k+_&&(L=M=1,m="\f"+m);break;case 108:if(0===C+k+_+E&&0<D)switch(B-D){case 2:112===P&&58===s.charCodeAt(B-3)&&(E=P);case 8:111===A&&(E=A)}break;case 58:0===C+k+_&&(D=B);break;case 44:0===k+x+C+_&&(L=1,m+="\r");break;case 34:case 39:0===k&&(C=C===y?0:0===C?y:C);break;case 91:0===C+k+x&&_++;break;case 93:0===C+k+x&&_--;break;case 41:0===C+k+_&&x--;break;case 40:0===C+k+_&&(0===f&&(2*P+3*A==533||(f=1)),x++);break;case 64:0===k+x+C+_+D+v&&(v=1);break;case 42:case 47:if(!(0<C+_+x))switch(k){case 0:switch(2*y+3*s.charCodeAt(B+1)){case 235:k=47;break;case 220:I=B,k=42}break;case 42:47===y&&42===P&&I+2!==B&&(33===s.charCodeAt(I+2)&&(z+=s.substring(I,B+1)),m="",k=0)}}0===k&&(V+=m)}A=P,P=y,B++}if(0<(I=z.length)){if(L=n,0<T&&void 0!==(Z=i(2,z,L,e,S,O,I,c,d,c))&&0===(z=Z).length)return G+z+$;if(z=L.join(",")+"{"+z+"}",0!=j*E){switch(2!==j||a(z,2)||(E=0),E){case 111:z=z.replace(g,":-moz-$1")+z;break;case 112:z=z.replace(b,"::-webkit-input-$1")+z.replace(b,"::-moz-$1")+z.replace(b,":-ms-input-$1")+z}E=0}}return G+z+$}function r(e,t,r){var o=t.trim().split(v);t=o;var a=o.length,l=e.length;switch(l){case 0:case 1:var i=0;for(e=0===l?"":e[0]+" ";i<a;++i)t[i]=n(e,t[i],r).trim();break;default:var s=i=0;for(t=[];i<a;++i)for(var c=0;c<l;++c)t[s++]=n(e[c]+" ",o[i],r).trim()}return t}function n(e,t,r){var n=t.charCodeAt(0);switch(33>n&&(n=(t=t.trim()).charCodeAt(0)),n){case 38:return t.replace(m,"$1"+e.trim());case 58:return e.trim()+t.replace(m,"$1"+e.trim());default:if(0<1*r&&0<t.indexOf("\f"))return t.replace(m,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function o(e,t,r,n){var l=e+";",i=2*t+3*r+4*n;if(944===i){e=l.indexOf(":",9)+1;var s=l.substring(e,l.length-1).trim();return s=l.substring(0,e).trim()+s+";",1===j||2===j&&a(s,1)?"-webkit-"+s+s:s}if(0===j||2===j&&!a(l,1))return l;switch(i){case 1015:return 97===l.charCodeAt(10)?"-webkit-"+l+l:l;case 951:return 116===l.charCodeAt(3)?"-webkit-"+l+l:l;case 963:return 110===l.charCodeAt(5)?"-webkit-"+l+l:l;case 1009:if(100!==l.charCodeAt(4))break;case 969:case 942:return"-webkit-"+l+l;case 978:return"-webkit-"+l+"-moz-"+l+l;case 1019:case 983:return"-webkit-"+l+"-moz-"+l+"-ms-"+l+l;case 883:if(45===l.charCodeAt(8))return"-webkit-"+l+l;if(0<l.indexOf("image-set(",11))return l.replace(P,"$1-webkit-$2")+l;break;case 932:if(45===l.charCodeAt(4))switch(l.charCodeAt(5)){case 103:return"-webkit-box-"+l.replace("-grow","")+"-webkit-"+l+"-ms-"+l.replace("grow","positive")+l;case 115:return"-webkit-"+l+"-ms-"+l.replace("shrink","negative")+l;case 98:return"-webkit-"+l+"-ms-"+l.replace("basis","preferred-size")+l}return"-webkit-"+l+"-ms-"+l+l;case 964:return"-webkit-"+l+"-ms-flex-"+l+l;case 1023:if(99!==l.charCodeAt(8))break;return"-webkit-box-pack"+(s=l.substring(l.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+l+"-ms-flex-pack"+s+l;case 1005:return f.test(l)?l.replace(d,":-webkit-")+l.replace(d,":-moz-")+l:l;case 1e3:switch(t=(s=l.substring(13).trim()).indexOf("-")+1,s.charCodeAt(0)+s.charCodeAt(t)){case 226:s=l.replace(Z,"tb");break;case 232:s=l.replace(Z,"tb-rl");break;case 220:s=l.replace(Z,"lr");break;default:return l}return"-webkit-"+l+"-ms-"+s+l;case 1017:if(-1===l.indexOf("sticky",9))break;case 975:switch(t=(l=e).length-10,i=(s=(33===l.charCodeAt(t)?l.substring(0,t):l).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|s.charCodeAt(7))){case 203:if(111>s.charCodeAt(8))break;case 115:l=l.replace(s,"-webkit-"+s)+";"+l;break;case 207:case 102:l=l.replace(s,"-webkit-"+(102<i?"inline-":"")+"box")+";"+l.replace(s,"-webkit-"+s)+";"+l.replace(s,"-ms-"+s+"box")+";"+l}return l+";";case 938:if(45===l.charCodeAt(5))switch(l.charCodeAt(6)){case 105:return s=l.replace("-items",""),"-webkit-"+l+"-webkit-box-"+s+"-ms-flex-"+s+l;case 115:return"-webkit-"+l+"-ms-flex-item-"+l.replace(k,"")+l;default:return"-webkit-"+l+"-ms-flex-line-pack"+l.replace("align-content","").replace(k,"")+l}break;case 973:case 989:if(45!==l.charCodeAt(3)||122===l.charCodeAt(4))break;case 931:case 953:if(!0===C.test(e))return 115===(s=e.substring(e.indexOf(":")+1)).charCodeAt(0)?o(e.replace("stretch","fill-available"),t,r,n).replace(":fill-available",":stretch"):l.replace(s,"-webkit-"+s)+l.replace(s,"-moz-"+s.replace("fill-",""))+l;break;case 962:if(l="-webkit-"+l+(102===l.charCodeAt(5)?"-ms-"+l:"")+l,211===r+n&&105===l.charCodeAt(13)&&0<l.indexOf("transform",10))return l.substring(0,l.indexOf(";",27)+1).replace(y,"$1-webkit-$2")+l}return l}function a(e,t){var r=e.indexOf(1===t?":":"{"),n=e.substring(0,3!==t?r:10);return r=e.substring(r+1,e.length-1),D(2!==t?n:n.replace(x,"$1"),r,t)}function l(e,t){var r=o(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return r!==t+";"?r.replace(_," or ($1)").substring(4):"("+t+")"}function i(e,t,r,n,o,a,l,i,s,u){for(var p,d=0,f=t;d<T;++d)switch(p=A[d].call(c,e,f,r,n,o,a,l,i,s,u)){case void 0:case!1:case!0:case null:break;default:f=p}if(f!==t)return f}function s(e){return void 0!==(e=e.prefix)&&(D=null,e?"function"!=typeof e?j=1:(j=2,D=e):j=0),s}function c(e,r){var n=e;if(33>n.charCodeAt(0)&&(n=n.trim()),n=[n],0<T){var o=i(-1,r,n,n,S,O,0,0,0,0);void 0!==o&&"string"==typeof o&&(r=o)}var a=t(N,n,r,0,0);return 0<T&&void 0!==(o=i(-2,a,n,n,S,O,a.length,0,0,0))&&(a=o),E=0,O=S=1,a}var u=/^\0+/g,p=/[\0\r\f]/g,d=/: */g,f=/zoo|gra/,y=/([,: ])(transform)/g,v=/,\r+?/g,m=/([\t\r\n ])*\f?&/g,h=/@(k\w+)\s*(\S*)\s*/,b=/::(place)/g,g=/:(read-only)/g,Z=/[svh]\w+-[tblr]{2}/,w=/\(\s*(.*)\s*\)/g,_=/([\s\S]*?);/g,k=/-self|flex-/g,x=/[^]*?(:[rp][el]a[\w-]+)[^]*/,C=/stretch|:\s*\w+\-(?:conte|avail)/,P=/([^-])(image-set\()/,O=1,S=1,E=0,j=1,N=[],A=[],T=0,D=null,R=0;return c.use=function e(t){switch(t){case void 0:case null:T=A.length=0;break;default:if("function"==typeof t)A[T++]=t;else if("object"==typeof t)for(var r=0,n=t.length;r<n;++r)e(t[r]);else R=0|!!t}return e},c.set=s,void 0!==e&&s(e),c}},351:function(e,t){"use strict";t.Z={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}},7278:function(e,t,r){"use strict";r.d(t,{L:function(){return a}});var n=r(9196),o=!!n.useInsertionEffect&&n.useInsertionEffect,a=o||function(e){return e()};o||n.useLayoutEffect},8087:function(e,t,r){"use strict";function n(e,t,r){var n="";return r.split(" ").forEach((function(r){void 0!==e[r]?t.push(e[r]):n+=r+" "})),n}r.d(t,{M:function(){return o},f:function(){return n}});var o=function(e,t,r){var n=e.key+"-"+t.name;if(!1===r&&void 0===e.registered[n]&&(e.registered[n]=t.styles),void 0===e.inserted[t.name]){var o=t;do{e.insert("."+n,o,e.sheet,!0),o=o.next}while(void 0!==o)}}},209:function(e,t,r){"use strict";r.d(t,{UP:function(){return o},Zs:function(){return i},pv:function(){return l},zi:function(){return a}});var n=r(3975),o=(0,n.o)("presto-cta-overlay-ui"),a=(0,n.o)("presto-email-overlay-ui"),l=(0,n.o)("presto-player"),i=(0,n.o)("presto-search-bar-ui")},3975:function(e,t,r){"use strict";r.d(t,{o:function(){return f}});var n=r(5671),o=r(3144),a=r(136),l=r(2963),i=r(1120),s=r(9196),c=r.n(s),u=r(3269),p=r(1777),d=r(8314);var f=function(e,t,r,f){void 0!==f&&f();var y=(0,u.o)(e),v=function(t){(0,a.Z)(v,t);var c,u,f=(c=v,u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=(0,i.Z)(c);if(u){var r=(0,i.Z)(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return(0,l.Z)(this,e)});function v(e){var t;return(0,n.Z)(this,v),(t=f.call(this,e)).setComponentElRef=function(e){t.componentEl=e},t}return(0,o.Z)(v,[{key:"componentDidMount",value:function(){this.componentDidUpdate(this.props)}},{key:"componentDidUpdate",value:function(e){(0,p.D6)(this.componentEl,this.props,e)}},{key:"render",value:function(){var t=this.props,n=t.children,o=t.forwardedRef,a=t.style,l=(t.className,t.ref,function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r}(t,["children","forwardedRef","style","className","ref"])),i=Object.keys(l).reduce((function(e,t){if(0===t.indexOf("on")&&t[2]===t[2].toUpperCase()){var r=t.substring(2).toLowerCase();"undefined"!=typeof document&&(0,p.tt)(r)&&(e[t]=l[t])}else e[t]=l[t];return e}),{});r&&(i=r(this.props,i));var c=Object.assign(Object.assign({},i),{ref:(0,d.lq)(o,this.setComponentElRef),style:a});return(0,s.createElement)(e,c,n)}}],[{key:"displayName",get:function(){return y}}]),v}(c().Component);return t&&(v.contextType=t),(0,d.rH)(v,y)}},1777:function(e,t,r){"use strict";r.d(t,{D6:function(){return a},tt:function(){return i}});var n=r(1002),o=r(3269),a=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e instanceof Element){var a=l(e.classList,t,r);""!==a&&(e.className=a),Object.keys(t).forEach((function(r){if("children"!==r&&"style"!==r&&"ref"!==r&&"class"!==r&&"className"!==r&&"forwardedRef"!==r)if(0===r.indexOf("on")&&r[2]===r[2].toUpperCase()){var a=r.substring(2),l=a[0].toLowerCase()+a.substring(1);i(l)||s(e,l,t[r])}else e[r]=t[r],"string"===(0,n.Z)(t[r])&&e.setAttribute((0,o.n)(r),t[r])}))}},l=function(e,t,r){var n=t.className||t.class,o=r.className||r.class,a=c(e),l=c(n?n.split(" "):[]),i=c(o?o.split(" "):[]),s=[];return a.forEach((function(e){l.has(e)?(s.push(e),l.delete(e)):i.has(e)||s.push(e)})),l.forEach((function(e){return s.push(e)})),s.join(" ")},i=function(e){if("undefined"==typeof document)return!0;var t="on"+e,r=t in document;if(!r){var n=document.createElement("div");n.setAttribute(t,"return;"),r="function"==typeof n[t]}return r},s=function(e,t,r){var n=e.__events||(e.__events={}),o=n[t];o&&e.removeEventListener(t,o),e.addEventListener(t,n[t]=function(e){r&&r.call(this,e)})},c=function(e){var t=new Map;return e.forEach((function(e){return t.set(e,e)})),t}},3269:function(e,t,r){"use strict";r.d(t,{n:function(){return o},o:function(){return n}});var n=function(e){return e.toLowerCase().split("-").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join("")},o=function(e){return e.replace(/([A-Z])/g,(function(e){return"-".concat(e[0].toLowerCase())}))}},8314:function(e,t,r){"use strict";r.d(t,{lq:function(){return l},rH:function(){return i}});var n=r(9196),o=r.n(n),a=function(e,t){"function"==typeof e?e(t):null!=e&&(e.current=t)},l=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){t.forEach((function(t){a(t,e)}))}},i=function(e,t){var r=function(t,r){return o().createElement(e,Object.assign({},t,{forwardedRef:r}))};return r.displayName=t,o().forwardRef(r)}},408:function(e,t,r){"use strict";r.r(t),r.d(t,{name:function(){return it},options:function(){return st}});var n=r(9062),o=r(4942),a=r(9307),l=r(5736),i=r(3324),s=r(4184),c=r.n(s),u=r(2777),p=r(5609),d=r(9818),f=window.wp.blockEditor,y=r(917),v=window.location.href,m=function(e){var t=e.src,r=e.onChange,n=e.onSubmit,o=e.onClose;return(0,y.tZ)(f.URLPopover,{onClose:o},(0,y.tZ)("form",{className:"block-editor-media-placeholder__url-input-form",onSubmit:n},(0,y.tZ)("input",{"data-cy":"url-input",className:"block-editor-media-placeholder__url-input-field",type:"url","aria-label":(0,l.__)("URL","presto-player"),placeholder:(0,l.__)("Paste an mp3 URL","presto-player"),onChange:r,value:t}),(0,y.tZ)(p.Button,{"data-cy":"url-submit",className:"block-editor-media-placeholder__url-input-submit-button",icon:"editor-break",label:(0,l.__)("Apply","presto-player"),type:"submit"})))},h=(0,p.withFilters)("editor.MediaPlaceholder")((function(e){var t=e.value,r=void 0===t?{}:t,n=e.allowedTypes,o=void 0===n?[]:n,s=e.className,h=e.icon,b=e.url,g=void 0===b||b,Z=e.labels,w=void 0===Z?{}:Z,_=e.mediaPreview,k=e.notices,x=e.isAppender,C=e.isPrivate,P=e.addToGallery,O=e.onSelect,S=e.onCancel,E=e.onSelectURL,j=e.onDoubleClick,N=e.children,A=e.allowURLs,T=(0,d.useSelect)((function(e){return(0,e("core/block-editor").getSettings)().mediaUpload}),[]),D=(0,a.useState)(""),R=(0,i.Z)(D,2),B=R[0],L=R[1],M=(0,a.useState)(!1),I=(0,i.Z)(M,2),F=I[0],U=I[1];(0,a.useEffect)((function(){var e;L(null!==(e=null==r?void 0:r.src)&&void 0!==e?e:"")}),[r]);var V=function(e){L(e.target.value)},z=function(){U(!0)},$=function(){U(!1)},G=function(e){e.preventDefault(),B&&E&&(E(B),$())},H=function(e,t){var r=w.instructions,n=w.title;T||E||(r=(0,l.__)("To edit this block, you need permission to upload media.","presto-player"));var o=c()("block-editor-media-placeholder",s,{"is-appender":x});return(0,y.tZ)(p.Placeholder,{icon:h,label:n,instructions:r,className:o,notices:k,onClick:t,onDoubleClick:j,preview:_},N,e)},W=function(){return E&&(0,y.tZ)("div",{className:"block-editor-media-placeholder__url-input-container"},g&&!1===C&&(0,y.tZ)(p.Button,{className:"block-editor-media-placeholder__button",onClick:z,isPressed:F,isTertiary:!0},(0,l.__)("Audio URL","presto-player")),F&&(0,y.tZ)(m,{src:B,onChange:V,onSubmit:G,onClose:$}))};return(0,y.tZ)(f.MediaUploadCheck,{fallback:H(W())},function(){var e=(0,y.tZ)(f.MediaUpload,{title:C?(0,l.__)("Select or Upload Private Audio","presto-player"):(0,l.__)("Select or Upload Audio","presto-player"),addToGallery:P,gallery:!1,multiple:!1,onSelect:function(e){u.Z.unsetUrlParams(),O(e)},onClose:function(){u.Z.unsetUrlParams()},allowedTypes:o,value:Array.isArray(r)?r.map((function(e){return e.id})):r.id,render:function(e){var t=e.open;return(0,y.tZ)(p.Button,{isPrimary:!0,onClick:function(e){e.stopPropagation(),u.Z.unsetUrlParams(),C?u.Z.setUrlPrivate(v):u.Z.setUrlPublic(v),t()}},C?(0,l.__)("Add/Select Private Audio","presto-player"):(0,l.__)("Add/Select Audio","presto-player"))}});if(T){var t=(0,y.tZ)(React.Fragment,null,e,!!A&&W(),S&&(0,y.tZ)(p.Button,{className:"block-editor-media-placeholder__cancel-button",title:(0,l.__)("Cancel","presto-player"),isLink:!0,onClick:S},(0,l.__)("Cancel","presto-player")));return H(t)}return H(e)}())})),b=r(9807),__=wp.i18n.__,g=wp.components,Z=(g.withNotices,g.BaseControl),w=g.ToggleControl,k=g.Notice,x=["audio"],C=function(e){var t,r,n=e.attributes,a=e.setAttributes,l=e.onSelectURL,i=e.onSelect,s=e.children,c="private"===n.visibility;return(0,y.tZ)(h,(r={icon:c?(0,y.tZ)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"presto-block-icon"},(0,y.tZ)("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),(0,y.tZ)("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})):(0,y.tZ)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:"presto-block-icon"},(0,y.tZ)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"})),labels:{title:__("Presto Audio","presto-player"),instructions:__("Upload a audio file, or pick one from your media library.","presto-player")},accept:"audio/*",setAttributes:a,allowedTypes:x,switcher:!0,isPrivate:c,allowURLs:!c,onSelectURL:l,onSelect:i,value:n},(0,o.Z)(r,"allowURLs",!0),(0,o.Z)(r,"onError",(function(){return console.log("error")})),r),(0,y.tZ)("div",{style:{width:"100%"}},(0,y.tZ)(Z,{className:"presto-player__placeholder-control"},(0,y.tZ)(w,{label:(0,y.tZ)("div",null,__("Make Private","presto-player")," ",!(null!==(t=prestoPlayer)&&void 0!==t&&t.isPremium)&&(0,y.tZ)(b.Z,null)),help:__(c?"This audio is only accessible to those who are logged in.":"This audio is currently accessible to everyone.","presto-player"),checked:c,onChange:function(e){var t;null!==(t=prestoPlayer)&&void 0!==t&&t.isPremium?a({visibility:e?"private":"public"}):(0,d.dispatch)("presto-player/player").setProModal(!0)}})),!!s&&(0,y.tZ)("div",{style:{width:"100%"}},s),!!c&&(0,y.tZ)(k,{status:"warning",isDismissible:!1},(0,y.tZ)("div",null,(0,y.tZ)("div",null,(0,y.tZ)("strong",null,__("Note","presto-player"))),__("Private audio uses php to stream your audio. Keep in mind this will use up disk space and bandwidth so it may not be an appropriate choice for some hosts.","presto-player")))))},P=window.wp.editor,O=r(4994),S=window.wp.compose,E=r(398),j=r(6774),N=r(168),A=r(5861),T=r(1284),D=r.n(T),R=r(7161),B=r(9493),L=r(7453),M=r(209),I=r(1713);function F(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function U(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?F(Object(r),!0).forEach((function(t){(0,o.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var V=function(e){var t,r=e.state,n=e.branding,o=e.menu,s=e.src,c=e.poster,u=e.currentTime,d=e.preload,f=e.mediaTitle,v=e.overlays,m=e.isDisabled,h=void 0===m||m,b=(0,a.useState)(1),g=(0,i.Z)(b,2),Z=g[0],w=g[1],_=r.email_collection,k=r.cta;(0,a.useEffect)((function(){w(Z+1)}),[r.skin,r["play-large"],r.rewind,r.play,r["fast-forward"],r.progress,r["current-time"],r.mute,r.volume,r.speed,r.pip,r.fullscreen,r.captions,r.hide_logo]);var x={email:!(null==_||!_.enabled)&&(0,y.tZ)(M.zi,{className:"email-overlay",slot:"player-end",headline:null==_?void 0:_.headline,style:U(U({"--presto-player-email-border-radiuss":"".concat(null==_?void 0:_.button_radius,"px"),"--plyr-color-main":(null==r?void 0:r.background_color)||(null==n?void 0:n.color)},_.button_color?{"--presto-player-button-color":"".concat(_.button_color)}:{}),_.button_text_color?{"--presto-player-button-text":"".concat(_.button_text_color)}:{}),defaultHeadline:(0,l.__)("Enter your email to play.","presto-player"),bottomText:null==_?void 0:_.bottom_text,allowSkip:null==_?void 0:_.allow_skip,skipText:(0,l.__)("Skip","presto-player"),buttonText:null==_?void 0:_.button_text,placeholder:(0,l.__)("Email address","presto-player"),i18n:window.prestoPlayer.i18n,type:"audio"}),cta:!(null==k||!k.enabled)&&(0,y.tZ)(M.UP,{className:"cta-overlay",style:U(U(U({"--presto-player-button-border-radius":"".concat(k.button_radius,"px")},null!=k&&k.background_opacity?{"--presto-player-cta-background-opacity":"".concat((null==k?void 0:k.background_opacity)/100)}:{}),k.button_color?{"--presto-player-button-color":"".concat(k.button_color)}:{}),k.button_text_color?{"--presto-player-button-text":"".concat(k.button_text_color)}:{}),slot:"player-end",headline:null==k?void 0:k.headline,"bottom-text":null==k?void 0:k.bottom_text,"button-link":null==k?void 0:k.button_link,"allow-skip":100!==(null==k?void 0:k.percentage)&&(null==k?void 0:k.show_skip),borderRadius:null==k?void 0:k.border_radius,"allow-rewatch":100===(null==k?void 0:k.percentage)&&(null==k?void 0:k.show_rewatch),"skip-text":(0,l.__)("Skip","presto-player"),"show-button":null==k?void 0:k.show_button,"button-text":null==k?void 0:k.button_text,i18n:window.prestoPlayer.i18n,type:"audio"})};return(0,y.tZ)(p.Disabled,{isDisabled:h,className:"disable-player"},(0,y.tZ)("div",{className:"presto-player__wrapper"},(0,y.tZ)(I.Z,{src:s||"http://something.mp3",classes:"\n            ".concat("cta"===o&&!(null==k||!k.enabled)&&"cta-active"," \n            ").concat("email"===o&&!(null==_||!_.enabled)&&"email-active"),preset:r,branding:n,i18n:null===(t=prestoPlayerAdmin)||void 0===t?void 0:t.i18n,preload:d,attributes:{chapters:[],poster:c,title:f},type:"audio",currentTime:u?(0,R.ZD)(u):"",overlays:v,key:Z,adminPreview:(null==x?void 0:x[o])||""})))},z=wp.i18n.__,$=wp.components,G=$.ToggleControl,H=$.BaseControl,W=($.HorizontalRule,$.__experimentalAlignmentMatrixControl,$.SelectControl);function q(e){var t=e.state,r=e.updateState,n=e.className;return(0,y.tZ)("div",{className:n},(0,y.tZ)(H,null,(0,y.tZ)("h3",null,z("Behavior","presto-player"))),(0,y.tZ)(H,null,(0,y.tZ)(G,{label:z("Save Play Position","presto-player"),help:z("Saves the user's play position so when they come back to the page they can continue the audio from where they left off.","presto-player"),onChange:function(e){r({save_player_position:e})},checked:t.save_player_position})),(0,y.tZ)(H,null,(0,y.tZ)(G,{label:z("Focus Mode","presto-player"),help:z("Play only when tab is visible and audio is in viewport.","presto-player"),onChange:function(e){r({play_video_viewport:e})},checked:t.play_video_viewport})),(0,y.tZ)(H,null,(0,y.tZ)(G,{label:z("Sticky On Scroll","presto-player"),help:z("Stick audios to the side of the screen when the page is scrolled and the audio is playing.","presto-player"),onChange:function(e){r({sticky_scroll:e})},checked:t.sticky_scroll})),(0,y.tZ)(H,null,(0,y.tZ)(W,{label:z("On Audio End","presto-player"),value:t.on_video_end,options:[{value:"select",label:z("Select","presto-player")},{value:"loop",label:z("Loop","presto-player")},{value:"go-to-start",label:z("Go to start","presto-player")}],onChange:function(e){r({on_video_end:e})}})))}var Y=wp.i18n.__,K=wp.components,Q=K.ToggleControl,X=K.BaseControl;function J(e){var t=e.state,r=e.updateState,n=e.className;return(0,y.tZ)("div",{className:n},(0,y.tZ)(X,null,(0,y.tZ)("h3",null,Y("Controls","presto-player"))),(0,y.tZ)(X,{className:"presto-player__control--large-play"},(0,y.tZ)(Q,{label:Y("Large Play Button","presto-player"),help:Y("Adds a large play button over the top of the player.","presto-player"),onChange:function(e){r({"play-large":e})},checked:t["play-large"]})),(0,y.tZ)(X,{className:"presto-player__control--rewind"},(0,y.tZ)(Q,{label:Y("Rewind","presto-player"),help:Y("Adds a 10 second rewind button to the player.","presto-player"),onChange:function(e){r({rewind:e})},checked:t.rewind})),(0,y.tZ)(X,{className:"presto-player__control--play"},(0,y.tZ)(Q,{label:Y("Small Play Button","presto-player"),help:Y("Adds a small play button to the bottom of the player.","presto-player"),onChange:function(e){r({play:e})},checked:t.play})),(0,y.tZ)(X,{className:"presto-player__control--fast-forward"},(0,y.tZ)(Q,{label:Y("Fast Forward","presto-player"),help:Y("Adds a 10 second rewind button to the player.","presto-player"),onChange:function(e){r({"fast-forward":e})},checked:t["fast-forward"]})),(0,y.tZ)(X,{className:"presto-player__control--progress"},(0,y.tZ)(Q,{label:Y("Progress Bar","presto-player"),help:Y("Shows a seekable progress bar.","presto-player"),onChange:function(e){r({progress:e})},checked:t.progress})),(0,y.tZ)(X,{className:"presto-player__control--current-time"},(0,y.tZ)(Q,{label:Y("Current Time","presto-player"),help:Y("Shows the audio timestamp.","presto-player"),onChange:function(e){r({"current-time":e})},checked:t["current-time"]})),(0,y.tZ)(X,{className:"presto-player__control--volume"},(0,y.tZ)(Q,{label:Y("Volume","presto-player"),help:Y("Shows a volume bar.","presto-player"),onChange:function(e){r({volume:e,mute:e})},checked:t.volume})),(0,y.tZ)(X,{className:"presto-player__control--speed"},(0,y.tZ)(Q,{label:Y("Speed","presto-player"),help:Y("Shows playback speed controls.","presto-player"),onChange:function(e){r({speed:e})},checked:t.speed})))}var ee=r(1145);function te(e){var t=e.state,r=e.updateState,n=e.className;return(0,y.tZ)("div",{className:n},(0,y.tZ)(p.BaseControl,null,(0,y.tZ)("h3",null,(0,l.__)("Style","presto-player"))),(0,y.tZ)(p.BaseControl,null,(0,y.tZ)(p.RangeControl,{label:(0,l.__)("Round Corners","presto-player"),help:(0,l.__)("Player border radius size.","presto-player"),value:(null==t?void 0:t.border_radius)||0,onChange:function(e){return r({border_radius:e})},min:0,max:25})),(0,y.tZ)(p.BaseControl,null,(0,y.tZ)(p.Flex,null,(0,y.tZ)(p.BaseControl.VisualLabel,null,(0,y.tZ)("p",null,(0,l.__)("Background Color","presto-player"))),(0,y.tZ)(ee.Z,{color:(null==t?void 0:t.background_color)||"#000000",setColor:function(e){r({background_color:e.hex})}}))),(0,y.tZ)(p.BaseControl,null,(0,y.tZ)(p.Flex,null,(0,y.tZ)(p.BaseControl.VisualLabel,null,(0,y.tZ)("p",null,(0,l.__)("Control Color","presto-player"))),(0,y.tZ)(ee.Z,{color:(null==t?void 0:t.control_color)||"#000000",setColor:function(e){r({control_color:e.hex})}}))))}var re,ne,oe=r(3865),ae=r(7833),le=r(9632);function ie(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function se(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(r),!0).forEach((function(t){(0,o.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ie(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ce=wp.i18n.__,ue=wp.components,pe=ue.TextControl,de=ue.BaseControl,fe=ue.Icon,ye=ue.Notice,ve=ue.Button,me=ue.Flex,he=ue.FlexItem,be=ue.SelectControl,ge=ue.FlexBlock,Ze=ue.Modal,we=wp.element,_e=we.useState,ke=we.useEffect,xe=wp.data,Ce=xe.useSelect,Pe=xe.dispatch,Oe=function(e){var t=e.type,r=void 0===t?"new":t,n=e.closeModal,o=e.addPreset,a=e.onSave,l=e.updatePreset,s=e.name,c=void 0===s?"":s,u=e.attributes,p=e.preset,d=void 0===p?{"play-large":!0,rewind:!0,play:!0,"fast-forward":!0,progress:!0,"current-time":!0,mute:!0,volume:!0,speed:!1,pip:!1,save_player_position:!1,reset_on_end:!1,sticky_scroll:!1,hide_logo:!1,border_radius:0,skin:"default",background_color:"",control_color:"",cta:{},email_collection:{},action_bar:{}}:p,f=_e(!1),y=(0,i.Z)(f,2),v=y[0],m=y[1],h=_e(""),b=(0,i.Z)(h,2),g=b[0],Z=b[1],w=_e(""),_=(0,i.Z)(w,2),k=_[0],x=_[1],C=_e(c),P=(0,i.Z)(C,2),O=P[0],S=P[1],E=_e(d),j=(0,i.Z)(E,2),T=j[0],M=j[1],I=Ce((function(e){return e("presto-player/player").branding()})),F=_e(""),U=(0,i.Z)(F,2),z=U[0],$=U[1],G={message:ce("The preset could not be saved. Please reload the page and try again.","presto-player")},H=Ce((function(e){return e("presto-player/player").youtube()}));ke((function(){$(H.channel_id)}),[null==H?void 0:H.channel_id]);var W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};M(se(se({},T),e))},Y=function(){var e=(0,A.Z)(D().mark((function e(){var t,r,o,i;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.prev=1,t=se(se({},T),{name:O}),e.next=5,wp.apiFetch({method:"POST",url:wp.url.addQueryArgs("".concat(prestoPlayer.root).concat(prestoPlayer.prestoVersionString,"audio-preset/").concat(d.id),{_method:"PUT"}),data:t});case 5:if(r=e.sent){e.next=8;break}throw G;case 8:l(r),n(),a&&a(r),(0,R.i1)({message:ce("Preset updated!","presto-player")}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),Z(null!==e.t0&&void 0!==e.t0&&e.t0.message?e.t0.message:G);case 17:return e.prev=17,m(!1),e.finish(17);case 20:return Pe("presto-player/player").updateYoutube({channel_id:z}),o=se(se({},H),{channel_id:z}),e.prev=22,e.next=25,wp.apiFetch({path:"wp/v2/settings",method:"POST",data:{presto_player_youtube:o}});case 25:null!=(i=e.sent)&&i.presto_player_youtube&&(Pe("presto-player/player").setYoutube(null==i?void 0:i.presto_player_youtube),onClose()),e.next=32;break;case 29:e.prev=29,e.t1=e.catch(22),console.log(e.t1);case 32:case"end":return e.stop()}}),e,null,[[1,14,17,20],[22,29]])})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=(0,A.Z)(D().mark((function e(){var t;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.prev=1,e.next=4,wp.apiFetch({method:"POST",url:prestoPlayer.root+prestoPlayer.prestoVersionString+"audio-preset",data:se(se({},{name:O}),T)});case 4:if(t=e.sent){e.next=7;break}throw G;case 7:o(t),n(),a&&a(t),(0,R.i1)({message:ce("Preset created!","presto-player")}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),Z(null!==e.t0&&void 0!==e.t0&&e.t0.message?e.t0.message:G);case 16:return e.prev=16,m(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[1,13,16,19]])})));return function(){return e.apply(this,arguments)}}(),Q=[{name:"controls",title:ce("Controls","presto-player"),icon:(0,L.tZ)(fe,{icon:"admin-settings"}),component:(0,L.tZ)(J,{updateState:W,state:T})},{name:"behavior",title:ce("Behavior","presto-player"),icon:(0,L.tZ)(fe,{icon:"admin-generic"}),component:(0,L.tZ)(q,{updateState:W,state:T})},{name:"style",title:ce("Style","presto-player"),icon:(0,L.tZ)(fe,{icon:"admin-customizer"}),component:(0,L.tZ)(te,{updateState:W,state:T})},{name:"email",title:ce("Email Capture","presto-player"),icon:(0,L.tZ)(fe,{icon:"email"}),component:(0,L.tZ)(le.Z,{updateState:W,state:T})},{name:"cta",title:ce("Call To Action","presto-player"),icon:(0,L.tZ)(fe,{icon:"megaphone"}),component:(0,L.tZ)(ae.Z,{updateState:W,state:T})},{name:"action_bar",title:ce("Action Bar","presto-player"),icon:(0,L.tZ)(fe,{icon:"cover-image"}),component:(0,L.tZ)(oe.Z,{updateState:W,state:T,value:z,setValue:$})}];return(0,L.tZ)(Ze,{title:ce("edit"==r?"Edit A Audio Preset":"Create A New Audio Preset","presto-player"),onRequestClose:n,className:"presto-player__modal-presets",overlayClassName:"presto-player__modal-presets-overlay"},(0,L.tZ)("div",{className:"presto-player__preset-options","data-cy":"preset-modal"},(0,L.tZ)(pe,{value:O,hideLabelFromVision:!0,label:ce("Preset Name","presto-player"),onChange:function(e){return S(e)},placeholder:ce("Enter a preset name...","presto-player"),className:"presto-player__modal--style-name",autoFocus:!0}),(0,L.tZ)(me,{align:"stretch",className:"presto-player__style-preview-area"},(0,L.tZ)(he,{className:"presto-player__style-sidebar"},(0,L.tZ)("div",null,(0,L.tZ)(B.Z,{items:Q,title:ce("Customize","presto-player"),onSelect:x},(function(e){return e.component})))),(0,L.tZ)(ge,{className:"presto-player__style-preview-panel"},(0,L.tZ)("div",{style:{position:"absolute",top:0,left:0,padding:"20px"}},(0,L.tZ)(be,{label:ce("Skin","presto-player"),labelPosition:"side",value:null==T?void 0:T.skin,hideLabelFromVision:!0,options:[{label:ce("Basic","presto-player"),value:"default"},{label:ce("Stacked","presto-player"),value:"stacked"}],onChange:function(e){W({skin:e})}})),(0,L.tZ)(V,{poster:u.poster,src:u.src,state:T,branding:I,menu:k,mediaTitle:u.title}))),(0,L.tZ)("br",null),g&&(0,L.tZ)(de,null,(0,L.tZ)(ye,{className:"presto-player__modal--error-notice",status:"error",isDismissible:!1,style:{margin:0}},g.replace(/(<([^>]+)>)/gi,""))),(0,L.tZ)("div",{css:(0,L.iv)(re||(re=(0,N.Z)(["\n            display: flex;\n            align-items: center;\n            justify-content: space-between;\n          "])))},(0,L.tZ)("div",{css:(0,L.iv)(ne||(ne=(0,N.Z)(["\n              opacity: 0.5;\n              font-size: 12px;\n            "])))},"Preset ID: ",d.id),(0,L.tZ)("div",null,(0,L.tZ)(ve,{isTertiary:!0,onClick:n,style:{margin:"0 6px"}},ce("Cancel","presto-player")),(0,L.tZ)(ve,{isPrimary:!0,isBusy:v,disabled:v,onClick:function(){if(O)return"edit"===r?Y():K();Z(ce("You must enter a name for the preset.","presto-player"))},"data-cy":"submit-preset"},ce("edit"==r?"Update Preset":"Create Preset","presto-player"))))))},Se=wp.i18n.__,Ee=wp.components,je=Ee.Icon,Ne=Ee.Spinner,Ae=Ee.Modal,Te=Ee.Button,De=Ee.ButtonGroup,Re=wp.element.useState;function Be(e){var t,r,n=e.preset,o=e.index,a=e.isActive,l=e.remove,s=e.setPreset,c=e.onEdit,u=Re(!1),p=(0,i.Z)(u,2),d=p[0],f=p[1],v=Re(!1),m=(0,i.Z)(v,2),h=m[0],b=m[1],g=function(){return b(!1)},Z=function(){var e=(0,A.Z)(D().mark((function e(){return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.id){e.next=3;break}return l(n),e.abrupt("return");case 3:return e.prev=3,f(!0),e.next=7,wp.apiFetch({method:"POST",url:wp.url.addQueryArgs("".concat(prestoPlayer.root).concat(prestoPlayer.prestoVersionString,"audio-preset/").concat(n.id),{_method:"DELETE"})});case 7:e.sent&&(l(n),wp.data.dispatch("core/notices").createNotice("success",Se("Preset trashed.","presto-player"),{type:"snackbar",isDismissible:!0})),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),console.error(e.t0),null!==e.t0&&void 0!==e.t0&&e.t0.message&&wp.data.dispatch("core/notices").createNotice("error",e.t0.message,{type:"snackbar",isDismissible:!0});case 15:return e.prev=15,b(!1),f(!1),e.finish(15);case 19:case"end":return e.stop()}}),e,null,[[3,11,15,19]])})));return function(){return e.apply(this,arguments)}}();return d?(0,y.tZ)("div",{className:"block-editor-block-styles__item",role:"button",tabIndex:o,"aria-label":"Fill",style:{color:a?"var(--wp-admin-theme-color)":"inherit",width:"calc(50% - 4px)",margin:"4px 0","flex-shrink":"0",cursor:"pointer",overflow:"hidden","border-radius":"2px",padding:"6px",display:"flex","flex-direction":"column"}},(0,y.tZ)("div",{className:"block-editor-block-styles__item-preview",style:{border:a?"2px solid var(--wp-admin-theme-color)":"2px solid #e3e3e3",margin:0,outline:"1px solid transparent",padding:"0",display:"flex",overflow:"hidden",background:"#fff","align-items":"center","flex-grow":"1","min-height":"80px","max-height":"160px"}},(0,y.tZ)(Ne,null))):(0,y.tZ)("div",{className:"block-editor-block-styles__item presto-preset-".concat(n.slug),onClick:function(){s(n)},role:"button",tabIndex:o,"aria-label":"Fill",style:{color:a?"var(--wp-admin-theme-color)":"inherit",width:"calc(50% - 4px)",margin:"4px 0","flex-shrink":"0",cursor:"pointer",overflow:"hidden","border-radius":"2px",padding:"6px",display:"flex","flex-direction":"column"}},(0,y.tZ)("div",{className:"block-editor-block-styles__item-preview",style:{border:a?"2px solid var(--wp-admin-theme-color)":"2px solid #e3e3e3",margin:0,outline:"1px solid transparent",padding:"0",display:"flex",overflow:"hidden",background:"#fff","align-items":"center","flex-grow":"1","min-height":"80px","max-height":"160px"}},(0,y.tZ)("div",{style:{textAlign:"center",width:"100%",color:a?"var(--wp-admin-theme-color)":"inherit",opacity:a?1:.75}},null!=n&&n.icon?(0,y.tZ)(je,{icon:null==n?void 0:n.icon,style:{fontSize:"30px",width:"30px",height:"30px"}}):(0,y.tZ)("h1",{style:{opacity:.75}},(null==n||null===(t=n.name)||void 0===t||null===(r=t.charAt(0))||void 0===r?void 0:r.toUpperCase())||"Untitled"))),(0,y.tZ)("div",{className:"block-editor-block-styles__item-label",style:{fontWeight:"bold",textTransform:"capitalize","text-align":"center",padding:"4px 0"}},(null==n?void 0:n.name)||"Untitled"),!(null!=n&&n.is_locked)&&(0,y.tZ)("div",{className:"block-editor-block-styles__item-edit"},(0,y.tZ)("div",{className:"block-editor-block-styles__item-edit-icon",onClick:c},(0,y.tZ)(je,{icon:"edit"})),(0,y.tZ)("div",{className:"block-editor-block-styles__item-edit-icon",onClick:function(){return b(!0)}},(0,y.tZ)(je,{icon:"trash"}))),h&&(0,y.tZ)(Ae,{title:Se("Trash Preset?","presto-player"),onRequestClose:g,style:{maxWidth:"250px"}},(0,y.tZ)("p",null,(0,y.tZ)("strong",null,Se("Warning!","presto-player")," "),Se("Any audios assigned to this preset will automatically use the default preset.","presto-player")),(0,y.tZ)(De,null,(0,y.tZ)(Te,{isDestructive:!0,onClick:Z,style:{margin:"0 4px"}},Se("Trash","presto-player")),(0,y.tZ)(Te,{isTertiary:!0,onClick:g,style:{margin:"0 4px",boxShadow:"none"}},Se("Cancel","presto-player")))))}var Le=wp.i18n.__,Me=wp.components,Ie=Me.withNotices,Fe=Me.BaseControl,Ue=Me.Spinner,Ve=Me.Button,ze=wp.element,$e=ze.useState,Ge=(ze.useEffect,wp.data),He=Ge.useSelect,We=Ge.dispatch,qe=Ie((function(e){var t,r=e.attributes,n=e.setAttributes,o=$e(!1),a=(0,i.Z)(o,2),l=a[0],s=a[1],c=function(){return s(!1)},u=$e(null),p=(0,i.Z)(u,2),d=p[0],f=p[1],v=$e(null),m=(0,i.Z)(v,2),h=m[0],g=m[1],Z=He((function(e){return{presets:e("presto-player/player").getAudioPresets(),loading:e("presto-player/player").isResolving("getAudioPresets")}})),w=Z.presets,_=Z.loading,k=function(e){We("presto-player/player").addAudioPreset(e)},x=function(e){We("presto-player/player").removeAudioPreset(e)},C=function(e){n({preset:e.id})},P=(0,j.Z)("div",{target:"es6ga4s0"})({name:"1f3egm3",styles:"display:flex;flex-wrap:wrap;justify-content:space-between"});return _?(0,y.tZ)("div",{className:"presto-settings__loading"},(0,y.tZ)(Ue,null)):(0,y.tZ)(React.Fragment,null,w.length?(0,y.tZ)("p",null,Le("Select a audio configuration preset, or add your own.","presto-player")):"",(0,y.tZ)(Fe,null,(0,y.tZ)(P,null,(w||[]).length?w.map((function(e,t){return(0,y.tZ)(Be,{setPreset:C,index:t,isActive:(null==r?void 0:r.preset)===e.id,preset:e,key:e.id,onEdit:function(){g(e.name),f(e),s("edit")},remove:x})})):Le("No style presets. You can create a new style by clicking 'Add New Style'.","presto-plugin"))),(0,y.tZ)(Fe,null,(0,y.tZ)(Ve,{isPrimary:!0,"data-cy":"add-new-preset",onClick:function(){var e;null!==(e=prestoPlayer)&&void 0!==e&&e.isPremium?s("new"):We("presto-player/player").setProModal(!0)}},Le("Add New Preset","presto-player")),!(null!==(t=prestoPlayer)&&void 0!==t&&t.isPremium)&&(0,y.tZ)(b.Z,null)),"new"==l&&(0,y.tZ)(Oe,{closeModal:c,addPreset:k,type:"new",onSave:C,attributes:r}),"edit"==l&&(0,y.tZ)(Oe,{closeModal:c,addPreset:k,updatePreset:function(e){We("presto-player/player").updateAudioPreset(e)},type:"edit",preset:d,name:h,attributes:r}))})),Ye=["image"],Ke=function e(t){var r,n,o=t.attributes,a=t.setAttributes,i=(0,S.useInstanceId)(e),s="audio-block__poster-image-description-".concat(i),c=o.autoplay,u=o.poster,d=o.preload,v=o.title;return(0,y.tZ)(React.Fragment,null,(0,y.tZ)(p.PanelBody,{title:(0,y.tZ)(React.Fragment,null,(0,l.__)("Title","presto-player")," "),initialOpen:!0},(0,y.tZ)(p.FlexBlock,null,(0,y.tZ)(p.TextControl,{className:"presto-player__caption--title",placeholder:(0,l.__)("Title","presto-player"),value:v||"",onChange:function(e){return a({title:e})},autoComplete:"off"}))),(0,y.tZ)(p.PanelBody,{title:(0,y.tZ)(React.Fragment,null,(0,l.__)("Chapters","presto-player")," ",!(null!==(r=prestoPlayer)&&void 0!==r&&r.isPremium)&&(0,y.tZ)(b.Z,null)),initialOpen:null===(n=prestoPlayer)||void 0===n?void 0:n.isPremium},(0,y.tZ)(E.Z,{setAttributes:a,attributes:o})),(0,y.tZ)(p.PanelBody,{title:(0,y.tZ)(React.Fragment,null,(0,l.__)("Audio Settings","presto-player")," ")},(0,y.tZ)(p.ToggleControl,{label:(0,y.tZ)(React.Fragment,null,(0,l.__)("Autoplay","presto-player")," "),checked:c,onChange:function(e){a({autoplay:e})}}),(0,y.tZ)(p.PanelRow,null,(0,y.tZ)(p.SelectControl,{label:(0,y.tZ)(p.Flex,null,(0,y.tZ)("div",null,(0,l.__)("Performance Preference","presto-player")),(0,y.tZ)("a",{href:"https://prestoplayer.com/docs/performance-preferences-explained",target:"_blank",style:{textDecoration:"none"}},(0,y.tZ)(p.Icon,{icon:"editor-help"}))),className:"presto-setting__preload",value:d,onChange:function(e){return a({preload:e})},options:[{value:"auto",label:(0,l.__)("Audio Playback Speed","presto-player")},{value:"metadata",label:(0,l.__)("Page Load Speed","presto-player")},{value:"none",label:(0,l.__)("Page Load Speed (Extreme)","presto-player")}]})),(0,y.tZ)(f.MediaUploadCheck,null,(0,y.tZ)(p.BaseControl,{className:"editor-video-poster-control"},(0,y.tZ)(p.BaseControl.VisualLabel,null,(0,y.tZ)("p",null,(0,l.__)("Poster image","presto-player"))),(0,y.tZ)(f.MediaUpload,{title:(0,l.__)("Select poster image","presto-player"),onSelect:function(e){a({poster:e.url})},allowedTypes:Ye,render:function(e){var t=e.open;return(0,y.tZ)(p.Button,{className:"presto-setting__poster",isPrimary:!0,onClick:t,"aria-describedby":s},u?(0,l.__)("Replace","presto-player"):(0,l.__)("Select","presto-player"))}}),(0,y.tZ)("p",{id:s,hidden:!0},u?sprintf((0,l.__)("The current poster image url is %s","presto-player"),u):(0,l.__)("There is no poster image currently selected","presto-player")),!!u&&(0,y.tZ)(p.Button,{onClick:function(){a({poster:""})},className:"presto-setting__remove-poster",isTertiary:!0},(0,l.__)("Remove","presto-player"))))),(0,y.tZ)(p.PanelBody,{title:(0,l.__)("Audio Preset","presto-player")},(0,y.tZ)(qe,{setAttributes:a,attributes:o})),(0,y.tZ)(p.PanelBody,{title:(0,y.tZ)(React.Fragment,null,(0,l.__)("Global Player Branding","presto-player")),initialOpen:!1},(0,y.tZ)(O.Z,{setAttributes:a,attributes:o,type:"audio"})))},Qe=r(7462),Xe=r(9512);function Je(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function et(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Je(Object(r),!0).forEach((function(t){(0,o.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Je(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var tt=wp.data.withSelect;function rt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function nt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rt(Object(r),!0).forEach((function(t){(0,o.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ot,at,lt=(0,wp.compose.compose)([tt((function(e){return{branding:e("presto-player/player").branding(),loading:e("presto-player/player").isResolving("getAudioPresets"),presets:e("presto-player/player").getAudioPresets(),defaultPreset:e("presto-player/player").getDefaultAudioPreset()}})),(0,S.createHigherOrderComponent)((function(e){return function(t){var r=t.presets,n=t.attributes,o=t.setAttributes,s=t.defaultPreset,c=t.isSelected,u=t.branding,p=(0,a.useState)({}),f=(0,i.Z)(p,2),v=f[0],m=f[1],h=(0,a.useState)(1),b=(0,i.Z)(h,2),g=b[0],Z=b[1],w=n.poster,k=n.chapters;(0,a.useEffect)((function(){c&&null!=n&&n.id&&(0,d.dispatch)("core/edit-post").openGeneralSidebar("edit-post/block")}),[c]),(0,a.useEffect)((function(){c&&null!=n&&n.selectionOverrideClientId&&(0,d.dispatch)("core/block-editor").selectBlock(null==n?void 0:n.selectionOverrideClientId)}),[c]),(0,a.useEffect)((function(){if(r&&r.length){var e=r.find((function(e){return e.id===(null==n?void 0:n.preset)}));e?m(e):(m(s),o({preset:null==s?void 0:s.id}))}}),[r,null==n?void 0:n.preset]),(0,a.useEffect)((function(){x()}),[w,v,k,u.logo]);var x=function(){Z(g+1)},C=(0,R.D9)(k);(0,a.useEffect)((function(){var e=null==k?void 0:k.map((function(e){return e.time})),t=null==C?void 0:C.map((function(e){return e.time}));_.difference(e,t).length&&x()}),[k]);var P=function(){var e=(0,A.Z)(D().mark((function e(t){var r,n,a,l,i,s,c;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.src,n=t.external_id,a=t.attachment_id,l=t.type,i=t.title,r||n||a){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,(0,Xe.Z)({method:"POST",path:"/presto-player/v1/videos",data:et(et({attachment_id:a,post_id:wp.data.select("core/editor").getCurrentPostId(),external_id:n},i?{title:i}:{}),{},{src:r,type:l})});case 5:s=e.sent,c=s.id,o({id:c});case 8:case"end":return e.stop()}}),e)})));return function(_x){return e.apply(this,arguments)}}();return null!=n&&n.preset||o({preset:null==s?void 0:s.id}),(0,y.tZ)(e,(0,Qe.Z)({},t,{lockSave:function(){return(0,d.dispatch)("core/editor").lockPostSaving("presto-player")},unlockSave:function(){return(0,d.dispatch)("core/editor").unlockPostSaving("presto-player")},createVideo:P,onUpdate:x,onRemoveSrc:function(){confirm((0,l.__)("Remove this","presto-player"))&&o({src:"",id:void 0})},presetData:v,setPresetData:m,renderKey:g}))}}),"withPlayerEdit")])((0,p.withNotices)((function(e){var t=e.attributes,r=e.setAttributes,n=e.branding,o=e.presetData,a=e.renderKey,i=e.defaultPreset,s=e.lockSave,c=e.unlockSave,u=e.loading,d=e.createVideo,f=e.onRemoveSrc,v=t.poster,m=t.src,h=t.id;return m?u||!h?(0,y.tZ)(p.Placeholder,{className:"presto-player__placeholder is-loading"},(0,y.tZ)(p.Spinner,null)):(0,y.tZ)(React.Fragment,null,(0,y.tZ)(P.BlockControls,null,(0,y.tZ)(p.Toolbar,null,(0,y.tZ)(p.Button,{onClick:function(){return f()}},(0,l.__)("Replace","presto-player")))),(0,y.tZ)(P.InspectorControls,null,(0,y.tZ)(Ke,{attributes:t,setAttributes:r})),(0,y.tZ)("figure",null,(0,y.tZ)(p.Disabled,null,(0,y.tZ)(I.Z,{poster:v,src:m,id:h,type:"audio",attributes:t,setAttributes:r,preset:o,branding:n,key:a})))):(0,y.tZ)(React.Fragment,null,(0,y.tZ)(C,{attributes:t,setAttributes:r,onSelectURL:function(e){r(nt(nt({},t),{},{src:e,title:e,preset:null==i?void 0:i.id})),s(),d({src:e,type:"link"}).catch((function(e){r({src:""}),showNotice(e)})).finally(c)},onSelect:function(e){e&&e.url?e.title?(r({src:e.url,preset:null==i?void 0:i.id,title:e.title,attachment_id:e.id}),s(),d({src:e.url,type:"attachment",attachment_id:e.id}).catch((function(e){r({src:""}),showNotice(e)})).finally(c)):r({src:e.url,title:e.url,preset:null==i?void 0:i.id}):r({src:void 0,id:void 0})}}))}))),it="presto-player/audio",st={category:"presto",attributes:(ot={src:{type:"string"},autoplay:{type:Boolean,default:!1},poster:{type:"string"},chapters:{type:"array",default:[]},preload:{type:"string"},title:{type:"string"},tracks:{type:"array",items:{type:"object"},default:[]},preset:{type:Number},id:{type:Number},attachment_id:{type:Number}},(0,o.Z)(ot,"src",{type:String}),(0,o.Z)(ot,"visibility",{type:String,default:"public"}),ot),title:(0,l.__)("Presto Audio","presto-player"),description:(0,l.__)("A audio player wrapper.","presto-player"),variations:[{name:"public",isDefault:!0,title:(0,l.__)("Presto Audio","presto-player"),description:(0,l.__)("Presto self-hosted audio block.","presto-player"),attributes:{visibility:"public"}}].concat((0,n.Z)(null!==(at=prestoPlayer)&&void 0!==at&&at.isPremium?[{name:"private",title:(0,l.__)("Presto Private Audio","presto-player"),icon:(0,y.tZ)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"presto-block-icon"},(0,y.tZ)("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),(0,y.tZ)("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})),description:(0,l.__)("Private self-hosted audio block.","presto-player"),attributes:{visibility:"private"}}]:[])),icon:(0,y.tZ)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:"presto-block-icon"},(0,y.tZ)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"})),edit:lt}},6183:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n,o=r(4942),a={attributes:(n={visibility:{type:String,default:"public"},color:{type:String,default:"#00b3ff"},blockAlignment:{type:String},mutedPreview:{type:Object,default:{enabled:!1,captions:!1}},mutedOverlay:{type:Object,default:{enabled:!1,src:"",width:200,focalPoint:{x:.5,y:.5}}},mutedPreviewCaptions:{type:Boolean},mutedOverlayType:{type:String,default:"text"},mutedOverlayText:{type:String,default:"Click to play"},mutedOverlaySrc:{type:String},mutedOverlayImageWidth:{type:Number,default:200},mutedOverlayFocalPoint:{type:Object}},(0,o.Z)(n,"mutedOverlay",{type:Object,default:{enabled:!1,type:"text",text:"",src:"",width:200,focalPoint:{x:.5,y:.5}}}),(0,o.Z)(n,"autoplay",{type:Boolean}),(0,o.Z)(n,"preload",{type:String}),(0,o.Z)(n,"playsInline",{type:Boolean}),(0,o.Z)(n,"id",{type:Number}),(0,o.Z)(n,"attachment_id",{type:Number}),(0,o.Z)(n,"src",{type:String}),(0,o.Z)(n,"imageID",{type:Number}),(0,o.Z)(n,"poster",{type:String}),(0,o.Z)(n,"content",{type:Boolean}),(0,o.Z)(n,"preset",{type:Number}),(0,o.Z)(n,"chapters",{type:Array,default:[]}),(0,o.Z)(n,"overlays",{type:Array,default:[]}),(0,o.Z)(n,"tracks",{type:"array",items:{type:"object"},default:[]}),n),category:"presto",supports:{align:!0},save:function(){return null}}},6849:function(e,t,r){"use strict";r.r(t),r.d(t,{name:function(){return Lo},options:function(){return Mo}});var n={};r.r(n),r.d(n,{collections:function(){return Q},currentCollection:function(){return ne},errors:function(){return te},isLoading:function(){return ee},isPrivate:function(){return J},requestType:function(){return ae},ui:function(){return oe},uploads:function(){return X},videos:function(){return K},videosFetched:function(){return re}});var o={};r.r(o),r.d(o,{addCollection:function(){return ue},addError:function(){return Ze},addUploads:function(){return ve},addVideos:function(){return ie},removeError:function(){return we},removeUpload:function(){return me},removeVideo:function(){return se},setCollectionRequest:function(){return fe},setCollections:function(){return ce},setIsPrivate:function(){return pe},setLoading:function(){return be},setSearch:function(){return de},setUI:function(){return ge},setUploads:function(){return ye},setVideos:function(){return le},setVideosFetched:function(){return he}});var a=r(4942),l=(r(9307),r(5861)),i=r(3324),s=r(1284),c=r.n(s),u=function(){var e=(0,l.Z)(c().mark((function e(t){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,wp.apiFetch({path:"presto-player/v1/bunny/sign",method:"POST",data:{url:t,id:0}});case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(_x){return e.apply(this,arguments)}}(),p=r(2485),d=r(8989),f=r(9235);function y(e){var t=e.file,r=e.path,n=e.onProgress,o=e.onComplete,a=e.onError,i=0,s=!1,u=Math.min(prestoPlayerAdmin.wp_max_upload_size-1e6,159e5),p=Math.max(u,19e5);p=Math.min(p,104857600);var d=function(){var e=(0,l.Z)(c().mark((function e(l){var u,f,y,v,m;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=l+p+1,f=t.slice(l,u),y=Math.ceil(t.size/(p+1)),i++,n(i/y*100),(v=new FormData).append("file",f),v.append("name",t.name),v.append("chunk",i),v.append("chunks",y),e.prev=10,e.next=13,wp.apiFetch({path:r,method:"POST",body:v});case 13:if(m=e.sent,!s){e.next=17;break}return console.log("cancelled"),e.abrupt("return");case 17:u<t.size?(n(void 0),d(u)):o(m),e.next=24;break;case 20:e.prev=20,e.t0=e.catch(10),a(e.t0),console.error(e.t0);case 24:case"end":return e.stop()}}),e,null,[[10,20]])})));return function(_x){return e.apply(this,arguments)}}();return i=0,new FileReader,d(0),{cancel:function(){s=!0}}}var v,m,h=r(168),b=r(917),g=function(e){var t,r=e.item,n=e.onClick,o=e.className,l=function(){return!(null==r||!r.encodeProgress)&&100!==r.encodeProgress};return(0,b.tZ)("div",{className:"presto-player__media-list-item ".concat(o),onClick:n},(0,b.tZ)("div",{className:"presto-player__media-list-item-icon"},(0,b.tZ)("svg",(0,a.Z)({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"},"strokeLinecap","round"),(0,b.tZ)("polygon",{points:"23 7 16 12 23 17 23 7"}),(0,b.tZ)("rect",{x:"1",y:"5",width:"15",height:"14",rx:"2",ry:"2"}))),(0,b.tZ)("div",{className:"presto-player__media-list-item-title"},null==r?void 0:r.title),l()&&(0,b.tZ)("div",{className:"presto-player__media-list-item-size"},"Encoding..."),!l()&&(0,b.tZ)("div",{className:"presto-player__media-list-item-size"},function(e){if(0==e)return"0 Byte";var t=parseInt(Math.floor(Math.log(e)/Math.log(1024)));return Math.round(e/Math.pow(1024,t),2)+" "+["Bytes","KB","MB","GB","TB"][t]}(null==r?void 0:r.size)),!l()&&(0,b.tZ)("div",{className:"presto-player__media-list-item-modified"},(t=r.updated_at,new Date(t).toLocaleString())))},Z=function(e){var t,r=e.item,n=e.onClick,o=e.className;return(0,b.tZ)("div",{className:"presto-player__media-list-item ".concat(o),onClick:n},(0,b.tZ)("div",{className:"presto-player__media-list-item-icon"},(0,b.tZ)("svg",(0,a.Z)({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"},"strokeLinecap","round"),(0,b.tZ)("polygon",{points:"23 7 16 12 23 17 23 7"}),(0,b.tZ)("rect",{x:"1",y:"5",width:"15",height:"14",rx:"2",ry:"2"}))),(0,b.tZ)("div",{className:"presto-player__media-list-item-title"},null==r?void 0:r.title),(0,b.tZ)("div",{className:"presto-player__media-list-item-size"},function(e){if(0==e)return"0 Byte";var t=parseInt(Math.floor(Math.log(e)/Math.log(1024)));return Math.round(e/Math.pow(1024,t),2)+" "+["Bytes","KB","MB","GB","TB"][t]}(null==r?void 0:r.size)),(0,b.tZ)("div",{className:"presto-player__media-list-item-modified"},(t=r.updated_at,new Date(t).toLocaleString())))},w=r(7453),__=wp.i18n.__,_=wp.components,k=_.Modal,x=_.Spinner,C=_.Button,P=_.BaseControl,O=_.Flex,S=_.FlexBlock,E=_.Notice,j=_.Card,N=_.CardBody,A=_.Disabled,T=_.DropZone,D=_.FormFileUpload,R=_.DropZoneProvider,B=wp.element,L=B.useEffect,M=B.useState,I=B.useRef,F=function(e){var t=e.onClose,r=e.title,n=e.header,o=e.onLoad,a=e.items,l=e.folders,s=e.fetching,c=e.progressMessage,u=e.onSelect,p=e.error,d=e.onDelete,f=e.onUpload,y=e.progress,b=M({}),_=(0,i.Z)(b,2),B=_[0],F=_[1],U=M(!1),V=(0,i.Z)(U,2),z=V[0],$=V[1],G=I();L((function(){o&&o()}),[]);var H,W,q,Y,K=function(){return Object.keys(B||{}).length};return(0,w.tZ)(k,{isFullScreen:!0,title:n||__("Add Media","presto-player"),onRequestClose:t,className:"presto-player__media-modal presto-player__full-modal",overlayClassName:"presto-player__modal-overlay"},(0,w.tZ)("div",{className:"presto-player__media-modal-layout","data-cy":"media-modal"},(0,w.tZ)("div",{className:"presto-player__media-modal-header"},(0,w.tZ)("div",{className:"presto-player__media-modal-upload",css:(0,w.iv)(v||(v=(0,h.Z)(["\n              display: flex;\n              align-items: center;\n            "])))},(0,w.tZ)(D,{isPrimary:!0,accept:"video/mp4,video/x-m4v,video/*",onChange:function(e){e.target.files&&(f(e.target.files),jQuery(e.target).val(null))}},__("Upload New Video","presto-player")),(0,w.tZ)("div",{css:(0,w.iv)(m||(m=(0,h.Z)(["\n                margin-left: 10px;\n              "])))},__("Or drag a file here to upload.","presto-player"))),p&&(0,w.tZ)(E,{status:"error",isDismissible:!1},p)),(0,w.tZ)("div",{className:"presto-player__media-modal-content"},(0,w.tZ)(R,null,s?(0,w.tZ)(O,{className:"presto-player__media-loading"},(0,w.tZ)(S,{style:{textAlign:"center"}},y?(0,w.tZ)(React.Fragment,null,(0,w.tZ)("div",null,(0,w.tZ)("strong",null,c||__("Uploading","presto-player"))),(0,w.tZ)("div",null,__("Please don't navigate away from this page.","presto-player")),(0,w.tZ)("progress",{className:"presto-progress",max:"100",value:y,style:{width:"100px"}})):(0,w.tZ)(x,null))):null!=a&&a.length?(0,w.tZ)("div",{className:"presto-player__media-list"},(0,w.tZ)("h2",null,r),l&&(0,w.tZ)("div",{className:"presto-player__media-list-folders"},l.map((function(e){return(0,w.tZ)(Z,{key:e.id,item:e})}))),(0,w.tZ)("div",{className:"presto-player__media-list-items"},a.map((function(e){return(0,w.tZ)(g,{item:e,key:e.id,onClick:function(){F(B===e?{}:e)},className:B===e?"is-selected":""})})))):(0,w.tZ)(O,{"align-items":"center",className:"presto-player__media-not-found"},(0,w.tZ)("div",null,(0,w.tZ)("h2",null,"Drop video files here to upload"),(0,w.tZ)("p",null,"or browse for a video"),(0,w.tZ)(D,{isSecondary:!0,accept:"video/mp4,video/x-m4v,video/*",onChange:function(e){e.target.files&&(f(e.target.files),jQuery(e.target).val(null))}},__("Upload New Video","presto-player")))),(0,w.tZ)(T,{label:"Drop files",onFilesDrop:f}))),(0,w.tZ)("div",{className:"presto-player__media-modal-sidebar"},K()?(0,w.tZ)("div",{className:"presto-player__media-modal-sidebar-content"},(0,w.tZ)(P,null,(0,w.tZ)(A,{key:B.id},null!=B&&B.thumbnail?(0,w.tZ)("img",{src:null==B?void 0:B.thumbnail,style:{maxWidth:"100%"}}):(0,w.tZ)("video",{preload:"metadata"},(0,w.tZ)("source",{src:B.previewUrl})))),(0,w.tZ)(P,null,(0,w.tZ)(P.VisualLabel,null,__("Name","presto-player")),(0,w.tZ)("h3",{style:{marginTop:"5px"}},B.title)),!(null==B||!B.visibility)&&(0,w.tZ)(P,null,(0,w.tZ)(P.VisualLabel,null,__("Visibility","presto-player")),(0,w.tZ)("h3",{style:{marginTop:"5px"}},B.visibility)),(0,w.tZ)(P,null,(0,w.tZ)(P.VisualLabel,null,__("Size","presto-player")),(0,w.tZ)("h3",{style:{marginTop:"5px"}},function(e){if(0==e)return"0 Byte";var t=parseInt(Math.floor(Math.log(e)/Math.log(1024)));return Math.round(e/Math.pow(1024,t),2)+" "+["Bytes","KB","MB","GB","TB"][t]}((null==B?void 0:B.size)||0))),(0,w.tZ)(P,null,(0,w.tZ)(P.VisualLabel,null,__("Created","presto-player")),(0,w.tZ)("h3",{style:{marginTop:"5px"}},(H=null==B?void 0:B.created_at,Y=(W=(H=new Date(H)).getHours())>=12?"pm":"am",W=(W%=12)||12,q=(q=H.getMinutes())<10?"0"+q:q,H.getDate()+"-"+(H.getMonth()+1)+"-"+H.getFullYear()+" at "+W+":"+q+Y))),(0,w.tZ)(P,null,z?(0,w.tZ)(j,null,(0,w.tZ)(N,null,(0,w.tZ)("p",null,(0,w.tZ)("strong",null,"Are you sure?")),(0,w.tZ)("p",null,"Are you sure you want to delete this video?"),(0,w.tZ)(C,{isDestructive:!0,onClick:function(){d(B),$(!1)}},"Yes"),(0,w.tZ)(C,{onClick:function(){return $(!1)}},"Cancel"))):(0,w.tZ)(C,{isDestructive:!0,onClick:function(){$(!z)}},__("Delete video","presto-player")))):(0,w.tZ)(React.Fragment,null)),(0,w.tZ)("div",{className:"presto-player__media-modal-footer"},(0,w.tZ)(C,{isPrimary:!0,disabled:!K(),onClick:function(){B&&(u(B),t())},ref:G},__("Choose","presto-player")))))},U=wp.i18n.__,V=wp.element,z=V.useState,$=V.useEffect,G=function(e){var t=e.closePopup,r=e.noticeOperations,n=e.onSelect,o=e.isPrivate,a=z([]),s=(0,i.Z)(a,2),u=s[0],p=s[1],d=z(!1),f=(0,i.Z)(d,2),v=f[0],m=f[1],h=z(0),g=(0,i.Z)(h,2),Z=g[0],w=g[1],_=z(""),k=(0,i.Z)(_,2),x=k[0],C=k[1],P=z(""),O=(0,i.Z)(P,2),S=O[0],E=O[1],j=o?"private-videos":"public-videos";$((function(){w(0),E("")}),[]);var N=function(){var e=(0,l.Z)(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:E(""),m(!0),C(U("Uploading","presto-player")),y({file:t[0],path:"presto-player/v1/bunny/upload",onProgress:function(e){w(e-10)},onComplete:A,onError:function(e){E(e.message),w(0),m(!1)}});case 4:case"end":return e.stop()}}),e)})));return function(_x){return e.apply(this,arguments)}}(),A=function(){var e=(0,l.Z)(c().mark((function e(t){var r,n,o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.path,n=t.name,C(U("Storing","presto-player")),e.prev=2,e.next=5,wp.apiFetch({path:"presto-player/v1/bunny/".concat(j),method:"POST",data:{path:r,name:n}});case 5:o=e.sent,p(o),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),E(e.t0.message),console.error(e.t0);case 13:return e.prev=13,w(0),m(!1),e.finish(13);case 17:case"end":return e.stop()}}),e,null,[[2,9,13,17]])})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=(0,l.Z)(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p((u||[]).filter((function(e){return e!==t}))),e.next=4,wp.apiFetch({path:"presto-player/v1/bunny/".concat(j),method:"DELETE",data:{name:null==t?void 0:t.title}});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),E(e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=(0,l.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(!0),e.next=4,wp.apiFetch({path:"presto-player/v1/bunny/".concat(j)});case 4:t=e.sent,p(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),E(e.t0.message);case 11:return e.prev=11,m(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(){return e.apply(this,arguments)}}();return(0,b.tZ)(F,{onClose:t,progressMessage:x,fetching:v,error:S,onUpload:N,onLoad:D,items:u,progress:Z,onDelete:T,onSelect:n,onError:function(e){r.removeAllNotices(),r.createErrorNotice(e)},header:U(o?"Bunny.net Private Video Storage":"Bunny.net Public Video Storage","presto-player"),title:U(o?"Private Video Library":"Public Video Library","presto-player")})},H=r(9062);function W(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?W(Object(r),!0).forEach((function(t){(0,a.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Y=(0,wp.data.combineReducers)({videosReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_VIDEOS":return t.value;case"ADD_VIDEOS":return[].concat((0,H.Z)(e),(0,H.Z)(t.value));case"ADD_VIDEO":return[].concat((0,H.Z)(e),[t.value]);case"UPDATE_VIDEO":return e.map((function(e,r){var n;return e.id!==(null===(n=t.value)||void 0===n?void 0:n.id)?e:q(q({},e),t.value)}));case"REMOVE_VIDEO":return e.filter((function(e){return e.guid!==t.value.guid}))}return e},collectionsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_COLLECTIONS":return t.value;case"ADD_COLLECTION":return[].concat((0,H.Z)(e),[t.value]);case"UPDATE_COLLECTION":return e.map((function(e,r){var n;return e.id!==(null===(n=t.value)||void 0===n?void 0:n.id)?e:q(q({},e),t.value)}));case"REMOVE_COLLECTION":return e.filter((function(e){return e!==t.value}))}return e},uploadsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_UPLOADS":return t.value;case"ADD_UPLOADS":return[].concat((0,H.Z)(e),(0,H.Z)(t.value));case"ADD_UPLOAD":return[].concat((0,H.Z)(e),[t.value]);case"UPDATE_UPLOAD":return e.map((function(e,r){var n;return e.id!==(null===(n=t.value)||void 0===n?void 0:n.id)?e:q(q({},e),t.value)}));case"REMOVE_UPLOAD":return e.filter((function(e){return e!==t.value}))}return e},requestReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{private:!1,collection:"",search:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_PRIVATE_REQUEST":return q(q({},e),{},{private:t.value});case"SET_SEARCH_REQUEST":return q(q({},e),{},{search:t.value});case"SET_COLLECTION_REQUEST":return q(q({},e),{},{collection:t.value})}return e},UIReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1,videosFetched:!1,createCollection:!1,selectedId:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LOADING":return q(q({},e),{},{loading:t.value});case"SET_VIDEOS_FETCHED":return q(q({},e),{},{videosFetched:t.value});case"SET_UI_ITEM":return q(q({},e),{},(0,a.Z)({},t.item,t.value))}return e},errorReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_ERROR":return[].concat((0,H.Z)(e),[t.value]);case"REMOVE_ERROR":return e.filter((function(e){return e!==t.value}))}return e}});function K(e){return(null==e?void 0:e.videosReducer)||[]}function Q(e){return(null==e?void 0:e.collectionsReducer)||[]}function X(e){return(null==e?void 0:e.uploadsReducer)||[]}function J(e){var t;return!(null==e||null===(t=e.requestReducer)||void 0===t||!t.private)}function ee(e){var t;return(null==e||null===(t=e.UIReducer)||void 0===t?void 0:t.loading)||!1}function te(e){return(null==e?void 0:e.errorReducer)||[]}function re(e){var t;return(null==e||null===(t=e.UIReducer)||void 0===t?void 0:t.videosFetched)||!1}function ne(e){var t;return null==e||null===(t=e.requestReducer)||void 0===t?void 0:t.collection}function oe(e,t){var r;return null==e||null===(r=e.UIReducer)||void 0===r?void 0:r[t]}function ae(e){var t;return null!=e&&null!==(t=e.requestReducer)&&void 0!==t&&t.private?"private":"public"}function le(e){return{type:"SET_VIDEOS",value:e}}function ie(e){return{type:"ADD_VIDEOS",value:e}}function se(e){return{type:"REMOVE_VIDEO",value:e}}function ce(e){return{type:"SET_COLLECTIONS",value:e}}function ue(e){return{type:"ADD_COLLECTION",value:e}}function pe(e){return{type:"SET_PRIVATE_REQUEST",value:e}}function de(e){return{type:"SET_SEARCH",value:e}}function fe(e){return{type:"SET_COLLECTION_REQUEST",value:e}}function ye(e){return{type:"SET_UPLOADS",value:e}}function ve(e){return{type:"ADD_UPLOADS",value:e}}function me(e){return{type:"REMOVE_UPLOAD",value:e}}function he(e){return{type:"SET_VIDEOS_FETCHED",value:e}}function be(e){return{type:"SET_LOADING",value:e}}function ge(e,t){return{type:"SET_UI_ITEM",item:e,value:t}}function Ze(e){return{type:"ADD_ERROR",value:e}}function we(e){return{type:"REMOVE_ERROR",value:e}}(0,wp.data.registerStore)("presto-player/bunny-popup",{reducer:Y,selectors:n,actions:o});var _e,ke,xe,Ce,Pe,Oe,Se,Ee,je,Ne,Ae,Te,De,Re,Be,Le,Me,Ie,Fe,Ue,Ve,ze=function(e){return 3==(null==e?void 0:e.status)&&(null==e?void 0:e.availableResolutions.length)},$e=function(e){return ze(e)||4===(null==e?void 0:e.status)},Ge=function(e){return 0==(null==e?void 0:e.status)?"Processing":1==(null==e?void 0:e.status)?"Uploaded":2==(null==e?void 0:e.status)?"Processing":ze(e)?"Playable":3==(null==e?void 0:e.status)?"Encoding":4==(null==e?void 0:e.status)?"Live":5==(null==e?void 0:e.status)?"Error":6==(null==e?void 0:e.status)?"Upload Failed":void 0},He=function(e){return null==e||null==e?"":new Date(1e3*e).toISOString().substr(11,8)},We=function(e){if(null==e||0==e)return"Unknown";if(0==e)return"0 b";var t=parseInt(Math.floor(Math.log(e)/Math.log(1024)).toString());return(e/Math.pow(1024,t)).toFixed(2)+" "+["b","KB","MB","GB","TB"][t]},qe=wp.i18n.__,Ye=wp.components,Ke=Ye.Button,Qe=Ye.BaseControl,Xe=Ye.Disabled,Je=Ye.Card,et=Ye.CardBody,tt=wp.element,rt=tt.useState,nt=(tt.useContext,tt.useEffect),ot=wp.data,at=ot.dispatch,lt=ot.useSelect,it={name:"qhxz92",styles:"max-width:100%"},st=function(){var e=rt(!1),t=(0,i.Z)(e,2),r=t[0],n=t[1],o=rt(!1),a=(0,i.Z)(o,2),s=a[0],u=a[1],p=rt(null),d=(0,i.Z)(p,2),f=d[0],y=d[1],v=lt((function(e){return e("presto-player/bunny-popup").isPrivate()})),m=lt((function(e){return e("presto-player/bunny-popup").ui("selectedId")})),b=lt((function(e){return e("presto-player/bunny-popup").videos()}));nt((function(){y(m?b.find((function(e){return e.guid===m})):null)}),[b,m]);var g=function(){var e=(0,l.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wp.apiFetch({path:"presto-player/v1/bunny/stream/videos/".concat(f.id),method:"DELETE",data:{type:v?"private":"public"}});case 2:at("presto-player/bunny-popup").removeVideo(f),at("presto-player/bunny-popup").setUI("selectedId",null),u(!1),n(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Z=(0,w.iv)(_e||(_e=(0,h.Z)(["\n    margin-top: 5px;\n  "])));if(!f)return"";var _,k,x,C,P=function(e){return v?null==e?void 0:e.webPURLSigned:null==e?void 0:e.webPURL};return f&&(0,w.tZ)("div",{className:"presto-player__media-modal-sidebar-content"},(0,w.tZ)(Qe,{css:(0,w.iv)(ke||(ke=(0,h.Z)(["\n            position: relative;\n          "])))},(0,w.tZ)(Xe,{key:f.id},$e(f)&&P(f)&&(0,w.tZ)("img",{src:P(f),css:it})),(0,w.tZ)(Ke,{isSmall:!0,isPrimary:!0,isBusy:!$e(f),css:(0,w.iv)(xe||(xe=(0,h.Z)(["\n              ","\n              top: 8px;\n              right: 8px;\n              font-size: 11px;\n              color: #ffffff;\n              padding: 2px 10px;\n              border-radius: 9999px;\n            "])),$e(f)?"position: absolute;":"")},Ge(f))),(0,w.tZ)(Qe,null,(0,w.tZ)(Qe.VisualLabel,null,qe("Name","presto-player")),(0,w.tZ)("h3",{css:Z},f.title)),!(null==f||!f.visibility)&&(0,w.tZ)(Qe,null,(0,w.tZ)(Qe.VisualLabel,null,qe("Visibility","presto-player")),(0,w.tZ)("h3",{css:Z},f.visibility)),(0,w.tZ)(Qe,null,(0,w.tZ)(Qe.VisualLabel,null,qe("Size","presto-player")),(0,w.tZ)("h3",{css:Z},We((null==f?void 0:f.size)||0))),(0,w.tZ)(Qe,null,(0,w.tZ)(Qe.VisualLabel,null,qe("Length","presto-player")),(0,w.tZ)("h3",{css:Z},He(null==f?void 0:f.length))),(0,w.tZ)(Qe,null,(0,w.tZ)(Qe.VisualLabel,null,qe("Created","presto-player")),(0,w.tZ)("h3",{css:Z},(_=null==f?void 0:f.created_at,C=(k=(_=new Date(_)).getHours())>=12?"pm":"am",k=(k%=12)||12,x=(x=_.getMinutes())<10?"0"+x:x,_.getDate()+"-"+(_.getMonth()+1)+"-"+_.getFullYear()+" at "+k+":"+x+C))),(0,w.tZ)(Qe,null,r?(0,w.tZ)(Je,null,(0,w.tZ)(et,null,(0,w.tZ)("p",null,(0,w.tZ)("strong",null,qe("Are you sure?","presto-player"))),(0,w.tZ)("p",null,qe("Are you sure you want to delete this video?","presto-player")),(0,w.tZ)(Ke,{isDestructive:!0,disabled:s,isBusy:s,onClick:function(e){e.preventDefault(),g(),u(!0)}},qe("Yes","presto-player")),(0,w.tZ)(Ke,{onClick:function(){return n(!1)}},qe("Cancel","presto-player")))):(0,w.tZ)(Ke,{isDestructive:!0,onClick:function(){n(!r)}},qe("Delete video","presto-player"))))},ct=function(e){var t=e.className,r=e.progress;return(0,w.tZ)("div",{className:t},(0,w.tZ)("div",{css:(0,w.iv)(Ce||(Ce=(0,h.Z)(["\n          height: 100%;\n          background-color: var(--wp-admin-theme-color, #007cba);\n        "]))),style:{width:"".concat(r,"%")}}))},ut=function(e){var t=e.progress;return(0,w.tZ)("div",{css:(0,w.iv)(Pe||(Pe=(0,h.Z)(["\n        max-width: 100%;\n        object-fit: cover;\n        width: 100%;\n        height: 140px;\n        background-color: #222;\n        color: white;\n        text-decoration: none;\n        text-align: center;\n        box-sizing: border-box;\n        box-sizing: border-box;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n      "])))},(0,w.tZ)(ct,{progress:t,css:(0,w.iv)(Oe||(Oe=(0,h.Z)(["\n          width: 100%;\n          border-radius: 0px;\n          margin: 0 15px;\n          background-color: #e3e3e3;\n          height: 3px;\n        "])))}))},pt=r(7462),dt=function(e){var t=e.thumbnail,r=e.title,n=e.footer,o=e.badge,a=e.before,l=e.after;return(0,w.tZ)("div",(0,pt.Z)({className:"presto-player__video-thumb",css:(0,w.iv)(Se||(Se=(0,h.Z)(["\n        cursor: pointer;\n        user-select: none;\n        display: inline-block;\n        position: relative;\n        margin-right: 20px;\n        font-weight: bold;\n        margin-bottom: 20px;\n        width: 220px;\n        flex: 0 0 220px;\n        border: 1px solid #e0e0e0;\n        border-radius: 4px;\n        overflow: hidden;\n      "])))},e),!!a&&a,!!t&&t,(0,w.tZ)("div",{css:(0,w.iv)(Ee||(Ee=(0,h.Z)(["\n          margin: 14px;\n        "])))},!!o&&(0,w.tZ)("div",{css:(0,w.iv)(je||(je=(0,h.Z)(["\n              position: absolute;\n              top: 8px;\n              right: 8px;\n            "])))},o),!!r&&(0,w.tZ)("span",{css:(0,w.iv)(Ne||(Ne=(0,h.Z)(["\n              text-overflow: ellipsis;\n              white-space: nowrap;\n              overflow: hidden;\n              width: 100%;\n              max-width: 100%;\n              display: inline-block;\n              margin-bottom: 7px;\n              font-size: 13px;\n            "])))},r),!!n&&(0,w.tZ)("div",{css:(0,w.iv)(Ae||(Ae=(0,h.Z)(["\n              font-size: 12px;\n              opacity: 0.75;\n              margin-bottom: 7px;\n            "])))},n)),!!l&&l)},ft=wp.components,yt=ft.Icon,vt=ft.Button,mt=wp.element,ht=mt.useEffect,bt=mt.useState,gt=wp.data,Zt=gt.useSelect,wt=gt.dispatch,_t=function(e){var t=e.video,r=bt(),n=(0,i.Z)(r,2),o=n[0],a=n[1],l=Zt((function(e){return e("presto-player/bunny-popup").isPrivate()})),s=Zt((function(e){return e("presto-player/bunny-popup").ui("selectedId")}));return ht((function(){a(s?s===t.guid:null)}),[s]),(0,w.tZ)(dt,{onClick:function(){wt("presto-player/bunny-popup").setUI("selectedId",null==t?void 0:t.guid)},css:(0,w.iv)(Fe||(Fe=(0,h.Z)(["\n        ","\n        border: 1px solid\n          ",";\n      "])),o&&"box-shadow: 0 0 0 0px #fff, 0 0 0 3px var(--wp-admin-theme-color, #007cba);",o?"var(--wp-admin-theme-color, #007cba)":"#e0e0e0"),thumbnail:function(){if(t.status<3)return(0,w.tZ)(ut,{progress:t.encodeProgress});var e=l?null==t?void 0:t.thumbnailURLSigned:null==t?void 0:t.thumbnailURL;return e?(0,w.tZ)("img",{css:(0,w.iv)(De||(De=(0,h.Z)(["\n            max-width: 100%;\n            object-fit: cover;\n            width: 100%;\n            height: 140px;\n            display: block;\n          "]))),src:e}):void 0}(),badge:(0,w.tZ)(vt,{isSmall:!0,isPrimary:!0,isBusy:!$e(t),css:(0,w.iv)(Te||(Te=(0,h.Z)(["\n        font-size: 11px;\n        color: #ffffff;\n        padding: 2px 10px;\n        border-radius: 9999px;\n      "])))},Ge(t)),title:t.title,footer:(0,w.tZ)("div",{css:(0,w.iv)(Re||(Re=(0,h.Z)(["\n        display: flex;\n        align-items: center;\n      "])))},(0,w.tZ)("span",{css:(0,w.iv)(Be||(Be=(0,h.Z)(["\n          margin-right: 10px;\n          display: flex;\n          align-items: center;\n        "])))},(0,w.tZ)(yt,{css:(0,w.iv)(Le||(Le=(0,h.Z)(["\n            width: 14px;\n            height: 14px;\n            font-size: 14px;\n            margin-right: 5px;\n            opacity: 0.5;\n          "]))),icon:"clock",size:14}),(0,w.tZ)("span",null,He(t.length))),(0,w.tZ)("span",{css:(0,w.iv)(Me||(Me=(0,h.Z)(["\n          display: flex;\n          align-items: center;\n        "])))},(0,w.tZ)(yt,{css:(0,w.iv)(Ie||(Ie=(0,h.Z)(["\n            opacity: 0.5;\n            width: 14px;\n            height: 14px;\n            font-size: 14px;\n            margin-right: 5px;\n          "]))),icon:"database",size:14}),(0,w.tZ)("span",null,We(t.storageSize)))),after:3===t.status?(0,w.tZ)(ct,{css:(0,w.iv)(Ue||(Ue=(0,h.Z)(["\n              width: 100%;\n              border-radius: 0px;\n              margin: 0;\n              background-color: #e3e3e3;\n              height: 3px;\n            "]))),progress:t.encodeProgress}):""})},kt=wp.components,xt=kt.Flex,Ct=kt.FlexBlock,Pt=kt.Spinner,Ot={name:"1azakc",styles:"text-align:center"},St=function(e){var t=e.className;return(0,w.tZ)(xt,{className:t},(0,w.tZ)(Ct,{css:Ot},(0,w.tZ)(Pt,null)))};function Et(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function jt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Et(Object(r),!0).forEach((function(t){(0,a.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Et(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Nt,At,Tt,Dt,Rt,Bt,Lt,Mt,It,Ft,Ut=wp.i18n.__,Vt=wp.element,zt=Vt.useState,$t=Vt.useEffect,Gt=Vt.Fragment,Ht=wp.components,Wt=Ht.Flex,qt=Ht.FormFileUpload,Yt=Ht.Notice,Kt=wp.data,Qt=Kt.dispatch,Xt=Kt.useSelect,Jt={name:"s5xdrg",styles:"display:flex;align-items:center"},er={name:"82a6rk",styles:"flex:1"},tr={name:"82a6rk",styles:"flex:1"},rr=function(){var e=zt(!1),t=(0,i.Z)(e,2),r=t[0],n=t[1],o=zt(""),a=(0,i.Z)(o,2),s=a[0],u=a[1],p=Xt((function(e){return e("presto-player/bunny-popup").videosFetched()})),d=Xt((function(e){return e("presto-player/bunny-popup").videos()})),f=Xt((function(e){return e("presto-player/bunny-popup").requestType()})),y=Xt((function(e){return e("presto-player/bunny-popup").currentCollection()}));$t((function(){p||v()}),[p]),$t((function(){var e=setInterval((function(){v({sync:!0})}),3e3);return function(){return clearInterval(e)}}),[p]);var v=function(){var e=(0,l.Z)(c().mark((function e(){var t,r,n,o,a=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{sync:!1},r=t.sync,e.prev=1,e.next=4,wp.apiFetch({path:wp.url.addQueryArgs("presto-player/v1/bunny/stream/videos",jt(jt({type:f},null!=y&&y.guid?{collection:null==y?void 0:y.guid}:{}),{},{items_per_page:500}))});case 4:n=e.sent,Qt("presto-player/bunny-popup").setVideos(null==n?void 0:n.items),u(""),e.next=15;break;case 9:if(e.prev=9,e.t0=e.catch(1),401!==(null===e.t0||void 0===e.t0||null===(o=e.t0.data)||void 0===o?void 0:o.status)){e.next=14;break}return u(Ut("Please wait. Pullzone cache is clearing. This may take a minute or two...")),e.abrupt("return");case 14:r||Qt("presto-player/bunny-popup").addError(e.t0.message);case 15:return e.prev=15,Qt("presto-player/bunny-popup").setVideosFetched(!0),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[1,9,15,18]])})));return function(){return e.apply(this,arguments)}}();return s?(0,w.tZ)(Yt,{status:"warning",isDismissible:!1},(0,w.tZ)("div",{css:Jt},(0,w.tZ)(St,{css:er}),s)):p?(0,w.tZ)(Gt,null,d&&d.length?(0,w.tZ)("div",null,!(null!=y&&y.guid)&&(0,w.tZ)("h2",null,Ut("Videos","presto-player")),d.map((function(e){if((null==e?void 0:e.collectionId)===((null==y?void 0:y.guid)||""))return(0,w.tZ)(_t,{key:e.id,video:e,onClick:function(){n(r.guid===e.guid?{}:e)},selected:r.guid===e.guid})}))):(0,w.tZ)(Wt,{align:"center",justify:"center",css:(0,w.iv)(Ve||(Ve=(0,h.Z)(["\n          height: 100%;\n          text-align: center;\n        "])))},(0,w.tZ)("div",null,(0,w.tZ)("h2",null,Ut("Drop video files here to upload","presto-player")),(0,w.tZ)("p",null,Ut("or browse for a video","presto-player")),(0,w.tZ)(qt,{isSecondary:!0,accept:"video/mp4,video/x-m4v,video/*",onChange:function(e){e.target.files&&(Qt("presto-player/bunny-popup").addUploads(e.target.files),jQuery(e.target).val(null))}},Ut("Upload New Video","presto-player"))))):(0,w.tZ)(St,{css:tr})},nr=wp.components.Icon,or=wp.data.dispatch,ar=function(e){var t=e.collection;return(0,w.tZ)(dt,{onClick:function(e){e.preventDefault(),or("presto-player/bunny-popup").setCollectionRequest(t),or("presto-player/bunny-popup").setVideosFetched(!1)},title:(0,w.tZ)("div",null,(0,w.tZ)(nr,{icon:"open-folder",css:(0,w.iv)(Nt||(Nt=(0,h.Z)(["\n              color: var(--wp-admin-theme-color);\n              margin-right: 10px;\n            "])))}),t.name),footer:(0,w.tZ)("div",null,t.videoCount," Videos")})},lr=wp.i18n.__,ir=wp.element.useEffect,sr=wp.data,cr=sr.useSelect,ur=sr.dispatch,pr=function(){var e=cr((function(e){return e("presto-player/bunny-popup").collections()})),t=cr((function(e){return e("presto-player/bunny-popup").requestType()})),r=function(){var e=(0,l.Z)(c().mark((function e(){var r,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,wp.apiFetch({path:wp.url.addQueryArgs("presto-player/v1/bunny/stream/collections",{type:t,items_per_page:500})});case 3:r=e.sent,ur("presto-player/bunny-popup").setCollections(null==r?void 0:r.items),e.next=12;break;case 7:if(e.prev=7,e.t0=e.catch(0),401!==(null===e.t0||void 0===e.t0||null===(n=e.t0.data)||void 0===n?void 0:n.status)){e.next=11;break}return e.abrupt("return");case 11:ur("presto-player/bunny-popup").addError(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return ir((function(){r()}),[]),!!e.length&&(0,w.tZ)("div",null,(0,w.tZ)("h2",null,lr("Collections","presto-player")),(0,w.tZ)("div",{css:(0,w.iv)(At||(At=(0,h.Z)(["\n            display: flex;\n            align-items: stretch;\n            overflow: auto;\n          "])))},e.map((function(e){return(0,w.tZ)(ar,{collection:e,key:e.guid})}))))},dr=wp.i18n.__,fr=wp.components,yr=fr.Button,vr=fr.TextControl,mr=fr.Modal,hr=fr.BaseControl,br=wp.element,gr=br.useState,Zr=br.Fragment,wr=wp.data,_r=wr.dispatch,kr=wr.useSelect,xr=function(){var e=gr(""),t=(0,i.Z)(e,2),r=t[0],n=t[1],o=gr(!1),a=(0,i.Z)(o,2),s=a[0],u=a[1],p=kr((function(e){return e("presto-player/bunny-popup").requestType()})),d=kr((function(e){return e("presto-player/bunny-popup").ui("createCollection")})),f=function(e){_r("presto-player/bunny-popup").setUI("createCollection",e)},y=function(){var e=(0,l.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.prev=1,e.next=4,wp.apiFetch({path:"presto-player/v1/bunny/stream/collections",method:"POST",data:{type:p,name:r}});case 4:t=e.sent,_r("presto-player/bunny-popup").addCollection(t),_r("presto-player/bunny-popup").setCollectionRequest(t),_r("presto-player/bunny-popup").setVideosFetched(!1),n(""),f(!1),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.error(e.t0);case 15:return e.prev=15,u(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[1,12,15,18]])})));return function(){return e.apply(this,arguments)}}();return(0,w.tZ)(Zr,null,(0,w.tZ)(yr,{isSecondary:!0,onClick:function(){return f(!0)}},dr("Create Collection","presto-player")),d&&(0,w.tZ)(mr,{overlayClassName:"presto-modal",title:"Create New Collection",shouldCloseOnClickOutside:!1,isDismissible:!1},(0,w.tZ)(vr,{css:(0,w.iv)(Tt||(Tt=(0,h.Z)(["\n              margin-bottom: 15px;\n            "]))),tabIndex:"0",placeholder:dr("Enter a collection name","presto-player"),value:r,onChange:function(e){return n(e)}}),(0,w.tZ)(hr,null,(0,w.tZ)(yr,{isBusy:s,disabled:s,isPrimary:!0,onClick:function(){y()}},dr("Create","presto-player"))," ",(0,w.tZ)(yr,{onClick:function(){return f(!1)}},dr("Cancel","presto-player")))))},Cr=wp.i18n.__,Pr=wp.components,Or=Pr.Flex,Sr=Pr.FlexBlock,Er=Pr.FlexItem,jr=(Pr.Button,Pr.FormFileUpload),Nr=wp.data.dispatch,Ar=function(e){var t=e.afterUpload;return(0,w.tZ)(Or,null,(0,w.tZ)(Sr,null,(0,w.tZ)(Or,{justify:"flex-start"},(0,w.tZ)(jr,{multiple:!0,isPrimary:!0,accept:"video/mp4,video/x-m4v,video/*",onChange:function(e){e.target.files&&(Nr("presto-player/bunny-popup").addUploads(e.target.files),jQuery(e.target).val(null))}},Cr("Upload Videos","presto-player"))," ",(0,w.tZ)(xr,null),!!t&&t)),(0,w.tZ)(Er,null))},Tr=wp.i18n.__,Dr=wp.components.Button,Rr=wp.element,Br=Rr.useState,Lr=Rr.useEffect,Mr=wp.data.useSelect,Ir=function(e){var t=e.onChoose,r=Br(null),n=(0,i.Z)(r,2),o=n[0],a=n[1],l=Br(!1),s=(0,i.Z)(l,2),c=s[0],u=s[1],p=Mr((function(e){return e("presto-player/bunny-popup").ui("selectedId")})),d=Mr((function(e){return e("presto-player/bunny-popup").videos()}));return Lr((function(){a(p?d.find((function(e){return e.guid===p})):null)}),[d,p]),Lr((function(){3==(null==o?void 0:o.status)&&null!=o&&o.availableResolutions.length?u(!0):u((null==o?void 0:o.status)>3&&(null==o?void 0:o.status)<5)}),[null==o?void 0:o.availableResolutions]),(0,b.tZ)(Dr,{isPrimary:!0,disabled:!c,onClick:function(){return t(o)}},null!=o&&o.id&&!c?Tr("Please wait, video is encoding...","presto-player"):Tr("Choose","presto-player"))},Fr=wp.components.Icon,Ur=function(e){var t=e.children,r=e.onClick;return(0,w.tZ)("span",{onClick:r,css:(0,w.iv)(Dt||(Dt=(0,h.Z)(["\n        display: inline-flex;\n        align-items: center;\n        cursor: pointer;\n        color: var(--wp-admin-theme-color, #007cba);\n        padding: 6px 0;\n      "])))},(0,w.tZ)(Fr,{css:(0,w.iv)(Rt||(Rt=(0,h.Z)(["\n          width: 14px;\n          height: 14px;\n          font-size: 14px;\n          margin-right: 5px;\n        "]))),icon:"arrow-left-alt",size:14}),(0,w.tZ)("span",null,t))},Vr=wp.i18n.__,zr=wp.element.useState,$r=wp.data,Gr=$r.dispatch,Hr=$r.useSelect,Wr=wp.components,qr=Wr.Button,Yr=Wr.Modal,Kr=Wr.BaseControl,Qr=function(){var e=zr(!1),t=(0,i.Z)(e,2),r=t[0],n=t[1],o=zr(!1),a=(0,i.Z)(o,2),s=a[0],u=a[1],p=zr(""),d=(0,i.Z)(p,2),f=(d[0],d[1],Hr((function(e){return e("presto-player/bunny-popup").currentCollection()}))),y=Hr((function(e){return e("presto-player/bunny-popup").requestType()})),v=function(){var e=(0,l.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.prev=1,e.next=4,wp.apiFetch({path:"presto-player/v1/bunny/stream/collections/".concat(null==f?void 0:f.guid),method:"DELETE",data:{type:y}});case 4:n(!1),Gr("presto-player/bunny-popup").setCollectionRequest(""),Gr("presto-player/bunny-popup").setVideosFetched(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),n(!1),Gr("presto-player/bunny-popup").addError(e.t0.message);case 13:return e.prev=13,u(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,9,13,16]])})));return function(){return e.apply(this,arguments)}}();return(0,w.tZ)("div",{css:(0,w.iv)(Bt||(Bt=(0,h.Z)(["\n        margin-bottom: 2em;\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n      "])))},(0,w.tZ)("div",null,(0,w.tZ)(Ur,{onClick:function(){Gr("presto-player/bunny-popup").setCollectionRequest(""),Gr("presto-player/bunny-popup").setVideosFetched(!1)}},Vr("Back To Main Folder","presto-player")),(0,w.tZ)("h2",null,f.name)),(0,w.tZ)(qr,{isDestructive:!0,onClick:function(){return n(!0)}},Vr("Delete Collection","presto-player")),r&&(0,w.tZ)(Yr,{shouldCloseOnClickOutside:!1,overlayClassName:"presto-modal",title:"Delete Collection",onRequestClose:function(){return n(!1)}},(0,w.tZ)("h2",null,Vr("Are you sure you want to delete the collection? ","presto-player")),(0,w.tZ)("p",null,Vr("This will also delete all videos inside of the collection.","presto-player")),(0,w.tZ)(Kr,null,(0,w.tZ)(qr,{isDestructive:!0,disabled:s,isBusy:s,onClick:v},Vr("Delete","presto-player"))," ",(0,w.tZ)(qr,{onClick:function(){return n(!1)}},Vr("Cancel","presto-player")))))};function Xr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Jr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Xr(Object(r),!0).forEach((function(t){(0,a.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}wp.components.Icon;var en,tn,rn,nn,on,an,ln,sn,cn,un,pn,dn,fn,yn=wp.element,vn=yn.useState,mn=yn.useEffect,hn=(yn.useContext,wp.data),bn=hn.useSelect,gn=(hn.dispatch,wp.i18n.__),Zn=function(e){var t,r=e.file,n=e.name,o=e.onComplete,a=vn(0),s=(0,i.Z)(a,2),u=s[0],p=s[1],d=vn(gn("Uploading","presto-player")),f=(0,i.Z)(d,2),v=(f[0],f[1]),m=vn(""),b=(0,i.Z)(m,2),g=b[0],Z=b[1],_=vn(!1),k=(0,i.Z)(_,2),x=k[0],C=k[1],P=bn((function(e){return e("presto-player/bunny-popup").requestType()})),O=bn((function(e){return e("presto-player/bunny-popup").currentCollection()})),S=function(){var e=(0,l.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v(gn("Uploading","presto-player")),t=y({file:null!=r&&r[0]?null==r?void 0:r[0]:r,path:"presto-player/v1/bunny/stream/upload",onProgress:function(e){p(e)},onComplete:E,onError:function(e){Z(e.message),v(gn("Error","presto-player")),p(0)}});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=(0,l.Z)(c().mark((function e(t){var r,n,o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.path,n=t.name,v(gn("Creating","presto-player")),e.prev=2,e.next=5,wp.apiFetch({path:"presto-player/v1/bunny/stream/videos",method:"POST",data:Jr({type:P,name:n},null!=O&&O.guid?{collection:O.guid}:{})});case 5:o=e.sent,C(!0),j({path:r,video:o}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),Z(e.t0.message);case 13:return e.prev=13,p(0),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[2,10,13,16]])})));return function(_x){return e.apply(this,arguments)}}(),j=function(){var e=(0,l.Z)(c().mark((function e(t){var r,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.path,n=t.video,e.next=3,wp.apiFetch({path:"presto-player/v1/bunny/stream/store",method:"POST",data:{type:P,path:r,guid:n.guid}});case 3:o();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return mn((function(){return S(),function(){t&&t.cancel()}}),[]),x?"":(0,w.tZ)("div",{css:(0,w.iv)(Lt||(Lt=(0,h.Z)(["\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n        animation: components-button__busy-animation 2500ms infinite linear;\n        opacity: 1;\n        padding: 6px 12px;\n        border-radius: 99999px;\n        border: 1px solid #dddddd;\n        background-size: 100px 100%;\n        background-image: linear-gradient(\n          -45deg,\n          #ffffff 33%,\n          #f3f3f3 33%,\n          #f3f3f3 70%,\n          #ffffff 70%\n        );\n      "])))},(0,w.tZ)("div",{css:(0,w.iv)(Mt||(Mt=(0,h.Z)(["\n          flex: 1;\n          white-space: nowrap;\n          overflow: hidden;\n          max-width: 150px;\n          text-overflow: ellipsis;\n          font-weight: bold;\n        "])))},!!g&&g,!!n&&n," ",r.name,"..."),(0,w.tZ)("div",{css:(0,w.iv)(It||(It=(0,h.Z)(["\n          display: flex;\n          align-items: center;\n        "])))},(0,w.tZ)(ct,{css:(0,w.iv)(Ft||(Ft=(0,h.Z)(["\n            width: 50px;\n            height: 3px;\n            margin: 0 5px;\n            background: #e3e3e3;\n            border-radius: 9999px;\n            overflow: hidden;\n          "]))),progress:u})))},wn=wp.data.useSelect,kn=function(e){var t=e.removeUpload,r=(e.isPrivate,wn((function(e){return e("presto-player/bunny-popup").uploads()})));return r.length?(0,w.tZ)("div",{css:(0,w.iv)(en||(en=(0,h.Z)(["\n        overflow: auto;\n        display: flex;\n        align-items: center;\n        position: relative;\n      "])))},r.length&&r.map((function(e){return(0,w.tZ)(Zn,{css:(0,w.iv)(tn||(tn=(0,h.Z)(["\n                margin-right: 0px;\n              "]))),file:e,onComplete:function(){return t(e)}})}))):""},xn=wp.i18n.__,Cn=wp.components.Modal,Pn=function(e){var t=e.onClose,r=e.title,n=e.header,o=e.error,a=e.mainContent,l=e.sidebar,i=e.footer;return(0,w.tZ)(Cn,{isFullScreen:!0,title:r||xn("Add Media","presto-player"),onRequestClose:t,css:(0,w.iv)(rn||(rn=(0,h.Z)(["\n        .components-modal__content {\n          display: flex;\n          flex-direction: column;\n        }\n      "]))),overlayClassName:"presto-player__modal-overlay"},(0,w.tZ)("div",{css:(0,w.iv)(nn||(nn=(0,h.Z)(['\n          @media screen and (min-width: 780px) {\n            margin: -24px;\n            display: grid;\n            flex: 1;\n            max-height: calc(100vh - 68px);\n            grid-template-columns: 1fr 1fr minmax(0px, 267px);\n            grid-template-rows: minmax(50px, auto) 1fr 60px;\n            grid-template-areas:\n              "header header sidebar"\n              "main main sidebar"\n              "footer footer footer";\n            overflow: hidden;\n          }\n        ']))),"data-cy":"media-modal"},(0,w.tZ)("div",{css:(0,w.iv)(on||(on=(0,h.Z)(["\n            grid-area: header;\n            padding: 24px 24px 12px 24px;\n          "])))},(0,w.tZ)("div",{css:(0,w.iv)(an||(an=(0,h.Z)(["\n              display: flex;\n              align-items: center;\n\n              > * {\n                margin-right: 10px;\n              }\n            "])))},n),o),(0,w.tZ)("div",{css:(0,w.iv)(ln||(ln=(0,h.Z)(["\n            grid-area: main;\n            display: grid;\n            overflow: hidden;\n\n            .components-drop-zone__provider {\n              overflow: hidden;\n              display: grid;\n            }\n\n            .components-drop-zone {\n              z-index: 99;\n            }\n          "])))},a),(0,w.tZ)("div",{css:(0,w.iv)(sn||(sn=(0,h.Z)(["\n            display: none;\n            grid-area: sidebar;\n            padding: 0 16px;\n            z-index: 75;\n            background: #f3f3f3;\n            border-left: 1px solid #ddd;\n            overflow: auto;\n\n            @media screen and (min-width: 780px) {\n              display: block;\n            }\n\n            .sidebar-content {\n              padding: 16px 0;\n            }\n          "])))},l),(0,w.tZ)("div",{css:(0,w.iv)(cn||(cn=(0,h.Z)(["\n            grid-area: footer;\n            border-top: 1px solid #ddd;\n            display: flex;\n            align-items: center;\n            justify-content: flex-end;\n            padding: 8px;\n          "])))},i)))},On=wp.i18n.__,Sn=wp.components,En=(Sn.Button,Sn.DropZone),jn=Sn.DropZoneProvider,Nn=Sn.Notice,An=wp.element,Tn=(An.useState,An.useEffect),Dn=(An.Fragment,wp.data),Rn=Dn.dispatch,Bn=Dn.useSelect,Ln=function(e){var t=e.onClose,r=e.onChoose,n=Bn((function(e){return e("presto-player/bunny-popup").isPrivate()})),o=Bn((function(e){return e("presto-player/bunny-popup").uploads()})),a=Bn((function(e){return e("presto-player/bunny-popup").currentCollection()})),l=Bn((function(e){return e("presto-player/bunny-popup").errors()}));Tn((function(){Rn("presto-player/bunny-popup").setVideosFetched(!1),Rn("presto-player/bunny-popup").setCollections([]),Rn("presto-player/bunny-popup").setVideos([])}),[]);var i=On(n?"Private Stream Library":"Public Stream Library","presto-player"),s=(0,w.tZ)(Ar,{afterUpload:(0,w.tZ)(kn,{uploads:o,removeUpload:function(e){Rn("presto-player/bunny-popup").removeUpload(e)},isPrivate:n})}),c=(0,w.tZ)(st,null),u=(0,w.tZ)(Ir,{onChoose:r});return(0,w.tZ)(Pn,{title:i,header:s,mainContent:(0,w.tZ)(jn,{css:(0,w.iv)(un||(un=(0,h.Z)(["\n          overflow: auto;\n          display: flex;\n          flex-direction: column;\n        "])))},(0,w.tZ)("div",{css:(0,w.iv)(pn||(pn=(0,h.Z)(["\n            padding: 12px 24px;\n            overflow: auto;\n            display: flex;\n            flex-direction: column;\n          "])))},!!l.length&&l.map((function(e){return(0,w.tZ)(Nn,{css:(0,w.iv)(dn||(dn=(0,h.Z)(["\n                    margin: 0 0 20px 0;\n                  "]))),status:"error",onRemove:function(){return Rn("presto-player/bunny-popup").removeError(e)}},e)})),a?(0,w.tZ)(Qr,null):(0,w.tZ)(pr,null),(0,w.tZ)("div",{css:(0,w.iv)(fn||(fn=(0,h.Z)(["\n              display: flex;\n              align-items: stretch;\n            "])))},(0,w.tZ)(rr,null)),(0,w.tZ)(En,{label:"Drop files",onFilesDrop:function(e){Rn("presto-player/bunny-popup").addUploads(e)}}))),onClose:function(){o.length?confirm("Discard your uploads?")&&(t(),Rn("presto-player/bunny-popup").setUploads([])):t()},footer:u,sidebar:c})},Mn=wp.i18n.__,In=wp.element.useEffect,Fn=wp.data.dispatch,Un=function(e){var t=e.closePopup,r=e.onSelect,n=e.isPrivate;return In((function(){Fn("presto-player/bunny-popup").setIsPrivate(n)}),[n]),(0,b.tZ)(Ln,{onClose:t,onChoose:function(e){e.url=e.playlistURL,e.thumbnail=e.thumbnailURL,e.preview=e.webPURL,r(e)},header:Mn(n?"Private Stream Library":"Public Stream Library","presto-player"),title:Mn(n?"Private Video Stream":"Public Video Stream","presto-player")})},Vn=wp.i18n.__,zn=wp.element.useState,$n="".concat(prestoPlayer.root).concat(prestoPlayer.prestoVersionString,"bunny/"),Gn=wp.i18n.__,Hn=wp.element.useState,Wn="".concat(prestoPlayer.root).concat(prestoPlayer.prestoVersionString,"bunny/stream/"),qn=wp.i18n.__,Yn=wp.components,Kn=Yn.Button,Qn=Yn.TextControl,Xn=Yn.Placeholder,Jn=Yn.Flex,eo=Yn.FlexBlock,to=Yn.ExternalLink,ro=Yn.Spinner,no=Yn.FlexItem,oo=Yn.Notice,ao=wp.element.useEffect,lo=function(e){var t=e.onRefetch,r=e.type,n=e.autoSubmit,o="stream"===r?function(e){var t=Hn(""),r=(0,i.Z)(t,2),n=r[0],o=r[1],a=Hn(""),s=(0,i.Z)(a,2),u=s[0],p=s[1],d=Hn(!1),f=(0,i.Z)(d,2),y=f[0],v=f[1],m=Hn(0),h=(0,i.Z)(m,2),b=h[0],g=h[1],Z=Hn(""),w=(0,i.Z)(Z,2),_=w[0],k=w[1],x=function(e){return e.includes("Authorization has been denied")?"Your API key is incorrect. Please double-check to make sure you've copied it correctly.":e.includes("localhost")?"You cannot use a CDN on a local site. Please use Bunny.net on a live, publicly accessible site.":e},C=function(){var t=(0,l.Z)(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return k(""),t.prev=1,v(!0),g(0),p(Gn("Validating API Key...","presto-player")),t.next=7,wp.apiFetch({url:"".concat(Wn,"api-key"),method:"POST",data:{api_key:n}});case 7:if(t.sent.success){t.next=11;break}throw{message:"Could not save the API key. Please double check it to make sure it's correct."};case 11:t.next=18;break;case 13:return t.prev=13,t.t0=t.catch(1),g(0),k(null!==t.t0&&void 0!==t.t0&&t.t0.message?x(t.t0.message):"Something went wrong. Please try again"),t.abrupt("return");case 18:return t.prev=18,g(1),v(!1),p(""),t.finish(18);case 23:return t.prev=23,v(!0),p(Gn("Setting up public video library. This make take a few moments...","presto-player")),t.next=28,wp.apiFetch({url:"".concat(Wn,"library"),method:"POST",data:{type:"public"}});case 28:t.sent.id,t.next=37;break;case 32:return t.prev=32,t.t1=t.catch(23),g(0),k(null!==t.t1&&void 0!==t.t1&&t.t1.message?x(t.t1.message):"Something went wrong. Please try again"),t.abrupt("return");case 37:return t.prev=37,g(2),v(!1),p(""),t.finish(37);case 42:return t.prev=42,v(!0),p(Gn("Setting up private video library. This make take a few moments...","presto-player")),t.next=47,wp.apiFetch({url:"".concat(Wn,"library"),method:"POST",data:{type:"private"}});case 47:t.next=54;break;case 49:return t.prev=49,t.t2=t.catch(42),g(0),k(null!==t.t2&&void 0!==t.t2&&t.t2.message?x(t.t2.message):"Something went wrong. Please try again"),t.abrupt("return");case 54:return t.prev=54,g(2),v(!1),p(""),t.finish(54);case 59:e();case 60:case"end":return t.stop()}}),t,null,[[1,13,18,23],[23,32,37,42],[42,49,54,59]])})));return function(){return t.apply(this,arguments)}}();return{saveKey:C,setApikey:o,step:b,saveMessage:u,saving:y,error:_,totalSteps:3}}(t):function(e){var t=zn(""),r=(0,i.Z)(t,2),n=r[0],o=r[1],a=zn(""),s=(0,i.Z)(a,2),u=s[0],p=s[1],d=zn(!1),f=(0,i.Z)(d,2),y=f[0],v=f[1],m=zn(0),h=(0,i.Z)(m,2),b=h[0],g=h[1],Z=zn(""),w=(0,i.Z)(Z,2),_=w[0],k=w[1],x=function(e){return e.includes("Authorization has been denied")?"Your API key is incorrect. Please double-check to make sure you've copied it correctly.":e.includes("localhost")?"You cannot use a CDN on a local site. Please use Bunny.net on a live, publicly accessible site.":e},C=function(){var t=(0,l.Z)(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return k(""),t.prev=1,v(!0),g(0),p(Vn("Validating API Key...","presto-player")),t.next=7,wp.apiFetch({url:"".concat($n,"api-key"),method:"POST",data:{api_key:n}});case 7:if(t.sent.success){t.next=11;break}throw{message:"Could not save the API key. Please double check it to make sure it's correct."};case 11:t.next=18;break;case 13:return t.prev=13,t.t0=t.catch(1),g(0),k(null!==t.t0&&void 0!==t.t0&&t.t0.message?x(t.t0.message):"Something went wrong. Please try again"),t.abrupt("return");case 18:return t.prev=18,g(1),v(!1),p(""),t.finish(18);case 23:return t.prev=23,v(!0),p(Vn("Setting up storage zones. This make take a few minutes...","presto-player")),t.next=28,wp.apiFetch({url:"".concat($n,"storage-zones"),method:"POST"});case 28:t.sent.id,t.next=37;break;case 32:return t.prev=32,t.t1=t.catch(23),g(0),k(null!==t.t1&&void 0!==t.t1&&t.t1.message?x(t.t1.message):"Something went wrong. Please try again"),t.abrupt("return");case 37:return t.prev=37,g(2),v(!1),p(""),t.finish(37);case 42:return t.prev=42,v(!0),p(Vn("Setting up pull zones. This make take a few minutes...","presto-player")),t.next=47,wp.apiFetch({url:"".concat($n,"pull-zones"),method:"POST"});case 47:t.sent.id,t.next=56;break;case 51:return t.prev=51,t.t2=t.catch(42),g(0),k(null!==t.t2&&void 0!==t.t2&&t.t2.message?x(t.t2.message):"Something went wrong. Please try again"),t.abrupt("return");case 56:return t.prev=56,g(3),v(!1),p(""),t.finish(56);case 61:e();case 62:case"end":return t.stop()}}),t,null,[[1,13,18,23],[23,32,37,42],[42,51,56,61]])})));return function(){return t.apply(this,arguments)}}();return{saveKey:C,setApikey:o,step:b,saveMessage:u,saving:y,error:_,totalSteps:3}}(t),a=o.saveKey,s=o.apikey,u=o.setApikey,p=o.saveMessage,d=o.saving,f=o.totalSteps,y=o.step,v=o.error;return ao((function(){n&&a()}),[n]),(0,b.tZ)(Xn,{label:qn("Bunny.net Video","presto-player"),instructions:(0,b.tZ)(React.Fragment,null,qn("Enter your Bunny.net API key, which can be found on your Bunny CDN Account page.","presto-player"),"",(0,b.tZ)(to,{href:"https://bunnycdn.com/dashboard/account"},qn("Get My API Key","presto-player")))},d?(0,b.tZ)(Jn,null,(0,b.tZ)(no,null,(0,b.tZ)(ro,null)),(0,b.tZ)(eo,null,p,(0,b.tZ)("progress",{className:"presto-progress",max:f,value:y,style:{width:"100%"}}))):(0,b.tZ)("form",{onSubmit:function(e){e.preventDefault(),a()}},v&&(0,b.tZ)(Jn,{style:{width:"100%"}},(0,b.tZ)(eo,null,(0,b.tZ)(oo,{status:"error",isDismissible:!1},v))),(0,b.tZ)(Jn,{style:{width:"100%",maxWidth:"400px"}},(0,b.tZ)(eo,null,(0,b.tZ)(Qn,{value:s,onChange:function(e){return u(e)},className:"presto-link-placeholder-input",type:"password",autoComplete:"off",placeholder:qn("Your Bunny.net API Key","presto-player"),required:!0})),(0,b.tZ)(no,null,(0,b.tZ)(Kn,{isPrimary:!0,style:{marginBottom:"8px"},type:"submit"},qn("Next","presto-player")," ")))))},io=r(8955),so=r(1713);function co(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function uo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?co(Object(r),!0).forEach((function(t){(0,a.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):co(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var po=wp.components,fo=po.Button,yo=po.Disabled,vo=po.DropdownMenu,mo=po.Spinner,ho=po.Toolbar,bo=po.withNotices,go=po.BaseControl,Zo=po.Placeholder,wo=po.ToggleControl,_o=wp.editor,ko=_o.BlockControls,xo=_o.InspectorControls,Co=wp.i18n.__,Po=wp.compose.compose,Oo=wp.element,So=Oo.useEffect,Eo=Oo.useState,jo=Oo.Fragment,No=wp.data.dispatch,Ao=Po([(0,d.Z)(),(0,p.Z)()])(bo((function(e){var t,r,n=e.attributes,o=e.setAttributes,a=e.noticeOperations,s=e.branding,p=(e.isSelected,e.presetData),d=e.createVideo,y=e.lockSave,v=e.unlockSave,m=e.onRemoveSrc,h=e.renderKey,g=e.defaultPreset,Z=n.poster,w=n.src,_=n.id,k=n.tracks,x=n.visibility,C=n.previewSrc,P=n.thumbnail,O=Eo(""),S=(0,i.Z)(O,2),E=S[0],j=S[1],N=Eo(!1),A=(0,i.Z)(N,2),T=A[0],D=A[1],R=Eo(""),B=(0,i.Z)(R,2),L=B[0],M=B[1],I=Eo({stream:!1,storage:!1}),F=(0,i.Z)(I,2),U=F[0],V=F[1],z=Eo(!1),$=(0,i.Z)(z,2),H=$[0],W=$[1],q=Eo(!1),Y=(0,i.Z)(q,2),K=Y[0],Q=Y[1],X=Eo(!1),J=(0,i.Z)(X,2),ee=(J[0],J[1]),te=Eo(!1),re=(0,i.Z)(te,2),ne=re[0],oe=re[1],ae=wp.data.useSelect((function(e){return e("core").canUser("read","settings")})),le="private"===x,ie=null===(t=prestoPlayerAdmin)||void 0===t||null===(r=t.bunny)||void 0===r?void 0:r.disable_legacy_storage;function se(e){e.url?(o(uo(uo({src:e.url,preset:null==g?void 0:g.id},null!=e&&e.thumbnail?{thumbnail:e.thumbnail}:{}),null!=e&&e.preview?{preview:e.preview}:{})),D(!0),y(),d(uo({src:e.url,type:"bunny",title:e.title},null!=e&&e.guid?{external_id:e.guid}:{})).catch((function(e){o({src:""}),console.error(e)})).finally((function(){v(),D(!1)}))):o({src:void 0,id:void 0})}So((function(){No("presto-player/bunny-popup").setIsPrivate("private"===x)}),[x]),So((function(){var e,t,r,n,o,a;V({storage:null===(e=prestoPlayerAdmin)||void 0===e||null===(t=e.isSetup)||void 0===t||null===(r=t.bunny)||void 0===r?void 0:r.storage,stream:null===(n=prestoPlayerAdmin)||void 0===n||null===(o=n.isSetup)||void 0===o||null===(a=o.bunny)||void 0===a?void 0:a.stream})}),[]);var ce=function(){var e=(0,l.Z)(c().mark((function e(){var t,r,n,o,a,l,i,s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,wp.apiFetch({path:"wp/v2/settings"});case 3:t=e.sent,r=t.presto_player_bunny_pull_zones,n=t.presto_player_bunny_storage_zones,o=t.presto_player_bunny_stream_private,a=t.presto_player_bunny_stream_public,Q(!0),o||W(!0),i=(l=function(e){return!(null==e||!e.private_id||null==e||!e.public_id)})(r)||l(n),s=(null==o?void 0:o.pull_zone_url)&&(null==a?void 0:a.pull_zone_url),V({storage:i,stream:s}),M(i||s?"":"stream");case 15:return e.prev=15,ee(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[0,,15,18]])})));return function(){return e.apply(this,arguments)}}();So((function(){ae?ce():Q(!0)}),[ae]);var ue=function(){var e=(0,l.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!le){e.next=7;break}return e.next=3,u(w);case 3:t=e.sent,o({previewSrc:t}),e.next=8;break;case 7:o({previewSrc:w});case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();So((function(){ue()}),[w]);var pe=function(){var e=(0,l.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!le){e.next=7;break}return e.next=3,u(P);case 3:(t=e.sent)&&o({previewThumbnail:t}),e.next=8;break;case 7:o({previewThumbnail:P});case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();So((function(){pe()}),[P]);var de;return T||!K?(0,b.tZ)(Zo,{className:"presto-player__placeholder is-loading"},(0,b.tZ)(mo,null)):"stream"===L?(0,b.tZ)(lo,{type:"stream",autoSubmit:ne,onRefetch:function(){Q(!1),ce()}}):"storage"===L?(0,b.tZ)(lo,{type:"storage",onRefetch:function(){Q(!1),ce()}}):_?(0,b.tZ)(React.Fragment,null,(0,b.tZ)(ko,null,(0,b.tZ)(f.Z,{tracks:k,onChange:function(e){o({tracks:e})}}),(0,b.tZ)(ho,null,(0,b.tZ)(fo,{onClick:function(){return m()}},Co("Replace","presto-player")))),(0,b.tZ)(xo,null,(0,b.tZ)(io.Z,{setAttributes:o,attributes:n})),(0,b.tZ)("figure",{className:"wp-block-video"},(0,b.tZ)(yo,null,(0,b.tZ)(so.Z,{poster:Z,src:C,id:_,type:"bunny",attributes:n,setAttributes:o,preset:p,branding:s,key:h})))):(0,b.tZ)("div",null,(0,b.tZ)(Zo,{label:Co(le?"Bunny.net Private Video":"Bunny.net Video","presto-player"),icon:le?(0,b.tZ)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"presto-block-icon"},(0,b.tZ)("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})):(0,b.tZ)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"presto-block-icon"},(0,b.tZ)("polyline",{points:"8 17 12 21 16 17"}),(0,b.tZ)("line",{x1:"12",y1:"12",x2:"12",y2:"21"}),(0,b.tZ)("path",{d:"M20.88 18.09A5 5 0 0 0 18 9h-1.26A8 8 0 1 0 3 16.29"})),instructions:(0,b.tZ)(React.Fragment,null,Co("Add or select a Bunny.net video","presto-player"))},(0,b.tZ)(go,{className:"presto-player__placeholder-control"},(0,b.tZ)(wo,{label:"Private Video",help:le?"Video is only accessible to those who are logged in.":"Video is accessible to everyone.",checked:le,onChange:function(e){o({visibility:e?"private":"public"})}})),(0,b.tZ)(jo,null,U.stream&&(0,b.tZ)(fo,{isPrimary:!0,onClick:function(){return j("stream")}},Co(le?"Add/Select Private Video Stream":"Add/Select Video Stream","presto-player")),!ie&&U.storage&&(0,b.tZ)(fo,{isSecondary:U.stream,isPrimary:!U.stream,onClick:function(){return j("storage")}},Co(le?"Add/Select Private Video (Classic)":"Add/Select Video (Classic)","presto-player")),!U.stream&&!H&&U.storage&&(0,b.tZ)(fo,{isSecondary:!0,onClick:function(){oe(!0),M("stream")}},Co("Enable Bunny.net Stream!","presto-player")),!!ae&&(de=[],!H&&de.push({title:U.stream?Co("Reconnect Stream","presto-player"):Co("Connect Stream","presto-player"),onClick:function(){M("stream"),oe(!1)}}),!ie&&de.push({title:U.storage?Co("Reconnect Storage (Classic)","presto-player"):Co("Connect Storage (Classic)","presto-player"),onClick:function(){return M("storage")}}),(0,b.tZ)(vo,{icon:"ellipsis",label:Co("Connection Options","presto-player"),controls:de})))),"storage"===E&&(0,b.tZ)(G,{isPrivate:le,closePopup:function(){return j("")},noticeOperations:a,onSelect:se}),"stream"===E&&(0,b.tZ)(Un,{isPrivate:le,closePopup:function(){return j("")},noticeOperations:a,onSelect:se}))}))),To=r(6183);function Do(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ro(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Do(Object(r),!0).forEach((function(t){(0,a.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Do(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Bo=wp.i18n.__,Lo="presto-player/bunny",Mo=Ro(Ro({},To.Z),{},{attributes:Ro(Ro({},To.Z.attributes),{thumbnail:{type:String,default:""},preview:{type:String,default:""}}),premium:!0,title:Bo("Presto Bunny.net Video","presto-player"),description:Bo("Serve video through Bunny.net CDN.","presto-player"),variations:[{name:"public",isDefault:!0,title:Bo("Presto Bunny.net Video","presto-player"),description:Bo("Serve public video through Bunny.net CDN.","presto-player"),attributes:{visibility:"public"}},{name:"private",title:Bo("Presto Bunny.net Private Video","presto-player"),icon:(0,b.tZ)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"presto-block-icon"},(0,b.tZ)("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})),description:Bo("Serve private, secure video through Bunny.net CDN.","presto-player"),attributes:{visibility:"private"}}],icon:(0,b.tZ)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"presto-block-icon"},(0,b.tZ)("polyline",{points:"8 17 12 21 16 17"}),(0,b.tZ)("line",{x1:"12",y1:"12",x2:"12",y2:"21"}),(0,b.tZ)("path",{d:"M20.88 18.09A5 5 0 0 0 18 9h-1.26A8 8 0 1 0 3 16.29"})),edit:Ao})},8024:function(e,t,r){"use strict";r.r(t),r.d(t,{name:function(){return ve},options:function(){return me}});var n,o=r(9062),a=r(4942),l=(r(9307),r(3324)),i=r(6263),s=r(2485),c=r(8989),u=r(4184),p=r.n(u),d=r(2777),f=r(917),y=(lodash.noop,window.location.href),v=wp.components,m=v.Button,h=(v.Notice,v.Placeholder),b=(v.DropZone,v.withFilters),__=(v.BaseControl,v.ToggleControl,v.FormFileUpload,wp.i18n.__),g=wp.element,Z=g.useState,w=g.useEffect,_=wp.data.useSelect,k=(wp.deprecated,wp.editor),x=k.MediaUpload,C=k.MediaUploadCheck,P=k.URLPopover,O=function(e){var t=e.src,r=e.onChange,n=e.onSubmit,o=e.onClose;return(0,f.tZ)(P,{onClose:o},(0,f.tZ)("form",{className:"block-editor-media-placeholder__url-input-form",onSubmit:n},(0,f.tZ)("input",{"data-cy":"url-input",className:"block-editor-media-placeholder__url-input-field",type:"url","aria-label":__("URL","presto-player"),placeholder:__("Paste or type a Youtube, Vimeo or .mp4 video URL","presto-player"),onChange:r,value:t}),(0,f.tZ)(m,{"data-cy":"url-submit",className:"block-editor-media-placeholder__url-input-submit-button",icon:"editor-break",label:__("Apply","presto-player"),type:"submit"})))},S=b("editor.MediaPlaceholder")((function(e){var t=e.value,r=void 0===t?{}:t,n=e.allowedTypes,o=void 0===n?[]:n,a=e.className,i=e.icon,s=e.url,c=void 0===s||s,u=e.labels,v=void 0===u?{}:u,b=e.mediaPreview,g=e.notices,k=e.isAppender,P=e.isPrivate,S=e.addToGallery,E=e.onSelect,j=e.onCancel,N=e.onSelectURL,A=e.onDoubleClick,T=e.children,D=e.allowURLs,R=_((function(e){return(0,e("core/block-editor").getSettings)().mediaUpload}),[]),B=Z(""),L=(0,l.Z)(B,2),M=L[0],I=L[1],F=Z(!1),U=(0,l.Z)(F,2),V=U[0],z=U[1];w((function(){var e;I(null!==(e=null==r?void 0:r.src)&&void 0!==e?e:"")}),[r]);var $=function(e){I(e.target.value)},G=function(){z(!0)},H=function(){z(!1)},W=function(e){e.preventDefault(),M&&N&&(N(M),H())},q=function(e,t){var r=v.instructions,n=v.title;R||N||(r=__("To edit this block, you need permission to upload media.","presto-player"));var o=p()("block-editor-media-placeholder",a,{"is-appender":k});return(0,f.tZ)(h,{icon:i,label:n,instructions:r,className:o,notices:g,onClick:t,onDoubleClick:A,preview:b},T,e)},Y=function(){return N&&(0,f.tZ)("div",{className:"block-editor-media-placeholder__url-input-container"},c&&(0,f.tZ)(m,{"data-cy":"video-url",className:"block-editor-media-placeholder__button",onClick:G,isPressed:V,isTertiary:!0},__("Video URL","presto-player")),V&&(0,f.tZ)(O,{src:M,onChange:$,onSubmit:W,onClose:H}))};return(0,f.tZ)(C,{fallback:q(Y())},function(){var e=(0,f.tZ)(x,{title:__(P?"Select or Upload Private Video":"Select or Upload Video","presto-player"),addToGallery:S,gallery:!1,multiple:!1,onSelect:function(e){d.Z.unsetUrlParams(),E(e)},onClose:function(){d.Z.unsetUrlParams()},allowedTypes:o,value:Array.isArray(r)?r.map((function(e){return e.id})):r.id,render:function(e){var t=e.open;return(0,f.tZ)(m,{"data-cy":"add-video",isPrimary:!0,onClick:function(e){e.stopPropagation(),d.Z.unsetUrlParams(),P?d.Z.setUrlPrivate(y):d.Z.setUrlPublic(y),t()}},__(P?"Add/Select Private Video":"Add/Select Video","presto-player"))}});if(R){var t=(0,f.tZ)(React.Fragment,null,e,!!D&&Y(),j&&(0,f.tZ)(m,{className:"block-editor-media-placeholder__cancel-button",title:__("Cancel","presto-player"),isLink:!0,onClick:j},__("Cancel","presto-player")));return q(t)}return q(e)}())})),E=r(9807),j=wp.i18n.__,N=wp.components,A=N.withNotices,T=N.BaseControl,D=N.ToggleControl,R=N.Notice,B=wp.data.dispatch,L=["video"],M=A((function(e){var t,r=e.noticeUI,n=e.onSelect,o=e.children,a=e.onSelectURL,l=e.onUploadError,i=e.setAttributes,s=e.attributes,c="private"===s.visibility;return(0,f.tZ)("div",null,(0,f.tZ)(S,{icon:c?(0,f.tZ)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"presto-block-icon"},(0,f.tZ)("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),(0,f.tZ)("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})):(0,f.tZ)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"presto-block-icon"},(0,f.tZ)("polygon",{points:"23 7 16 12 23 17 23 7"}),(0,f.tZ)("rect",{x:"1",y:"5",width:"15",height:"14",rx:"2",ry:"2"})),labels:{title:j(c?"Presto Private Video":"Presto Video","presto-player"),instructions:j(c?"Upload a video file, or pick one from your media library.":"Upload a video file, pick one from your media library, or add one with a URL.","presto-player")},onSelect:n,onSelectURL:a,switcher:!0,isPrivate:c,allowURLs:!c,accept:"video/*",setAttributes:i,allowedTypes:L,value:s,notices:r,onError:l},(0,f.tZ)("div",{style:{width:"100%"}},(0,f.tZ)(T,{className:"presto-player__placeholder-control"},(0,f.tZ)(D,{label:(0,f.tZ)("div",null,j("Make Private","presto-player")," ",!(null!==(t=prestoPlayer)&&void 0!==t&&t.isPremium)&&(0,f.tZ)(E.Z,null)),help:j(c?"This video is only accessible to those who are logged in.":"This video is currently accessible to everyone.","presto-player"),checked:c,onChange:function(e){var t;null!==(t=prestoPlayer)&&void 0!==t&&t.isPremium?i({visibility:e?"private":"public"}):B("presto-player/player").setProModal(!0)}})),!!o&&(0,f.tZ)("div",{style:{width:"100%"}},o),!!c&&(0,f.tZ)(R,{status:"warning",isDismissible:!1},(0,f.tZ)("div",null,(0,f.tZ)("div",null,(0,f.tZ)("strong",null,j("Note","presto-player"))),j("Private videos use php to stream your video. Keep in mind this will use up disk space and bandwidth so it may not be an appropriate choice for some hosts.","presto-player"))))))})),I=r(9235),F=r(8955),U=r(1713),V=wp.i18n.__,z=wp.blob,$=z.getBlobByURL,G=z.isBlobURL,H=wp.components,W=H.Button,q=H.Disabled,Y=H.Toolbar,K=H.Notice,Q=H.withNotices,X=H.Placeholder,J=H.Spinner,ee=wp.editor,te=ee.BlockControls,re=ee.InspectorControls,ne=wp.compose.compose,oe=wp.element,ae=oe.useEffect,le=oe.useState,ie=wp.data.dispatch,se=wp.blocks.createBlock,ce=["video"],ue=ne([(0,c.Z)(),(0,s.Z)()])(Q((function(e){e.noticeUI;var t=e.attributes,r=e.setAttributes,n=(e.isSelected,e.noticeOperations),o=e.branding,a=e.loading,s=e.presetData,c=e.createVideo,u=e.onRemoveSrc,p=e.renderKey,d=e.lockSave,y=e.unlockSave,v=e.clientId,m=e.defaultPreset,h=t.poster,b=t.src,g=t.id,Z=t.tracks,w=le(""),_=(0,l.Z)(w,2),k=_[0],x=_[1],C=function(e){n.removeAllNotices(),n.createErrorNotice(null==e?void 0:e.message)};return ae((function(){if(!g&&G(b)){var e=$(b);e&&mediaUpload({filesList:[e],onFileChange:function(e){var t=(0,l.Z)(e,1)[0].url;r({src:t})},onError:function(e){n.createErrorNotice(e)},allowedTypes:ce})}}),[]),b?a||!g?(0,f.tZ)(X,{className:"presto-player__placeholder is-loading"},(0,f.tZ)(J,null)):(0,f.tZ)("div",null,(0,f.tZ)(te,null,(0,f.tZ)(I.Z,{tracks:Z,onChange:function(e){r({tracks:e})}}),(0,f.tZ)(Y,null,(0,f.tZ)(W,{onClick:function(){return u()}},V("Replace","presto-player")))),(0,f.tZ)(re,null,(0,f.tZ)(F.Z,{setAttributes:r,attributes:t})),(0,f.tZ)("figure",null,(0,f.tZ)(q,null,(0,f.tZ)(U.Z,{poster:h,src:b,id:g,type:"hosted",attributes:t,setAttributes:r,preset:s,branding:o,key:p})))):(0,f.tZ)("div",null,(0,f.tZ)(M,{onSelect:function(e){e&&e.url?(r({src:e.url,preset:null==m?void 0:m.id,attachment_id:e.id}),d(),c({src:e.url,type:"attachment",attachment_id:e.id}).catch((function(e){r({src:""}),C(e)})).finally(y)):r({src:void 0,id:void 0})},onSelectURL:function(e){var t;if(r({attachment_id:null}),!e||!(0,i.dA)(e)||null!==(t=prestoPlayer)&&void 0!==t&&t.isPremium){if(e!==b){var n=(0,i.Ln)(e).type;if("youtube"===n){var o=se("presto-player/youtube",{src:e});return void ie("core/editor").replaceBlock(v,o)}if("vimeo"===n){var a=se("presto-player/vimeo",{src:e});return void ie("core/editor").replaceBlock(v,a)}r({src:e,attachmend_id:null}),r({preset:null==m?void 0:m.id}),d(),c({src:e,type:"link"}).catch((function(e){r({src:""}),C(e)})).finally(y)}}else x((0,f.tZ)(K,{status:"info",onRemove:function(){return x("")}},(0,f.tZ)("div",null,(0,f.tZ)("div",null,(0,f.tZ)("strong",null,V("Get HLS Streaming and more with Presto Player Pro!","presto-player"))),V("Stream HLS links and more with Presto Player Pro.","presto-player"),(0,f.tZ)("div",{style:{marginTop:"1em"}},(0,f.tZ)(W,{isPrimary:!0},V("Upgrade","presto-player"))))))},setAttributes:r,attributes:t,onError:function(e){n.removeAllNotices(),n.createErrorNotice(e)}},k))}))),pe=r(6183);function de(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function fe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?de(Object(r),!0).forEach((function(t){(0,a.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):de(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ye=wp.i18n.__,ve="presto-player/self-hosted",me=fe(fe({},pe.Z),{},{title:ye("Presto Video","presto-player"),description:ye("Presto Self-hosted video block.","presto-player"),variations:[{name:"public",isDefault:!0,title:ye("Presto Video","presto-player"),description:ye("Presto Self-hosted video block.","presto-player"),attributes:{visibility:"public"}}].concat((0,o.Z)(null!==(n=prestoPlayer)&&void 0!==n&&n.isPremium?[{name:"private",title:ye("Presto Private Video","presto-player"),icon:(0,f.tZ)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"presto-block-icon"},(0,f.tZ)("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),(0,f.tZ)("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})),description:ye("Private video self-hosted block.","presto-player"),attributes:{visibility:"private"}}]:[])),icon:(0,f.tZ)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"presto-block-icon"},(0,f.tZ)("polygon",{points:"23 7 16 12 23 17 23 7"}),(0,f.tZ)("rect",{x:"1",y:"5",width:"15",height:"14",rx:"2",ry:"2"})),edit:ue})},318:function(e,t,r){"use strict";r.r(t),r.d(t,{name:function(){return x},options:function(){return C}}),r(9307);var n=r(3324),o=r(917),__=wp.i18n.__,a=wp.blockEditor,l=a.InnerBlocks,i=a.useBlockProps,s=wp.editor,c=(s.BlockControls,s.InspectorControls),u=wp.components,p=u.Disabled,d=(u.Toolbar,u.Button),f=u.PanelBody,y=(u.Panel,u.Placeholder),v=u.Spinner,m=wp.data,h=m.useSelect,b=m.dispatch,g=wp.element,Z=g.useState,w=g.useEffect,_=wp.blockSerializationDefaultParser.parse,k=wp.blockEditor,x=(k.InnerBlocks,k.useBlockProps,"presto-player/reusable-display"),C={title:"Reusable Block Display",category:"presto",attributes:{id:Number},supports:{align:!0,inserter:!1,reusable:!1,html:!1},icon:(0,o.tZ)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"presto-block-icon"},(0,o.tZ)("circle",{cx:"12",cy:"12",r:"10"}),(0,o.tZ)("line",{x1:"2",y1:"12",x2:"22",y2:"12"}),(0,o.tZ)("path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"})),edit:function(e){var t,r=e.attributes,a=e.isSelected,s=e.clientId,u=r.id,m=i(),g=Z(!1),k=(0,n.Z)(g,2),x=k[0],C=k[1],P=Z([]),O=(0,n.Z)(P,2),S=O[0],E=O[1],j=Z(""),N=(0,n.Z)(j,2),A=N[0],T=N[1],D=h((function(e){if(u)return e("presto-player/player").getReusableVideo(u)}));w((function(){wp.data.dispatch("core/block-editor").selectBlock(s)}),[x]);var R=h((function(e){return e("core/editor").getBlocksByClientId(s)[0].innerBlocks}));return R&&null!=D&&D.id&&R.forEach((function(e){b("core/editor").updateBlockAttributes(e.clientId,{selectionOverrideClientId:s})})),w((function(){if(D.id){var e,t,r;C(!0);var n=_(null==D||null===(e=D.content)||void 0===e?void 0:e.raw);E([null==n||null===(t=n[0])||void 0===t?void 0:t.innerBlocks[0].blockName,null==n||null===(r=n[0])||void 0===r?void 0:r.innerBlocks[0].attrs]),T("post.php?post=".concat(D.id,"&action=edit"))}}),[D]),x?S?(0,o.tZ)(React.Fragment,null,(0,o.tZ)(c,null,(0,o.tZ)(f,null,(0,o.tZ)("p",null,"This is a reusable video that you can edit once and place anywhere."),(0,o.tZ)(d,{isSecondary:!0,href:"edit.php?post_type=pp_video_block"},__("Manage Media Hub","presto-player")))),(0,o.tZ)("div",{className:"block-library-block__reusable-block-container"},(0,o.tZ)("div",m,a&&(0,o.tZ)("div",{className:"reusable-block-edit-panel"},(0,o.tZ)("b",{className:"reusable-block-edit-panel__info"},null==D||null===(t=D.title)||void 0===t?void 0:t.raw),(0,o.tZ)(d,{isSecondary:!0,href:A,className:"reusable-block-edit-panel__button"},__("Edit Reusable Video","presto-player"))),(0,o.tZ)(p,null,(0,o.tZ)(l,{template:[S],templateLock:"all",renderAppender:!1}))))):void 0:(0,o.tZ)("div",m,(0,o.tZ)(y,null,(0,o.tZ)(v,null)))},save:function(){return null}}},7592:function(e,t,r){"use strict";r.r(t),r.d(t,{name:function(){return m},options:function(){return h}}),r(9307);var n=r(917),__=wp.i18n.__,o=wp.blockEditor,a=o.InnerBlocks,l=o.useBlockProps,i=wp.data,s=i.useSelect,c=i.dispatch,u=wp.components,p=u.Button,d=u.Placeholder,f=wp.plugins,y=(f.getPlugins,f.unregisterPlugin),v=wp.element.useEffect,m="presto-player/reusable-edit",h={title:"Reusable Block Container",category:"presto",supports:{inserter:!1,reusable:!1,html:!1},icon:(0,n.tZ)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"presto-block-icon"},(0,n.tZ)("circle",{cx:"12",cy:"12",r:"10"}),(0,n.tZ)("line",{x1:"2",y1:"12",x2:"22",y2:"12"}),(0,n.tZ)("path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"})),edit:function(e){var t=l(),r=e.clientId,o=e.isSelected,i=s((function(e){return e("core/block-editor").getBlock(r).innerBlocks}));v((function(){o&&wp.data.dispatch("core/edit-post").openGeneralSidebar("edit-post/block")}),[o]),c("core/block-editor").setTemplateValidity(!0),v((function(){y("presto-player")}),[]);var u,f=function(e){var t=wp.blocks.createBlock("presto-player/".concat(e));return c("core/block-editor").insertBlock(t,0,r)};return null!=i&&i.length?(0,n.tZ)("div",null,(0,n.tZ)("div",t,(0,n.tZ)(a,{templateLock:!1,renderAppender:function(){return 0===i.length&&(0,n.tZ)(a.ButtonBlockAppender,null)}}))):(0,n.tZ)("div",null,(0,n.tZ)("div",t,(0,n.tZ)(d,{icon:(0,n.tZ)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"presto-block-icon"},(0,n.tZ)("polygon",{points:"23 7 16 12 23 17 23 7"}),(0,n.tZ)("rect",{x:"1",y:"5",width:"15",height:"14",rx:"2",ry:"2"})),instructions:__("Choose a video type to get started.","presto-player"),label:__("Choose a Video Type","presto-player")},(0,n.tZ)(p,{isPrimary:!0,onClick:function(){f("self-hosted")}},__("Video","presto-player")),(0,n.tZ)(p,{isPrimary:!0,onClick:function(){f("youtube")}},__("Youtube","presto-player")),(0,n.tZ)(p,{isPrimary:!0,onClick:function(){f("vimeo")}},__("Vimeo","presto-player")),null!==(u=prestoPlayer)&&void 0!==u&&u.isPremium?(0,n.tZ)(p,{isPrimary:!0,onClick:function(){f("bunny")}},__("Bunny.net","presto-player")):"",(0,n.tZ)(p,{isPrimary:!0,onClick:function(){f("audio")}},__("Audio","presto-player"))),(0,n.tZ)(a,{templateLock:!1,renderAppender:function(){return!1}})))},save:function(){var e=l.save();return(0,n.tZ)("div",e,(0,n.tZ)(a.Content,null))}}},4048:function(e,t,r){"use strict";r.r(t),r.d(t,{name:function(){return S},options:function(){return E}});var n=r(4942),o=(r(9307),r(2485)),a=r(8989),l=r(8955),i=r(1713),s=r(2383),c=r(6263),u=r(7161),p=r(917),d=wp.components,f=d.Button,y=d.Disabled,v=d.Toolbar,m=d.Placeholder,h=d.Spinner,b=d.withNotices,g=wp.editor,Z=g.BlockControls,w=g.InspectorControls,_=wp.element.useEffect,__=wp.i18n.__,k=(0,wp.compose.compose)([(0,a.Z)(),(0,o.Z)()])(b((function(e){var t=e.attributes,r=e.setAttributes,n=e.branding,o=e.noticeOperations,a=e.loading,d=e.createVideo,b=e.lockSave,g=e.unlockSave,k=e.presetData,x=e.onRemoveSrc,C=e.renderKey,P=t.poster,O=t.src,S=t.id,E=(0,u.D9)(O);return _((function(){E&&r({id:0});var e=(0,c.L2)(O);r({video_id:e}),b(),d({src:O,external_id:e,type:"vimeo"}).catch((function(e){r({src:""}),function(e){o.removeAllNotices(),o.createErrorNotice(null==e?void 0:e.message)}(e)})).finally(g)}),[O]),O?a||!S?(0,p.tZ)(m,{className:"presto-player__placeholder is-loading"},(0,p.tZ)(h,null)):(0,p.tZ)(React.Fragment,null,(0,p.tZ)(Z,null,(0,p.tZ)(v,null,(0,p.tZ)(f,{onClick:function(){return x()}},__("Replace","presto-player")))),(0,p.tZ)(w,null,(0,p.tZ)(l.Z,{setAttributes:r,attributes:t})),(0,p.tZ)("figure",null,(0,p.tZ)(y,null,(0,p.tZ)(i.Z,{poster:P,src:O,type:"vimeo",id:S,attributes:t,setAttributes:r,preset:k,branding:n,key:C})))):(0,p.tZ)("div",null,(0,p.tZ)(s.Z,{icon:(0,p.tZ)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"presto-block-icon"},(0,p.tZ)("path",{d:"M22.875 10.063c-2.442 5.217-8.337 12.319-12.063 12.319-3.672 0-4.203-7.831-6.208-13.043-.987-2.565-1.624-1.976-3.474-.681l-1.128-1.455c2.698-2.372 5.398-5.127 7.057-5.28 1.868-.179 3.018 1.098 3.448 3.832.568 3.593 1.362 9.17 2.748 9.17 1.08 0 3.741-4.424 3.878-6.006.243-2.316-1.703-2.386-3.392-1.663 2.673-8.754 13.793-7.142 9.134 2.807z"})),label:__("Presto Vimeo Video","presto-player"),instructions:__("Enter Vimeo Video URL","presto-player"),placeholder:__("Vimeo URL","presto-player"),attributes:t,setAttributes:r,onSelectURL:function(e){e!==O&&r({src:e})}}))}))),x=r(6183);function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var O=wp.i18n.__,S="presto-player/vimeo",E=P(P({},x.Z),{},{attributes:P(P({},x.Z.attributes),{},{video_id:{type:String}}),title:O("Presto Vimeo Video","presto-player"),description:O("A vimeo video wrapped in an awesome player.","presto-player"),icon:(0,p.tZ)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"presto-block-icon"},(0,p.tZ)("path",{d:"M22.875 10.063c-2.442 5.217-8.337 12.319-12.063 12.319-3.672 0-4.203-7.831-6.208-13.043-.987-2.565-1.624-1.976-3.474-.681l-1.128-1.455c2.698-2.372 5.398-5.127 7.057-5.28 1.868-.179 3.018 1.098 3.448 3.832.568 3.593 1.362 9.17 2.748 9.17 1.08 0 3.741-4.424 3.878-6.006.243-2.316-1.703-2.386-3.392-1.663 2.673-8.754 13.793-7.142 9.134 2.807z"})),edit:k})},8989:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=wp.data.withSelect;function o(e){return n((function(e){return{branding:e("presto-player/player").branding(),loading:e("presto-player/player").isResolving("getPresets"),presets:e("presto-player/player").getPresets(),defaultPreset:e("presto-player/player").getDefaultPreset()}}))}},2485:function(e,t,r){"use strict";var n=r(7462),o=r(4942),a=r(5861),l=r(3324),i=(r(9307),r(1284)),s=r.n(i),c=r(7161),u=r(9512),p=r(917);function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){(0,o.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var y=wp.compose.createHigherOrderComponent,v=wp.element,m=v.useEffect,h=v.useState;t.Z=function(){return y((function(e){return function(t){var r=t.presets,o=t.attributes,i=t.setAttributes,d=t.defaultPreset,y=t.isSelected,v=t.branding,b=h({}),g=(0,l.Z)(b,2),Z=g[0],w=g[1],k=h(1),x=(0,l.Z)(k,2),C=x[0],P=x[1],O=o.poster,S=o.chapters;m((function(){y&&null!=o&&o.id&&wp.data.dispatch("core/edit-post").openGeneralSidebar("edit-post/block")}),[y]),m((function(){y&&null!=o&&o.selectionOverrideClientId&&wp.data.dispatch("core/block-editor").selectBlock(null==o?void 0:o.selectionOverrideClientId)}),[y]),m((function(){if(r&&r.length){var e=r.find((function(e){return e.id===(null==o?void 0:o.preset)}));e?w(e):(w(d),i({preset:null==d?void 0:d.id}))}}),[r,null==o?void 0:o.preset]),m((function(){E()}),[O,Z,S,v.logo]);var E=function(){P(C+1)},j=(0,c.D9)(S);m((function(){var e=null==S?void 0:S.map((function(e){return e.time})),t=null==j?void 0:j.map((function(e){return e.time}));_.difference(e,t).length&&E()}),[S]);var N=function(){var e=(0,a.Z)(s().mark((function e(t){var r,n,o,a,l,c,p;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.src,n=t.external_id,o=t.attachment_id,a=t.type,l=t.title,r||n||o){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,(0,u.Z)({method:"POST",path:"/presto-player/v1/videos",data:f(f({attachment_id:o,post_id:wp.data.select("core/editor").getCurrentPostId(),external_id:n},l?{title:l}:{}),{},{src:r,type:a})});case 5:c=e.sent,p=c.id,i({id:p});case 8:case"end":return e.stop()}}),e)})));return function(_x){return e.apply(this,arguments)}}();return null!=o&&o.preset||i({preset:null==d?void 0:d.id}),(0,p.tZ)(e,(0,n.Z)({},t,{lockSave:function(){return wp.data.dispatch("core/editor").lockPostSaving("presto-player")},unlockSave:function(){return wp.data.dispatch("core/editor").unlockPostSaving("presto-player")},createVideo:N,onUpdate:E,onRemoveSrc:function(){confirm("Remove this video?")&&i(f(f(f(f({src:"",id:void 0},null!=o&&o.thumbnail?{thumbnail:null}:{}),null!=o&&o.preview?{preview:null}:{}),null!=o&&o.previewSrc?{previewSrc:null}:{}),null!=o&&o.previewThumbnail?{previewThumbnail:null}:{}))},presetData:Z,setPresetData:w,renderKey:C}))}}),"withPlayerEdit")}},2132:function(e,t,r){"use strict";r.r(t),r.d(t,{name:function(){return S},options:function(){return E}});var n=r(4942),o=(r(9307),r(2485)),a=r(8989),l=r(8955),i=r(1713),s=r(2383),c=r(6263),u=r(7161),p=r(917),d=wp.components,f=d.Button,y=d.Disabled,v=d.Toolbar,m=d.Placeholder,h=d.Spinner,b=d.withNotices,g=wp.editor,Z=g.BlockControls,w=g.InspectorControls,_=wp.element.useEffect,__=wp.i18n.__,k=(0,wp.compose.compose)([(0,a.Z)(),(0,o.Z)()])(b((function(e){var t=e.attributes,r=e.setAttributes,n=e.noticeOperations,o=e.branding,a=e.createVideo,d=e.loading,b=e.presetData,g=e.onRemoveSrc,k=e.lockSave,x=e.unlockSave,C=e.renderKey,P=t.poster,O=t.src,S=t.id,E=(0,u.D9)(O);return _((function(){E&&r({id:0});var e=(0,c.qS)(O);r({video_id:e}),k(),a({src:O,external_id:e,type:"youtube"}).catch((function(e){r({src:""}),function(e){n.removeAllNotices(),n.createErrorNotice(null==e?void 0:e.message)}(e)})).finally(x)}),[O]),O?d||!S?(0,p.tZ)(m,{className:"presto-player__placeholder is-loading"},(0,p.tZ)(h,null)):(0,p.tZ)(React.Fragment,null,(0,p.tZ)(Z,null,(0,p.tZ)(v,null,(0,p.tZ)(f,{onClick:function(){return g()}},__("Replace","presto-player")))),(0,p.tZ)(w,null,(0,p.tZ)(l.Z,{setAttributes:r,attributes:t})),(0,p.tZ)("figure",null,(0,p.tZ)(y,null,(0,p.tZ)(i.Z,{poster:P,src:O,type:"youtube",id:S,attributes:t,setAttributes:r,preset:b,branding:o,key:C})))):(0,p.tZ)("div",null,(0,p.tZ)(s.Z,{icon:(0,p.tZ)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"presto-block-icon"},(0,p.tZ)("path",{d:"M22.54 6.42a2.78 2.78 0 0 0-1.94-2C18.88 4 12 4 12 4s-6.88 0-8.6.46a2.78 2.78 0 0 0-1.94 2A29 29 0 0 0 1 11.75a29 29 0 0 0 .46 5.33A2.78 2.78 0 0 0 3.4 19c1.72.46 8.6.46 8.6.46s6.88 0 8.6-.46a2.78 2.78 0 0 0 1.94-2 29 29 0 0 0 .46-5.25 29 29 0 0 0-.46-5.33z"}),(0,p.tZ)("polygon",{points:"9.75 15.02 15.5 11.75 9.75 8.48 9.75 15.02"})),label:__("Presto Youtube Video","presto-player"),instructions:__("Enter Youtube Video URL","presto-player"),placeholder:__("Youtube URL","presto-player"),attributes:t,setAttributes:r,onSelectURL:function(e){e!==O&&r({src:e})}}))}))),x=r(6183);function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var O=wp.i18n.__,S="presto-player/youtube",E=P(P({},x.Z),{},{attributes:P(P({},x.Z.attributes),{},{video_id:{type:String}}),title:O("Presto Youtube Video","presto-player"),description:O("A youtube video wrapped in an awesome player.","presto-player"),icon:(0,p.tZ)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"presto-block-icon"},(0,p.tZ)("path",{d:"M22.54 6.42a2.78 2.78 0 0 0-1.94-2C18.88 4 12 4 12 4s-6.88 0-8.6.46a2.78 2.78 0 0 0-1.94 2A29 29 0 0 0 1 11.75a29 29 0 0 0 .46 5.33A2.78 2.78 0 0 0 3.4 19c1.72.46 8.6.46 8.6.46s6.88 0 8.6-.46a2.78 2.78 0 0 0 1.94-2 29 29 0 0 0 .46-5.25 29 29 0 0 0-.46-5.33z"}),(0,p.tZ)("polygon",{points:"9.75 15.02 15.5 11.75 9.75 8.48 9.75 15.02"})),edit:k})},605:function(e,t,r){"use strict";r.r(t),r.d(t,{name:function(){return z},options:function(){return $}});var n=r(5861),o=r(3324),a=(r(9307),r(1284)),l=r.n(a),i=(r(4184),r(917)),s=wp.compose.useInstanceId,__=wp.i18n.__,c=wp.components,u=c.VisuallyHidden,p=c.Button,d=c.Icon,f=wp.element.useRef,y=function e(t){t.className;var r=t.onChange,n=t.value,o=t.placeholder,a=s(e),l=f();return(0,i.tZ)("div",{className:"block-editor-inserter__search",style:{padding:0}},(0,i.tZ)(u,{as:"label",htmlFor:"block-editor-inserter__search-".concat(a)},o),(0,i.tZ)("input",{ref:l,className:"block-editor-inserter__search-input",id:"block-editor-inserter__search-".concat(a),type:"search",placeholder:o,onChange:function(e){return r(e.target.value)},autoComplete:"off",value:n||""}),(0,i.tZ)("div",{className:"block-editor-inserter__search-icon"},!!n&&(0,i.tZ)(p,{icon:"close-small",label:__("Reset search","presto-player"),onClick:function(){r(""),l.current.focus()}}),!n&&(0,i.tZ)(d,{icon:"search"})))},v=r(5736),m=r(5609);function h(_x){return b.apply(this,arguments)}function b(){return(b=(0,n.Z)(l().mark((function e(t){var r,n,o,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=document.getElementById("presto-shortcode-input").value,n=t.currentTarget,o=n.textContent,t.currentTarget.textContent=(0,v.__)("Copied!","presto-player"),setTimeout((function(){n.textContent=o}),1500),!navigator.clipboard||!window.isSecureContext){e.next=9;break}return e.abrupt("return",navigator.clipboard.writeText(r));case 9:return(a=document.createElement("textarea")).value=r,a.style.position="fixed",a.style.left="-999999px",a.style.top="-999999px",document.body.appendChild(a),a.focus(),a.select(),e.abrupt("return",new Promise((function(e,t){document.execCommand("copy")?e():t(),a.remove()})));case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var g=function(){return(0,i.tZ)(m.PanelBody,{title:(0,v.__)("Timestamp Shortcode","presto-player")},(0,i.tZ)("div",{className:"block-editor-inserter__shortcode-input"},(0,i.tZ)("p",null,(0,v.__)("Add convenient links to skip the player to a specific timestamp.","presto-player")),(0,i.tZ)("input",{id:"presto-shortcode-input",style:{width:"100%",fontSize:"11px",marginBottom:"10px"},type:"text",readOnly:!0,value:'[pptime time="1:00"]Optional Text[/pptime]'}),(0,i.tZ)("button",{type:"button",className:"components-button is-primary",onClick:h},(0,v.__)("Copy to clipboard","presto-player"))))},Z=function(e){var t=e.icon,r=e.title,n=e.id,o=e.selectBlock,a=e.i;return(0,i.tZ)("button",{type:"button",id:"video-".concat(n),tabIndex:a,onClick:o,role:"option",className:"components-button block-editor-block-types-list__item editor-block-list-item-kadence-spacer"},(0,i.tZ)("span",{className:"block-editor-block-types-list__item-icon"},(0,i.tZ)("span",{className:"block-editor-block-icon has-colors"},t)),(0,i.tZ)("span",{className:"block-editor-block-types-list__item-title"},r))},w=wp.i18n.__,k=wp.components,x=(k.Panel,k.PanelBody),C=k.Button,P=k.Spinner,O=wp.editPost,S=O.PluginSidebar,E=O.PluginSidebarMoreMenuItem,j=wp.element,N=j.Fragment,A=j.useEffect,T=j.useState,D=j.useCallback,R=wp.data,B=R.dispatch,L=R.useSelect,M=wp.blocks,I=M.createBlock,F=M.getBlockType,U=wp.apiFetch,V=wp.blockSerializationDefaultParser.parse,z="presto-player",$={render:function(){var e,t,r,a=(e=T(0),(t=(0,o.Z)(e,2))[0],r=t[1],function(){return r((function(e){return e+1}))}),s=(0,i.tZ)("svg",{viewBox:"0 0 35 34",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,i.tZ)("g",null,(0,i.tZ)("path",{d:"M23.3722 16.9766L33.2059 11.2991L33.2059 22.6541L23.3722 16.9766Z",fillOpacity:"0.7"}),(0,i.tZ)("path",{d:"M23.3745 5.6227L33.2082 11.3002L23.3745 16.9776L23.3745 5.6227Z",fillOpacity:"0.75"}),(0,i.tZ)("path",{d:"M23.3745 5.62242L23.3745 16.9773L13.5409 11.2999L23.3745 5.62242Z",fillOpacity:"0.8"}),(0,i.tZ)("path",{d:"M23.399 5.613L13.5654 11.2905L13.5654 -0.0644536L23.399 5.613Z",fillOpacity:"0.85"}),(0,i.tZ)("path",{d:"M13.5699 11.3038L13.5699 22.6587L3.73623 16.9813L13.5699 11.3038Z",fillOpacity:"0.8"}),(0,i.tZ)("path",{d:"M13.5699 -0.0245525L13.5699 11.3304L3.73623 5.6529L13.5699 -0.0245525Z",fillOpacity:"0.9"}),(0,i.tZ)("path",{d:"M13.5699 22.6451L13.5699 34L3.73623 28.3226L13.5699 22.6451Z",fillOpacity:"0.7"}),(0,i.tZ)("path",{d:"M23.3745 16.9774L33.2082 22.6549L23.3745 28.3323L23.3745 16.9774Z",fillOpacity:"0.65"}),(0,i.tZ)("path",{d:"M3.73774 16.9774L13.5714 22.6549L3.73774 28.3323L3.73774 16.9774Z",fillOpacity:"0.75"}),(0,i.tZ)("path",{d:"M3.73774 5.63149L13.5714 11.3089L3.73774 16.9864L3.73774 5.63149Z",fillOpacity:"0.85"}),(0,i.tZ)("path",{d:"M23.3745 16.9772L23.3745 28.3321L13.5409 22.6546L23.3745 16.9772Z",fillOpacity:"0.6"})),(0,i.tZ)("defs",null,(0,i.tZ)("clipPath",{id:"clip0"},(0,i.tZ)("rect",{width:"35",height:"34",fill:"white"})))),c=T(!1),u=(0,o.Z)(c,2),p=u[0],d=u[1],f=T(1),v=(0,o.Z)(f,2),m=v[0],h=v[1],b=T(!1),k=(0,o.Z)(b,2),O=k[0],j=k[1],R=T(""),M=(0,o.Z)(R,2),z=M[0],$=M[1],G=D(_.debounce((function(e){K({replace:!0,term:e})}),250),[]);A((function(){G(z)}),[z]),A((function(){j(!0),K({replace:!1})}),[m]);var H=L((function(e){return e("presto-player/player").getReusableVideos()}),[z,m]),W=H.videos,q=H.total_pages,Y=H.hasResolved,K=function(){var e=(0,n.Z)(l().mark((function e(t){var r,n,o,i,s,c;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.replace,n=t.term,e.next=3,U({path:wp.url.addQueryArgs("wp/v2/presto-videos",{search:n,page:m,per_page:10}),parse:!1});case 3:return o=e.sent,e.next=6,o.json();case 6:i=e.sent,s=o.headers&&parseInt(o.headers.get("X-WP-Total")),c=o.headers&&parseInt(o.headers.get("X-WP-TotalPages")),r?B("presto-player/player").updateVideos({videos:i,hasResolved:!0,total:s,total_pages:c}):(B("presto-player/player").appendVideos(i),B("presto-player/player").updateVideos({hasResolved:!0,total:s,total_pages:c})),a(),j(!1);case 12:case"end":return e.stop()}}),e)})));return function(_x){return e.apply(this,arguments)}}();A((function(){d(m<q)}),[m,q]);var Q=function(e){var t,r,n,o,a=V(null==e||null===(t=e.content)||void 0===t?void 0:t.raw);if(null!=a&&null!==(r=a[0])&&void 0!==r&&null!==(n=r.innerBlocks)&&void 0!==n&&null!==(o=n[0])&&void 0!==o&&o.blockName){var l,i,s,c,u=F(null==a||null===(l=a[0])||void 0===l||null===(i=l.innerBlocks)||void 0===i||null===(s=i[0])||void 0===s?void 0:s.blockName);return null!=u&&null!==(c=u.icon)&&void 0!==c&&c.src?u.icon.src:""}return""};return(0,i.tZ)(N,null,(0,i.tZ)(E,{target:"presto-player-sidebar",icon:s},w("Presto Player","presto-player")),(0,i.tZ)(S,{name:"presto-player-sidebar",title:w("Presto Player","presto-player"),icon:s},(0,i.tZ)(g,null),(0,i.tZ)(x,{title:w("Media Hub","presto-player")},(0,i.tZ)(y,{placeholder:"Search media...",value:z,onChange:function(e){return t=e,h(1),void $(t);var t}}),(0,i.tZ)("div",{className:"block-editor-inserter__panel-content"},Y?(0,i.tZ)("div",{role:"listbox",className:"block-editor-block-types-list presto-player__panel-grid-list",style:{display:"flex",flexWrap:"wrap"},"aria-label":w("Media Hub","presto-player")},W.length?W.map((function(e,t){var r;return(0,i.tZ)(Z,{selectBlock:function(t){B("core/editor").insertBlock(I("presto-player/reusable-display",{id:null==e?void 0:e.id}))},icon:Q(e),title:(null==e||null===(r=e.title)||void 0===r?void 0:r.raw)||"Untitled",id:null==e?void 0:e.id,i:t,key:null==e?void 0:e.id})})):function(){if(!W.length)return z?(0,i.tZ)("p",null,w("No videos found.","presto-player")):(0,i.tZ)(C,{href:"post-new.php?post_type=pp_video_block",isSecondary:!0},w("Create A Reusable Video","presto-player"))}(),!z&&p&&W.length?(0,i.tZ)("div",{style:{"margin-top":"20px","text-align":"center",display:"flex","justify-content":"center",width:"100%"}},(0,i.tZ)(C,{isSecondary:!0,isSmall:!0,onClick:function(){var e=m+1;h(e=e>q?q:e)},isBusy:O},"Load More")):""):(0,i.tZ)(P,null)))))}}},8955:function(e,t,r){"use strict";r.d(t,{Z:function(){return Dr}});var n=r(9307),o=r(4994),a=r(398),l=r(9807),i=r(168),s=r(3324),c=r(9062),u=r(4942),p=r(7453),d=r(209),f=r(7161),y=r(1713),v=r(917);function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){(0,u.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var b,g,__=wp.i18n.__,Z=wp.components.Disabled,w=wp.element,_=w.useState,k=w.useEffect,x=function(e){var t,r,n,o=e.state,a=e.branding,l=e.menu,i=e.src,c=e.poster,u=e.currentTime,p=e.preload,m=e.overlays,b=e.isDisabled,g=void 0===b||b,w=_(1),x=(0,s.Z)(w,2),C=x[0],P=x[1],O=o.email_collection,S=o.cta,E=o.search;k((function(){P(C+1)}),[o.skin,o["play-large"],o.rewind,o.play,o["fast-forward"],o.progress,o["current-time"],o.mute,o.volume,o.speed,o.pip,o.fullscreen,o.captions,o.hide_logo]);var j={email:!(null==O||!O.enabled)&&(0,v.tZ)(d.zi,{className:"email-overlay",slot:"player-end",headline:null==O?void 0:O.headline,style:h(h({"--presto-player-email-border-radiuss":"".concat(null==O?void 0:O.button_radius,"px"),"--plyr-color-main":(null==o?void 0:o.background_color)||(null==a?void 0:a.color)},O.button_color?{"--presto-player-button-color":"".concat(O.button_color)}:{}),O.button_text_color?{"--presto-player-button-text":"".concat(O.button_text_color)}:{}),defaultHeadline:__("Enter your email to play.","presto-player"),bottomText:null==O?void 0:O.bottom_text,allowSkip:null==O?void 0:O.allow_skip,skipText:__("Skip","presto-player"),buttonText:null==O?void 0:O.button_text,placeholder:__("Email address","presto-player"),i18n:window.prestoPlayer.i18n}),cta:!(null==S||!S.enabled)&&(0,v.tZ)(d.UP,{className:"cta-overlay",style:h(h(h({"--presto-player-button-border-radius":"".concat(S.button_radius,"px")},null!=S&&S.background_opacity?{"--presto-player-cta-background-opacity":"".concat((null==S?void 0:S.background_opacity)/100)}:{}),S.button_color?{"--presto-player-button-color":"".concat(S.button_color)}:{}),S.button_text_color?{"--presto-player-button-text":"".concat(S.button_text_color)}:{}),slot:"player-end",headline:null==S?void 0:S.headline,"bottom-text":null==S?void 0:S.bottom_text,"button-link":null==S?void 0:S.button_link,"allow-skip":100!==(null==S?void 0:S.percentage)&&(null==S?void 0:S.show_skip),borderRadius:null==S?void 0:S.border_radius,"allow-rewatch":100===(null==S?void 0:S.percentage)&&(null==S?void 0:S.show_rewatch),"skip-text":__("Skip","presto-player"),"show-button":null==S?void 0:S.show_button,"button-text":null==S?void 0:S.button_text,i18n:null===(t=window)||void 0===t||null===(r=t.prestoPlayer)||void 0===r?void 0:r.i18n})};return(0,v.tZ)(Z,{isDisabled:g,className:"disable-player"},(0,v.tZ)("div",{className:"presto-player__wrapper"},(0,v.tZ)(y.Z,{src:i||"",className:"\n            ".concat("cta"===l&&!(null==S||!S.enabled)&&"cta-active"," \n            ").concat("email"===l&&!(null==O||!O.enabled)&&"email-active","\n            ").concat("search"===l&&!(null==E||!E.enabled)&&"search-active"),preset:o,branding:h(h({},a),{},{logo:null!=o&&o.hide_logo?"":a.logo}),i18n:null===(n=prestoPlayerAdmin)||void 0===n?void 0:n.i18n,preload:p,attributes:{chapters:[],poster:c},currentTime:u?(0,f.ZD)(u):"",overlays:m,key:C,adminPreview:(null==j?void 0:j[l])||""})))},C=r(5297),P=wp.i18n.__,O=wp.components.TextareaControl,S=wp.element.useState,E=function(e){var t=e.text,r=e.update,n=e.onFocus,o=S(!1),a=(0,s.Z)(o,2),l=a[0],i=a[1];return(0,v.tZ)("div",{style:{display:"block",width:"100%"}},(0,v.tZ)(O,{label:"Text",help:(0,v.tZ)("span",null,P("This field accepts","presto-player")," ",(0,v.tZ)("a",{href:"#",onClick:function(e){i(!l),e.preventDefault()}},P("Dynamic Data","presto-player")),!!l&&(0,v.tZ)("div",{style:{marginTop:"20px"}},P("This field will also accept dynamic values that we will replace with dynamic content: {user.user_login}, {user.user_nicename}, {user.user_email}, {user.user_url},{user.user_registered}, {user.display_name}, {site.url}, {site.name}, {ip_address}","presto-player"))),className:"presto-player__overlay--text",placeholder:P("Enter some text.","presto-player"),value:t||"",onChange:function(e){return r({text:e})},autoComplete:"off",onFocus:n}))},j=r(1145),N=wp.i18n.__,A=wp.components,T=A.Flex,D=A.FlexItem,R=A.TextControl,B=A.Button,L=A.BaseControl,M=A.RadioControl,I=A.RangeControl,F=(A.withFocusReturn,wp.element),U=F.useRef,V=F.useEffect,z=wp.element.useState,$={name:"1azpx8r",styles:"margin-bottom:20px"},G=function(e){var t=e.overlayIndex,r=e.update,n=e.remove,o=e.className,a=e.startTime,l=e.endTime,i=e.text,c=e.link,u=e.position,d=e.color,y=e.backgroundColor,v=e.opacity,m=e.updateCurrentTime,h=z(a),b=(0,s.Z)(h,2),g=b[0],Z=b[1],w=z(l),_=(0,s.Z)(w,2),k=_[0],x=_[1],P=z(u),O=(0,s.Z)(P,2),S=O[0],A=O[1],F=U();V((function(){if((0,f.ZD)(a)>=(0,f.ZD)(l)){var e=(0,f.as)(a),t=(0,f.ZD)(e)+1;e=(0,f.as)((0,f.nH)(t)),r({endTime:e}),x(e)}}),[a,l]);var G=function(){var e=(0,f.as)(g);r({startTime:e}),Z(e),m(e)};return(0,p.tZ)("div",null,(0,p.tZ)(T,{align:"center",className:o},(0,p.tZ)(D,null,(0,p.tZ)(R,{ref:F,id:"start-time-".concat(t),label:N("Start Time","presto-player"),className:"presto-player__overlay--start-time",value:g,onChange:function(e){return Z(e)},onBlur:G,onFocus:G,autoComplete:"off",placeholder:"0:00"})),(0,p.tZ)(D,null,(0,p.tZ)(R,{label:N("End Time","presto-player"),className:"presto-player__overlay--end-time",value:k,onChange:x,onBlur:function(){var e=(0,f.as)(k);r({endTime:e}),x(e)},autoComplete:"off",placeholder:"0:00"}))),(0,p.tZ)(E,{text:i,update:r,onFocus:function(){m((0,f.as)(g))}}),(0,p.tZ)(L,{style:{width:"100%"}},(0,p.tZ)(L.VisualLabel,null,(0,p.tZ)("p",null," ",N("Link","presto-player"))),(0,p.tZ)(C.Z,{onFocus:function(){m((0,f.as)(g))},setSettings:function(e){return r({link:e})},settings:c||{}})),(0,p.tZ)(L,{className:o},(0,p.tZ)(M,{label:N("Position","presto-player"),options:[{label:N("Top Right","presto-player"),value:"top-right"},{label:N("Top Left","presto-player"),value:"top-left"}],selected:S||"right",onFocus:function(){m((0,f.as)(g))},onChange:function(e){r({position:e}),A(e),m((0,f.as)(g))}})),(0,p.tZ)(L,{className:"presto-player__control--overlay-text-color"},(0,p.tZ)(T,null,(0,p.tZ)(L.VisualLabel,null,N("Text Color","presto-player")),(0,p.tZ)(j.Z,{onFocus:function(){m((0,f.as)(g))},color:d,setColor:function(e){r({color:e&&e.hex})}}))),(0,p.tZ)(L,{className:"presto-player__control--overlay-background-color"},(0,p.tZ)(T,null,(0,p.tZ)(L.VisualLabel,null,N("Background Color","presto-player")),(0,p.tZ)(j.Z,{onFocus:function(){m((0,f.as)(g))},color:y,setColor:function(e){r({backgroundColor:e&&e.hex})}}))),(0,p.tZ)(L,null,(0,p.tZ)(I,{label:N("Opacity","presto-player"),help:N("Opacity percentage of the overlay.","presto-player"),value:v,onChange:function(e){return r({opacity:e})},min:0,max:100})),n&&(0,p.tZ)(L,{className:o},(0,p.tZ)(T,{justify:"flex-end"},(0,p.tZ)(B,{isDestructive:!0,isSmall:!0,onClick:n},N("Remove Overlay","presto-player")))),(0,p.tZ)("hr",{css:$}))};function H(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function W(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?H(Object(r),!0).forEach((function(t){(0,u.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var q,Y=wp.i18n.__,K=wp.components,Q=K.Button,X=K.Flex,J=K.FlexItem,ee=K.FlexBlock,te=K.Modal,re=wp.element,ne=re.useState,oe=re.useEffect,ae=wp.data.useSelect,le={name:"1cwazio",styles:"padding:3px"},ie=function(e){var t=e.closeModal,r=e.attributes,n=e.setAttributes,o=e.updateOverlayAttribute,a=ne(!1),l=(0,s.Z)(a,2),u=l[0],d=l[1],f=ne(""),y=(0,s.Z)(f,2),v=y[0],m=y[1],h=r.overlays,Z=r.preset,w=r.src,_=r.poster,k=r.previewSrc,C=ae((function(e){return e("presto-player/player").branding()})),P=ae((function(e){return e("presto-player/player").getPreset(Z)}));oe((function(){h.length||O()}),[]);var O=function(){var e={startTime:"0:00",endTime:"0:05",text:Y("Here's a link to click!","presto-player"),link:{},position:"top-right",color:"#fff",backgroundColor:"#000",opacity:75};h[h.length-1]&&(e=W({},h[h.length-1])),e.id=((e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce(((e,t)=>e+((t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_")),""))(10),n({overlays:[].concat((0,c.Z)(h||[]),[e])})};return(0,p.tZ)(te,{title:Y("Manage Video Overlays","presto-player"),onRequestClose:t,className:"presto-player__modal-presets",overlayClassName:"presto-player__modal-presets-overlay",shouldCloseOnClickOutside:!1},(0,p.tZ)("div",{className:"presto-player__preset-options","data-cy":"preset-modal"},(0,p.tZ)(X,{align:"stretch",className:"presto-player__style-preview-area"},(0,p.tZ)(J,{className:"presto-player__style-sidebar"},(0,p.tZ)("div",{css:le},(h||[]).sort((function(e,t){return parseInt(e.startTime.split(":")[0])-parseInt(t.startTime.split(":")[0])==0?parseInt(e.startTime.split(":")[1])-parseInt(t.startTime.split(":")[1]):parseInt(e.startTime.split(":")[0])-parseInt(t.startTime.split(":")[0])})).map((function(e,t){return(0,p.tZ)(G,{key:"".concat(t,"-").concat(e.startTime),overlayIndex:t,className:"presto-player__overlay",startTime:e.startTime,endTime:e.endTime,text:e.text,link:e.link,position:e.position,color:e.color,backgroundColor:e.backgroundColor,opacity:e.opacity,overlay:e,update:function(t){!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=h.indexOf(e),o=h.map((function(e,n){return n!==r?e:W(W({},e),t)}));n({overlays:o})}(e,t)},remove:function(){!function(e){var t=h.indexOf(e);n({overlays:h.filter((function(e,r){return r!==t}))})}(e)},updateCurrentTime:function(e){var t;t=e,m(""),process.nextTick((function(){m(t)}))}})})),(0,p.tZ)(Q,{isPrimary:!0,onClick:O},Y("Add An Overlay","presto-player")))),(0,p.tZ)(ee,{className:"presto-player__style-preview-panel"},(0,p.tZ)(x,{preload:"auto",currentTime:v,src:k||w,isDisabled:!1,state:W(W({},P),{},{lazy_load_youtube:!1,invert_time:!1}),branding:C,poster:_,overlays:h}))),(0,p.tZ)("br",null),(0,p.tZ)("div",{css:(0,p.iv)(b||(b=(0,i.Z)(["\n            display: flex;\n            align-items: center;\n            justify-content: space-between;\n          "])))},(0,p.tZ)("div",{css:(0,p.iv)(g||(g=(0,i.Z)(["\n              opacity: 0.5;\n              font-size: 12px;\n            "])))}),(0,p.tZ)("div",null,(0,p.tZ)(Q,{isTertiary:!0,onClick:t,style:{margin:"0 6px"}},Y("Cancel","presto-player")),(0,p.tZ)(Q,{isPrimary:!0,isBusy:u,disabled:u,onClick:function(){d(!0),o(h),d(!1),t()},"data-cy":"submit-preset"},Y("Save Overlays","presto-player"))))))},se=wp.i18n.__,ce=wp.element.useState,ue=wp.data,pe=(ue.useSelect,ue.dispatch),de=wp.components,fe=(de.withNotices,de.BaseControl),ye=(de.Spinner,de.Button),ve=function(e){var t,r=e.setAttributes,n=e.attributes,o=n.overlays,a=ce(!1),c=(0,s.Z)(a,2),u=c[0],d=c[1];return(0,p.tZ)(React.Fragment,null,(0,p.tZ)(fe,null,(0,p.tZ)(ye,{isPrimary:!0,onClick:function(){var e;null!==(e=prestoPlayer)&&void 0!==e&&e.isPremium?d(!0):pe("presto-player/player").setProModal(!0)}},o.length?se("Update Overlays","presto-player"):se("Add Overlay","presto-player"),!!o.length&&(0,p.tZ)("div",{css:(0,p.iv)(q||(q=(0,i.Z)(["\n                font-size: 10px;\n                background: #fff;\n                color: var(--wp-admin-theme-color);\n                font-weight: bold;\n                display: inline-block;\n                line-height: 6px;\n                padding: 5px;\n                border-radius: 9999px;\n                margin-left: 10px;\n              "])))},o.length)),!(null!==(t=prestoPlayer)&&void 0!==t&&t.isPremium)&&(0,p.tZ)(l.Z,null)),u&&(0,p.tZ)(ie,{closeModal:function(){return d(!1)},attributes:n,setAttributes:r,updateOverlayAttribute:function(e){r({overlays:e})}}))},me=r(6774),he=r(5861),be=r(1284),ge=r.n(be),Ze=r(9493),we=r(3865),_e=wp.i18n.__,ke=wp.components,xe=ke.ToggleControl,Ce=ke.BaseControl,Pe=ke.HorizontalRule,Oe=ke.__experimentalAlignmentMatrixControl,Se=ke.SelectControl;function Ee(e){var t=e.state,r=e.updateState,n=e.className;return(0,v.tZ)("div",{className:n},(0,v.tZ)(Ce,null,(0,v.tZ)("h3",null,_e("Behavior","presto-player"))),(0,v.tZ)(Ce,null,(0,v.tZ)(xe,{label:_e("Auto-Hide Controls","presto-player"),help:_e("Hide video controls automatically after 2 seconds of no mouse movement.","presto-player"),onChange:function(e){r({auto_hide:e})},checked:t.auto_hide})),(0,v.tZ)(Ce,null,(0,v.tZ)(xe,{label:_e("Save Play Position","presto-player"),help:_e("Saves the user's play position so when they come back to the page they can continue the video from where they left off.","presto-player"),onChange:function(e){r({save_player_position:e})},checked:t.save_player_position})),(0,v.tZ)(Ce,null,(0,v.tZ)(xe,{label:_e("Captions On By Default","presto-player"),help:_e("Toggles if captions should be active by default.","presto-player"),onChange:function(e){r({captions_enabled:e})},checked:t.captions_enabled})),(0,v.tZ)(Ce,null,(0,v.tZ)(xe,{label:_e("Focus Mode","presto-player"),help:_e("Play only when tab is visible and video is in viewport.","presto-player"),onChange:function(e){r({play_video_viewport:e})},checked:t.play_video_viewport})),(0,v.tZ)(Ce,null,(0,v.tZ)(xe,{label:_e("Sticky On Scroll","presto-player"),help:_e("Stick videos to the side of the screen when the page is scrolled and the video is playing.","presto-player"),onChange:function(e){r({sticky_scroll:e})},checked:t.sticky_scroll})),!!t.sticky_scroll&&(0,v.tZ)(React.Fragment,null,(0,v.tZ)(Ce,{label:_e("Choose a position for your sticky player.","presto-player")},(0,v.tZ)(Oe,{value:t.sticky_scroll_position,onChange:function(e){r({sticky_scroll_position:e})}}))),(0,v.tZ)(Ce,null,(0,v.tZ)(Se,{label:_e("On Video End","presto-player"),value:t.on_video_end,options:[{value:"select",label:_e("Select","presto-player")},{value:"loop",label:_e("Loop","presto-player")},{value:"go-to-start",label:_e("Go to start","presto-player")}],onChange:function(e){r({on_video_end:e})}})),(0,v.tZ)(Pe,null),(0,v.tZ)(Ce,null),(0,v.tZ)(Ce,null,(0,v.tZ)("h3",null,_e("Youtube","presto-player"))),(0,v.tZ)(Ce,null,(0,v.tZ)(xe,{label:_e("Hide Youtube UI (Experimental)","presto-player"),help:_e("Hides the Youtube logo and related videos.","presto-player"),onChange:function(e){r({hide_youtube:e})},checked:t.hide_youtube})),(0,v.tZ)(Ce,null,(0,v.tZ)(xe,{label:_e("Lazy Load Videos","presto-player"),help:_e("Improves page loading performance by only loading the video when clicked.","presto-player"),onChange:function(e){r({lazy_load_youtube:e})},checked:t.lazy_load_youtube})))}var je=wp.i18n.__,Ne=wp.components,Ae=Ne.ToggleControl,Te=Ne.BaseControl;function De(e){var t=e.state,r=e.updateState,n=e.className;return(0,v.tZ)("div",{className:n},(0,v.tZ)(Te,null,(0,v.tZ)("h3",null,je("Controls","presto-player"))),(0,v.tZ)(Te,{className:"presto-player__control--large-play"},(0,v.tZ)(Ae,{label:je("Large Play Button","presto-player"),help:je("Adds a large play button over the top of the player.","presto-player"),onChange:function(e){r({"play-large":e})},checked:t["play-large"]})),(0,v.tZ)(Te,{className:"presto-player__control--rewind"},(0,v.tZ)(Ae,{label:je("Rewind","presto-player"),help:je("Adds a 10 second rewind button to the player.","presto-player"),onChange:function(e){r({rewind:e})},checked:t.rewind})),(0,v.tZ)(Te,{className:"presto-player__control--play"},(0,v.tZ)(Ae,{label:je("Small Play Button","presto-player"),help:je("Adds a small play button to the bottom of the player.","presto-player"),onChange:function(e){r({play:e})},checked:t.play})),(0,v.tZ)(Te,{className:"presto-player__control--fast-forward"},(0,v.tZ)(Ae,{label:je("Fast Forward","presto-player"),help:je("Adds a 10 second rewind button to the player.","presto-player"),onChange:function(e){r({"fast-forward":e})},checked:t["fast-forward"]})),(0,v.tZ)(Te,{className:"presto-player__control--progress"},(0,v.tZ)(Ae,{label:je("Progress Bar","presto-player"),help:je("Shows a seekable progress bar.","presto-player"),onChange:function(e){r({progress:e})},checked:t.progress})),(0,v.tZ)(Te,{className:"presto-player__control--current-time"},(0,v.tZ)(Ae,{label:je("Current Time","presto-player"),help:je("Shows the video timestamp.","presto-player"),onChange:function(e){r({"current-time":e})},checked:t["current-time"]})),(0,v.tZ)(Te,{className:"presto-player__control--volume"},(0,v.tZ)(Ae,{label:je("Volume","presto-player"),help:je("Shows a volume bar.","presto-player"),onChange:function(e){r({volume:e,mute:e})},checked:t.volume})),(0,v.tZ)(Te,{className:"presto-player__control--speed"},(0,v.tZ)(Ae,{label:je("Speed","presto-player"),help:je("Shows playback speed controls.","presto-player"),onChange:function(e){r({speed:e})},checked:t.speed})),(0,v.tZ)(Te,{className:"presto-player__control--pip"},(0,v.tZ)(Ae,{label:je("Picture In Picture (HTML5 only)","presto-player"),help:je("Allows users to dock the player on their screen and watch when using other app on their computer.","presto-player"),onChange:function(e){r({pip:e})},checked:t.pip})),(0,v.tZ)(Te,{className:"presto-player__control--fullscreen"},(0,v.tZ)(Ae,{label:je("Fullscreen","presto-player"),help:je("Adds a button to allow the player to be fullscreen.","presto-player"),onChange:function(e){r({fullscreen:e})},checked:t.fullscreen})),(0,v.tZ)(Te,{className:"presto-player__control--captions"},(0,v.tZ)(Ae,{label:je("Captions","presto-player"),help:je("Shows a dedicated caption toggle button.","presto-player"),onChange:function(e){r({captions:e})},checked:t.captions})))}function Re(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Be(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(r),!0).forEach((function(t){(0,u.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Re(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Le=wp.i18n.__,Me=wp.components,Ie=Me.ToggleControl,Fe=Me.BaseControl,Ue=Me.RadioControl,Ve=Me.Flex,ze=Me.RangeControl,$e=wp.element.useEffect,Ge=function(e){var t=e.state,r=e.updateState,n=e.className,o=t.watermark,a={text:Le("Enter your watermark text.","presto-player"),position:"top-right",color:"#fff",backgroundColor:"#333",opacity:80};$e((function(){Object.keys(a).forEach((function(e){var r;void 0===(null==t||null===(r=t.watermark)||void 0===r?void 0:r[e])&&l((0,u.Z)({},e,a[e]))}))}),[t]);var l=function(e){r(Be(Be({},t),{},{watermark:Be(Be({},o),e)}))};return(0,v.tZ)("div",{className:n},(0,v.tZ)(Fe,null,(0,v.tZ)("h3",null,Le("Dynamic Watermark Text","presto-player"))),(0,v.tZ)(Fe,{className:"presto-player__control--watermark"},(0,v.tZ)(Ie,{label:Le("Enable","presto-player"),help:Le("Add a simulated dynamic watermark over your video.","presto-player"),onChange:function(e){l({enabled:e})},checked:null==o?void 0:o.enabled})),(null==o?void 0:o.enabled)&&(0,v.tZ)("div",null,(0,v.tZ)(E,{text:null==o?void 0:o.text,update:function(e){var t=e.text;l({text:t})}}),(0,v.tZ)(Fe,{className:n},(0,v.tZ)(Ue,{label:Le("Position","presto-player"),options:[{label:Le("Top Right","presto-player"),value:"top-right"},{label:Le("Top Left","presto-player"),value:"top-left"},{label:Le("Change Every 10 Seconds","presto-player"),value:"randomize"}],selected:(null==o?void 0:o.position)||"top-right",onChange:function(e){return l({position:e})}})),(0,v.tZ)(Fe,{className:"presto-player__control-text-color"},(0,v.tZ)(Ve,null,(0,v.tZ)(Fe.VisualLabel,null,Le("Text Color","presto-player")),(0,v.tZ)(j.Z,{color:(null==o?void 0:o.color)||"#fff",setColor:function(e){return l({color:e&&e.hex})}}))),(0,v.tZ)(Fe,{className:"presto-player__control-text-color"},(0,v.tZ)(Ve,null,(0,v.tZ)(Fe.VisualLabel,null,Le("Background Color","presto-player")),(0,v.tZ)(j.Z,{color:(null==o?void 0:o.backgroundColor)||"#333",setColor:function(e){return l({backgroundColor:e&&e.hex})}}))),(0,v.tZ)(Fe,null,(0,v.tZ)(ze,{label:Le("Opacity","presto-player"),help:Le("Opacity percentage of the watermark.","presto-player"),value:(null==o?void 0:o.opacity)||100,onChange:function(e){return l({opacity:e})},min:0,max:100}))))},He=r(5736),We=r(5609),qe=window.wp.primitives,Ye=(0,n.createElement)(qe.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,n.createElement)(qe.Path,{d:"M6.5 12.4L12 8l5.5 4.4-.9 1.2L12 10l-4.5 3.6-1-1.2z"})),Ke=(0,n.createElement)(qe.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,n.createElement)(qe.Path,{d:"M17.5 11.6L12 16l-5.5-4.4.9-1.2L12 14l4.5-3.6 1 1.2z"}));function Qe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Xe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qe(Object(r),!0).forEach((function(t){(0,u.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Je,et,tt=function(e){var t=e.state,r=e.updateState,o=e.className,a=t.search,l=(0,n.useState)(!1),i=(0,s.Z)(l,2),c=i[0],p=i[1],d={enabled:!1,minMatchCharLength:1,threshold:.3,placeholder:"Search"};(0,n.useEffect)((function(){Object.keys(d).forEach((function(e){var r;void 0===(null==t||null===(r=t.search)||void 0===r?void 0:r[e])&&f((0,u.Z)({},e,d[e]))}))}),[t]);var f=function(e){r(Xe(Xe({},t),{},{search:Xe(Xe({},a),e)}))};return(0,v.tZ)("div",{className:o},(0,v.tZ)(We.BaseControl,null,(0,v.tZ)("h3",null,(0,He.__)("Searchable Captions","presto-player"))),(0,v.tZ)(We.BaseControl,{className:"presto-player__control--search"},(0,v.tZ)(We.ToggleControl,{label:(0,He.__)("Enable","presto-player"),help:(0,He.__)("Show a search bar on your player which enables searching within the subtitles of the video.","presto-player"),onChange:function(e){f({enabled:e})},checked:null==a?void 0:a.enabled})),(null==a?void 0:a.enabled)&&(0,v.tZ)("div",null,(0,v.tZ)(We.BaseControl,{className:"presto-player__control--placeholder-text"},(0,v.tZ)(We.TextControl,{label:(0,He.__)("Placeholder Text","presto-player"),help:"",value:null==a?void 0:a.placeholder,onChange:function(e){return f({placeholder:e})}})),(0,v.tZ)(We.BaseControl,null,(0,v.tZ)(We.Button,{onClick:function(){return p(!c)},iconPosition:"right",icon:c?Ye:Ke,variant:"link"},(0,He.__)("Advanced Settings","presto-player"))),!!c&&(0,v.tZ)(React.Fragment,null,(0,v.tZ)(We.BaseControl,null,(0,v.tZ)(We.RangeControl,{label:(0,He.__)("Minimum Matching Character Length","presto-player"),help:(0,He.__)("Only the matches whose length exceeds this value will be returned. (For instance, if you want to ignore single character matches in the result, set it to 2","presto-player"),value:(null==a?void 0:a.minMatchCharLength)||1,onChange:function(e){return f({minMatchCharLength:e})},min:0,max:10})),(0,v.tZ)(We.BaseControl,null,(0,v.tZ)(We.RangeControl,{label:(0,He.__)("Threshold","presto-player"),help:(0,He.__)("At what point does the match algorithm give up. A threshold of 0.0 requires a perfect match (of both letters and location), a threshold of 1.0 would match anything.","presto-player"),value:(null==a?void 0:a.threshold)||1,onChange:function(e){return f({threshold:e})},min:0,max:1,step:.1})))))},rt=r(7833),nt=r(9632),ot=wp.i18n.__,at=wp.components,lt=at.ToggleControl,it=at.BaseControl,st=at.RangeControl,ct=at.SelectControl,ut=at.ColorPicker;function pt(e){var t=e.state,r=e.updateState,n=e.className;return(0,v.tZ)("div",{className:n},(0,v.tZ)(it,null,(0,v.tZ)("h3",null,ot("Style","presto-player"))),(0,v.tZ)(it,null,(0,v.tZ)(lt,{label:ot("Hide Logo","presto-player"),help:ot("Hides the logo on this video.","presto-player"),onChange:function(e){r({hide_logo:e})},checked:t.hide_logo})),(0,v.tZ)(it,null,(0,v.tZ)(st,{label:ot("Round Corners","presto-player"),help:ot("Player border radius size.","presto-player"),value:(null==t?void 0:t.border_radius)||0,onChange:function(e){return r({border_radius:e})},min:0,max:25})),(0,v.tZ)(it,null,(0,v.tZ)(ct,{label:ot("Caption Style","presto-player"),labelPosition:"top",value:null==t?void 0:t.caption_style,options:[{label:ot("Default","presto-player"),value:"default"},{label:ot("Full","presto-player"),value:"full"}],onChange:function(e){r({caption_style:e})}})),(0,v.tZ)(it,null,(0,v.tZ)(it.VisualLabel,null,(0,v.tZ)("p",null,ot("Caption Background","presto-player"))),(0,v.tZ)(ut,{color:(null==t?void 0:t.caption_background)||"#000000",onChangeComplete:function(e){r({caption_background:e.hex})},disableAlpha:!0})))}function dt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ft(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?dt(Object(r),!0).forEach((function(t){(0,u.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var yt=wp.i18n.__,vt=wp.components,mt=vt.TextControl,ht=vt.BaseControl,bt=vt.Icon,gt=vt.Notice,Zt=vt.Button,wt=vt.Flex,_t=vt.FlexItem,kt=vt.SelectControl,xt=vt.FlexBlock,Ct=vt.Modal,Pt=wp.element,Ot=Pt.useState,St=Pt.useEffect,Et=wp.data,jt=Et.useSelect,Nt=Et.dispatch,At=function(e){var t=e.type,r=void 0===t?"new":t,n=e.closeModal,o=e.addPreset,a=e.onSave,l=e.updatePreset,c=e.name,u=void 0===c?"":c,d=e.preset,y=void 0===d?{"play-large":!0,rewind:!0,play:!0,"fast-forward":!0,progress:!0,"current-time":!0,mute:!0,volume:!0,speed:!1,pip:!1,fullscreen:!0,captions:!1,save_player_position:!1,reset_on_end:!1,auto_hide:!0,sticky_scroll:!1,hide_logo:!1,border_radius:0,skin:"modern",caption_style:"default",caption_background:"#000000",hide_youtube:!1,lazy_load_youtube:!1,cta:{},email_collection:{},action_bar:{},enabled:!1,minMatchCharLength:1,threshold:.3,placeholder:"search"}:d,v=Ot(!1),m=(0,s.Z)(v,2),h=m[0],b=m[1],g=Ot(""),Z=(0,s.Z)(g,2),w=Z[0],_=Z[1],k=Ot(""),C=(0,s.Z)(k,2),P=C[0],O=C[1],S=Ot(u),E=(0,s.Z)(S,2),j=E[0],N=E[1],A=Ot(y),T=(0,s.Z)(A,2),D=T[0],R=T[1],B=jt((function(e){return e("presto-player/player").branding()})),L=Ot(""),M=(0,s.Z)(L,2),I=M[0],F=M[1],U={message:yt("The preset could not be saved. Please reload the page and try again.","presto-player")},V=jt((function(e){return e("presto-player/player").youtube()}));St((function(){F(V.channel_id)}),[null==V?void 0:V.channel_id]);var z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};R(ft(ft({},D),e))},$=function(){var e=(0,he.Z)(ge().mark((function e(){var t,r,o,i;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.prev=1,t=ft(ft({},D),{name:j}),e.next=5,wp.apiFetch({method:"POST",url:wp.url.addQueryArgs("".concat(prestoPlayer.root).concat(prestoPlayer.prestoVersionString,"preset/").concat(y.id),{_method:"PUT"}),data:t});case 5:if(r=e.sent){e.next=8;break}throw U;case 8:l(r),n(),a&&a(r),(0,f.i1)({message:yt("Preset updated!","presto-player")}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),_(null!==e.t0&&void 0!==e.t0&&e.t0.message?e.t0.message:U);case 17:return e.prev=17,b(!1),e.finish(17);case 20:return Nt("presto-player/player").updateYoutube({channel_id:I}),o=ft(ft({},V),{channel_id:I}),e.prev=22,e.next=25,wp.apiFetch({path:"wp/v2/settings",method:"POST",data:{presto_player_youtube:o}});case 25:null!=(i=e.sent)&&i.presto_player_youtube&&(Nt("presto-player/player").setYoutube(null==i?void 0:i.presto_player_youtube),onClose()),e.next=32;break;case 29:e.prev=29,e.t1=e.catch(22),console.log(e.t1);case 32:case"end":return e.stop()}}),e,null,[[1,14,17,20],[22,29]])})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=(0,he.Z)(ge().mark((function e(){var t;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.prev=1,e.next=4,wp.apiFetch({method:"POST",url:prestoPlayer.root+prestoPlayer.prestoVersionString+"preset",data:ft(ft({},{name:j}),D)});case 4:if(t=e.sent){e.next=7;break}throw U;case 7:o(t),n(),a&&a(t),(0,f.i1)({message:yt("Preset created!","presto-player")}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),_(null!==e.t0&&void 0!==e.t0&&e.t0.message?e.t0.message:U);case 16:return e.prev=16,b(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[1,13,16,19]])})));return function(){return e.apply(this,arguments)}}(),H=[{name:"controls",title:yt("Controls","presto-player"),icon:(0,p.tZ)(bt,{icon:"admin-settings"}),component:(0,p.tZ)(De,{updateState:z,state:D})},{name:"behavior",title:yt("Behavior","presto-player"),icon:(0,p.tZ)(bt,{icon:"admin-generic"}),component:(0,p.tZ)(Ee,{updateState:z,state:D})},{name:"style",title:yt("Style","presto-player"),icon:(0,p.tZ)(bt,{icon:"admin-customizer"}),component:(0,p.tZ)(pt,{updateState:z,state:D})},{name:"email",title:yt("Email Capture","presto-player"),icon:(0,p.tZ)(bt,{icon:"email"}),component:(0,p.tZ)(nt.Z,{updateState:z,state:D})},{name:"cta",title:yt("Call To Action","presto-player"),icon:(0,p.tZ)(bt,{icon:"megaphone"}),component:(0,p.tZ)(rt.Z,{updateState:z,state:D})},{name:"action_bar",title:yt("Action Bar","presto-player"),icon:(0,p.tZ)(bt,{icon:"cover-image"}),component:(0,p.tZ)(we.Z,{updateState:z,state:D,value:I,setValue:F})},{name:"watermark",title:yt("Dynamic Watermark","presto-player"),icon:(0,p.tZ)(bt,{icon:"lock"}),component:(0,p.tZ)(Ge,{updateState:z,state:D})},{name:"search",title:yt("Searchable Captions","presto-player"),icon:(0,p.tZ)(bt,{icon:"search"}),component:(0,p.tZ)(tt,{updateState:z,state:D})}];return(0,p.tZ)(Ct,{title:yt("edit"==r?"Edit A Video Preset":"Create A New Video Preset","presto-player"),onRequestClose:n,className:"presto-player__modal-presets",overlayClassName:"presto-player__modal-presets-overlay"},(0,p.tZ)("div",{className:"presto-player__preset-options","data-cy":"preset-modal"},(0,p.tZ)(mt,{value:j,hideLabelFromVision:!0,label:yt("Preset Name","presto-player"),onChange:function(e){return N(e)},placeholder:yt("Enter a preset name...","presto-player"),className:"presto-player__modal--style-name",autoFocus:!0}),(0,p.tZ)(wt,{align:"stretch",className:"presto-player__style-preview-area"},(0,p.tZ)(_t,{className:"presto-player__style-sidebar"},(0,p.tZ)("div",null,(0,p.tZ)(Ze.Z,{items:H,title:yt("Customize","presto-player"),onSelect:O},(function(e){return e.component})))),(0,p.tZ)(xt,{className:"presto-player__style-preview-panel"},(0,p.tZ)("div",{style:{position:"absolute",top:0,left:0,padding:"20px"}},(0,p.tZ)(kt,{label:yt("Skin","presto-player"),labelPosition:"side",value:null==D?void 0:D.skin,options:[{label:yt("Modern","presto-player"),value:"modern"},{label:yt("Business","presto-player"),value:"business"},{label:yt("Stacked","presto-player"),value:"stacked"},{label:yt("Basic","presto-player"),value:"default"}],onChange:function(e){z({skin:e})}})),(0,p.tZ)(x,{poster:"https://source.unsplash.com/daily",state:D,branding:B,menu:P}))),(0,p.tZ)("br",null),w&&(0,p.tZ)(ht,null,(0,p.tZ)(gt,{className:"presto-player__modal--error-notice",status:"error",isDismissible:!1,style:{margin:0}},w.replace(/(<([^>]+)>)/gi,""))),(0,p.tZ)("div",{css:(0,p.iv)(Je||(Je=(0,i.Z)(["\n            display: flex;\n            align-items: center;\n            justify-content: space-between;\n          "])))},(0,p.tZ)("div",{css:(0,p.iv)(et||(et=(0,i.Z)(["\n              opacity: 0.5;\n              font-size: 12px;\n            "])))},"Preset ID: ",y.id),(0,p.tZ)("div",null,(0,p.tZ)(Zt,{isTertiary:!0,onClick:n,style:{margin:"0 6px"}},yt("Cancel","presto-player")),(0,p.tZ)(Zt,{isPrimary:!0,isBusy:h,disabled:h,onClick:function(){if(j)return"edit"===r?$():G();_(yt("You must enter a name for the preset.","presto-player"))},"data-cy":"submit-preset"},yt("edit"==r?"Update Preset":"Create Preset","presto-player"))))))},Tt=wp.i18n.__,Dt=wp.components,Rt=Dt.Icon,Bt=Dt.Spinner,Lt=Dt.Modal,Mt=Dt.Button,It=Dt.ButtonGroup,Ft=wp.element.useState;function Ut(e){var t,r,n=e.preset,o=e.index,a=e.isActive,l=e.remove,i=e.setPreset,c=e.onEdit,u=Ft(!1),p=(0,s.Z)(u,2),d=p[0],f=p[1],y=Ft(!1),m=(0,s.Z)(y,2),h=m[0],b=m[1],g=function(){return b(!1)},Z=function(){var e=(0,he.Z)(ge().mark((function e(){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.id){e.next=3;break}return l(n),e.abrupt("return");case 3:return e.prev=3,f(!0),e.next=7,wp.apiFetch({method:"POST",url:wp.url.addQueryArgs("".concat(prestoPlayer.root).concat(prestoPlayer.prestoVersionString,"preset/").concat(n.id),{_method:"DELETE"})});case 7:e.sent&&(l(n),wp.data.dispatch("core/notices").createNotice("success",Tt("Preset trashed.","presto-player"),{type:"snackbar",isDismissible:!0})),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),console.error(e.t0),null!==e.t0&&void 0!==e.t0&&e.t0.message&&wp.data.dispatch("core/notices").createNotice("error",e.t0.message,{type:"snackbar",isDismissible:!0});case 15:return e.prev=15,b(!1),f(!1),e.finish(15);case 19:case"end":return e.stop()}}),e,null,[[3,11,15,19]])})));return function(){return e.apply(this,arguments)}}();return d?(0,v.tZ)("div",{className:"block-editor-block-styles__item",role:"button",tabIndex:o,"aria-label":"Fill",style:{color:a?"var(--wp-admin-theme-color)":"inherit",width:"calc(50% - 4px)",margin:"4px 0","flex-shrink":"0",cursor:"pointer",overflow:"hidden","border-radius":"2px",padding:"6px",display:"flex","flex-direction":"column"}},(0,v.tZ)("div",{className:"block-editor-block-styles__item-preview",style:{border:a?"2px solid var(--wp-admin-theme-color)":"2px solid #e3e3e3",margin:0,outline:"1px solid transparent",padding:"0",display:"flex",overflow:"hidden",background:"#fff","align-items":"center","flex-grow":"1","min-height":"80px","max-height":"160px"}},(0,v.tZ)(Bt,null))):(0,v.tZ)("div",{className:"block-editor-block-styles__item presto-preset-".concat(n.slug),onClick:function(){i(n)},role:"button",tabIndex:o,"aria-label":"Fill",style:{color:a?"var(--wp-admin-theme-color)":"inherit",width:"calc(50% - 4px)",margin:"4px 0","flex-shrink":"0",cursor:"pointer",overflow:"hidden","border-radius":"2px",padding:"6px",display:"flex","flex-direction":"column"}},(0,v.tZ)("div",{className:"block-editor-block-styles__item-preview",style:{border:a?"2px solid var(--wp-admin-theme-color)":"2px solid #e3e3e3",margin:0,outline:"1px solid transparent",padding:"0",display:"flex",overflow:"hidden",background:"#fff","align-items":"center","flex-grow":"1","min-height":"80px","max-height":"160px"}},(0,v.tZ)("div",{style:{textAlign:"center",width:"100%",color:a?"var(--wp-admin-theme-color)":"inherit",opacity:a?1:.75}},null!=n&&n.icon?(0,v.tZ)(Rt,{icon:null==n?void 0:n.icon,style:{fontSize:"30px",width:"30px",height:"30px"}}):(0,v.tZ)("h1",{style:{opacity:.75}},(null==n||null===(t=n.name)||void 0===t||null===(r=t.charAt(0))||void 0===r?void 0:r.toUpperCase())||"Untitled"))),(0,v.tZ)("div",{className:"block-editor-block-styles__item-label",style:{fontWeight:"bold",textTransform:"capitalize","text-align":"center",padding:"4px 0"}},(null==n?void 0:n.name)||"Untitled"),!(null!=n&&n.is_locked)&&(0,v.tZ)("div",{className:"block-editor-block-styles__item-edit"},(0,v.tZ)("div",{className:"block-editor-block-styles__item-edit-icon",onClick:c},(0,v.tZ)(Rt,{icon:"edit"})),(0,v.tZ)("div",{className:"block-editor-block-styles__item-edit-icon",onClick:function(){return b(!0)}},(0,v.tZ)(Rt,{icon:"trash"}))),h&&(0,v.tZ)(Lt,{title:Tt("Trash Preset?","presto-player"),onRequestClose:g,style:{maxWidth:"250px"}},(0,v.tZ)("p",null,(0,v.tZ)("strong",null,Tt("Warning!","presto-player")," "),Tt("Any videos assigned to this preset will automatically use the default preset.","presto-player")),(0,v.tZ)(It,null,(0,v.tZ)(Mt,{isDestructive:!0,onClick:Z,style:{margin:"0 4px"}},Tt("Trash","presto-player")),(0,v.tZ)(Mt,{isTertiary:!0,onClick:g,style:{margin:"0 4px",boxShadow:"none"}},Tt("Cancel","presto-player")))))}var Vt=wp.i18n.__,zt=wp.components,$t=zt.withNotices,Gt=zt.BaseControl,Ht=zt.Spinner,Wt=zt.Button,qt=wp.element,Yt=qt.useState,Kt=(qt.useEffect,wp.data),Qt=Kt.useSelect,Xt=Kt.dispatch,Jt=$t((function(e){var t,r=e.attributes,n=e.setAttributes,o=Yt(!1),a=(0,s.Z)(o,2),i=a[0],c=a[1],u=function(){return c(!1)},p=Yt(null),d=(0,s.Z)(p,2),f=d[0],y=d[1],m=Yt(null),h=(0,s.Z)(m,2),b=h[0],g=h[1],Z=Qt((function(e){return{presets:e("presto-player/player").getPresets(),loading:e("presto-player/player").isResolving("getPresets")}})),w=Z.presets,_=Z.loading,k=function(e){Xt("presto-player/player").addPreset(e)},x=function(e){Xt("presto-player/player").removePreset(e)},C=function(e){n({preset:e.id})},P=(0,me.Z)("div",{target:"e108l63h0"})({name:"1f3egm3",styles:"display:flex;flex-wrap:wrap;justify-content:space-between"});return _?(0,v.tZ)("div",{className:"presto-settings__loading"},(0,v.tZ)(Ht,null)):(0,v.tZ)(React.Fragment,null,w.length?(0,v.tZ)("p",null,Vt("Select a video configuration preset, or add your own.","presto-player")):"",(0,v.tZ)(Gt,null,(0,v.tZ)(P,null,(w||[]).length?w.map((function(e,t){return(0,v.tZ)(Ut,{setPreset:C,index:t,isActive:(null==r?void 0:r.preset)===e.id,preset:e,key:e.id,onEdit:function(){g(e.name),y(e),c("edit")},remove:x})})):Vt("No style presets. You can create a new style by clicking 'Add New Style'.","presto-plugin"))),(0,v.tZ)(Gt,null,(0,v.tZ)(Wt,{isPrimary:!0,"data-cy":"add-new-preset",onClick:function(){var e;null!==(e=prestoPlayer)&&void 0!==e&&e.isPremium?c("new"):Xt("presto-player/player").setProModal(!0)}},Vt("Add New Preset","presto-player")),!(null!==(t=prestoPlayer)&&void 0!==t&&t.isPremium)&&(0,v.tZ)(l.Z,null)),"new"==i&&(0,v.tZ)(At,{closeModal:u,addPreset:k,type:"new",onSave:C}),"edit"==i&&(0,v.tZ)(At,{closeModal:u,addPreset:k,updatePreset:function(e){Xt("presto-player/player").updatePreset(e)},type:"edit",preset:f,name:b}))})),er=r(6263);function tr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function rr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tr(Object(r),!0).forEach((function(t){(0,u.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var nr=wp.i18n.__,or=wp.components,ar=(or.PanelRow,or.TextControl,or.SelectControl,or.BaseControl),lr=or.Button,ir=or.FocalPointPicker,sr=or.RangeControl,cr=wp.blockEditor,ur=cr.MediaUpload,pr=cr.MediaUploadCheck,dr=(wp.element.useState,["image"]),fr=function(e){var t=e.attributes,r=e.setAttributes,n=e.instanceId,o=t.mutedOverlay,a="video-block__overlay-image-description-".concat(n);return(0,v.tZ)(React.Fragment,null,(0,v.tZ)(pr,null,(0,v.tZ)(ar,{className:"editor-video-overlay-control"},(0,v.tZ)(ar.VisualLabel,null,(0,v.tZ)("p",null,nr("Overlay Image","presto-player"))),(0,v.tZ)(ur,{title:nr("Select overlay image","presto-player"),onSelect:function(e){r({mutedOverlay:rr(rr({},o),{src:e.url})})},allowedTypes:dr,render:function(e){var t=e.open;return(0,v.tZ)(lr,{className:"presto-setting__poster",isPrimary:!0,onClick:t},null!=o&&o.src?nr("Replace","presto-player"):nr("Select","presto-player"))}}),(0,v.tZ)("p",{id:a,hidden:!0},null!=o&&o.src?sprintf(nr("The current overlay image url is %s","presto-player"),null==o?void 0:o.src):nr("There is no overlay image currently selected","presto-player")),!(null==o||!o.src)&&(0,v.tZ)(lr,{onClick:function(){r({mutedOverlay:rr(rr({},o),{src:""})})},className:"presto-setting__remove-poster",isTertiary:!0},nr("Remove","presto-player")))),!(null==o||!o.src)&&(0,v.tZ)(ir,{url:"",dimensions:{width:160,height:90},value:null==o?void 0:o.focalPoint,onChange:function(e){return r({mutedOverlay:rr(rr({},o),{focalPoint:e})})}}),!(null==o||!o.src)&&(0,v.tZ)(sr,{label:nr("Max Width (%)","presto-player"),value:null==o?void 0:o.width,onChange:function(e){return r({mutedOverlay:rr(rr({},o),{width:e})})},min:1,max:100}))};function yr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function vr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?yr(Object(r),!0).forEach((function(t){(0,u.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var mr=wp.i18n.__,hr=wp.components,br=hr.ToggleControl,gr=hr.SelectControl,Zr=hr.BaseControl,wr=hr.Button,_r=hr.PanelRow,kr=hr.Icon,xr=hr.Flex,Cr=wp.data.dispatch,Pr=wp.blockEditor,Or=Pr.MediaUpload,Sr=Pr.MediaUploadCheck,Er=["image"],jr=wp.compose.useInstanceId,Nr=function e(t){var r,n,o=t.setAttributes,a=t.attributes,i=a.mutedPreview,s=a.autoplay,c=a.playsInline,p=a.preload,d=a.poster,f=a.mutedOverlay,y=jr(e),m="video-block__poster-image-description-".concat(y),h=function(e){return function(t){o((0,u.Z)({},e,t))}};return(0,v.tZ)(React.Fragment,null,!s&&(0,v.tZ)(React.Fragment,null,(0,v.tZ)(br,{label:(0,v.tZ)(React.Fragment,null,mr("Muted Autoplay Preview","presto-player")," ",!(null!==(r=prestoPlayer)&&void 0!==r&&r.isPremium)&&(0,v.tZ)(l.Z,null)),onChange:function(e){var t;null!==(t=prestoPlayer)&&void 0!==t&&t.isPremium?o({mutedPreview:vr(vr({},i),{enabled:e})}):Cr("presto-player/player").setProModal(!0)},checked:null==i?void 0:i.enabled,className:"presto-setting__mutedPreview",help:mr("Shows a muted preview of the video.","presto-player")}),!(null==i||!i.enabled)&&!(null!=a&&a.video_id)&&(0,v.tZ)(_r,null,(0,v.tZ)(br,{label:mr("Muted Preview Captions","presto-player"),onChange:function(e){o({mutedPreview:vr(vr({},i),{captions:e})})},checked:null==i?void 0:i.captions,className:"presto-setting__mutedPreviewCaptions",help:mr("Play captions during muted autoplay","presto-player")})),!!i.enabled&&(0,v.tZ)(_r,null,(0,v.tZ)(br,{label:(0,v.tZ)(React.Fragment,null,mr("Muted Preview Overlay","presto-player")," ",!(null!==(n=prestoPlayer)&&void 0!==n&&n.isPremium)&&(0,v.tZ)(l.Z,null)),onChange:function(e){var t;null!==(t=prestoPlayer)&&void 0!==t&&t.isPremium?o({mutedOverlay:vr(vr({},f),{enabled:e})}):Cr("presto-player/player").setProModal(!0)},checked:null==f?void 0:f.enabled,className:"presto-setting__mutedOverlay",help:mr("Show an image over the top of the video either before or after the video.","presto-player")})),(null==f?void 0:f.enabled)&&(null==i?void 0:i.enabled)&&(0,v.tZ)(fr,{attributes:a,setAttributes:o})),!(null!=i&&i.enabled)&&(0,v.tZ)(br,{label:mr("Autoplay","presto-player"),className:"presto-setting__autoplay",onChange:h("autoplay"),checked:s,help:function(e){return e?mr("Note: Autoplaying videos may cause usability issues for some visitors.","presto-player"):null}}),(0,v.tZ)(_r,null,(0,v.tZ)(br,{label:mr("Play inline","presto-player"),className:"presto-setting__playsInline","data-cy":"playsInline",onChange:h("playsInline"),checked:c,help:mr("On mobile browsers, play the video on the page instead of opening it up fullscreen.","presto-player")})),!(null!=a&&a.video_id)&&(0,v.tZ)(_r,null,(0,v.tZ)(gr,{label:(0,v.tZ)(xr,null,(0,v.tZ)("div",null,mr("Performance Preference","presto-player")),(0,v.tZ)("a",{href:"https://prestoplayer.com/docs/performance-preferences-explained",target:"_blank",style:{textDecoration:"none"}},(0,v.tZ)(kr,{icon:"editor-help"}))),className:"presto-setting__preload",value:p,onChange:function(e){return o({preload:e})},help:(!!(null!=a&&a.src&&(0,er.dA)(null==a?void 0:a.src)&&["metadata","none"].includes(p))||"none"===p&&!d)&&mr("A poster image is recommended for this setting.","presto-player"),options:[{value:"auto",label:mr("Video Playback Speed","presto-player")},{value:"metadata",label:mr("Page Load Speed","presto-player")},{value:"none",label:mr("Page Load Speed (Extreme)","presto-player")}]})),(0,v.tZ)(Sr,null,(0,v.tZ)(Zr,{className:"editor-video-poster-control"},(0,v.tZ)(Zr.VisualLabel,null,(0,v.tZ)("p",null,mr("Poster image","presto-player"))),(0,v.tZ)(Or,{title:mr("Select poster image","presto-player"),onSelect:function(e){o({poster:e.url})},allowedTypes:Er,render:function(e){var t=e.open;return(0,v.tZ)(wr,{className:"presto-setting__poster",isPrimary:!0,onClick:t,"aria-describedby":m},mr(d?"Replace":"Select","presto-player"))}}),(0,v.tZ)("p",{id:m,hidden:!0},d?sprintf(mr("The current poster image url is %s","presto-player"),d):mr("There is no poster image currently selected","presto-player")),!!d&&(0,v.tZ)(wr,{onClick:function(){o({poster:""})},className:"presto-setting__remove-poster",isTertiary:!0},mr("Remove","presto-player")))))},Ar=wp.components.PanelBody,Tr=wp.i18n.__;function Dr(e){var t,r,n,i,s=e.attributes,c=e.setAttributes;return(0,v.tZ)(React.Fragment,null,(0,v.tZ)(Ar,{title:(0,v.tZ)(React.Fragment,null,Tr("Chapters","presto-player")," ",!(null!==(t=prestoPlayer)&&void 0!==t&&t.isPremium)&&(0,v.tZ)(l.Z,null)),initialOpen:null===(r=prestoPlayer)||void 0===r?void 0:r.isPremium},(0,v.tZ)(a.Z,{setAttributes:c,attributes:s})),(0,v.tZ)(Ar,{title:(0,v.tZ)(React.Fragment,null,Tr("Overlays","presto-player")," ",!(null!==(n=prestoPlayer)&&void 0!==n&&n.isPremium)&&(0,v.tZ)(l.Z,null)),initialOpen:null===(i=prestoPlayer)||void 0===i?void 0:i.isPremium},(0,v.tZ)(ve,{setAttributes:c,attributes:s})),(0,v.tZ)(Ar,{title:Tr("Video settings","presto-player")},(0,v.tZ)(Nr,{setAttributes:c,attributes:s})),(0,v.tZ)(Ar,{title:Tr("Video Preset","presto-player")},(0,v.tZ)(Jt,{setAttributes:c,attributes:s})),(0,v.tZ)(Ar,{title:Tr("Global Player Branding","presto-player"),initialOpen:!1},(0,v.tZ)(o.Z,{setAttributes:c,attributes:s})))}},2383:function(e,t,r){"use strict";r.d(t,{Z:function(){return f}});var n=r(3324),o=(r(9307),r(917)),a=wp.components,l=a.Button,i=a.Placeholder,s=a.TextControl,c=a.Flex,u=a.FlexItem,p=a.FlexBlock,d=wp.element.useState,__=wp.i18n.__;function f(e){var t=e.attributes,r=(e.setAttributes,e.icon),a=e.onSelectURL,f=e.label,y=e.instructions,v=e.placeholder,m=t.src,h=d({src:m}),b=(0,n.Z)(h,2),g=b[0],Z=b[1];return(0,o.tZ)(i,{icon:r,label:f||__("Presto Embedded Video","presto-player"),instructions:y||__("Enter video URL","presto-player")},(0,o.tZ)("form",{onSubmit:function(e){e.preventDefault(),a(g.url)}},(0,o.tZ)(c,{style:{width:"100%",maxWidth:"400px"}},(0,o.tZ)(p,null,(0,o.tZ)(s,{type:"url",className:"presto-link-placeholder-input",placeholder:v||__("Youtube URL","presto-player"),value:g.url,onChange:function(e){return Z({url:e})}})),(0,o.tZ)(u,null,(0,o.tZ)(l,{isPrimary:!0,style:{marginBottom:"8px"},type:"submit"},__("Add Video","presto-player"))))))}},1713:function(e,t,r){"use strict";var n,o=r(168),a=r(4942),l=(r(9307),r(7453)),i=r(209),s=r(7161),c=r(917);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){(0,a.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var d=wp.data.useSelect;t.Z=function(e){var t,r,a,u,f,y=e.src,v=e.classes,m=e.preset,h=e.branding,b=e.attributes,g=e.adminPreview,Z=e.currentTime,w=e.preload,_=void 0===w?"metadata":w,k=e.overlays,x=e.type,C=b.chapters,P=b.mutedOverlay,O=b.mutedPreview,S=d((function(e){var t;return null===(t=e("presto-player/player"))||void 0===t?void 0:t.youtube()})),E=d((function(e){var t;return null===(t=e("presto-player/player"))||void 0===t?void 0:t.playerCSS()}));return(0,c.tZ)("div",{className:"wp-block-video presto-block-video",style:"audio"===x?p(p(p({"--presto-player-border-radius":"".concat(null==m?void 0:m.border_radius,"px")},null!=m&&m.background_color?{"--plyr-audio-controls-background":m.background_color}:{"--plyr-audio-controls-background":null==h?void 0:h.color}),null!=m&&m.control_color?{"--plyr-audio-control-color":m.control_color,"--plyr-range-thumb-background":m.control_color,"--plyr-range-fill-background":m.control_color,"--plyr-audio-progress-buffered-background":function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=e.replace("#","");3===r.length&&(r=r[0]+r[0]+r[1]+r[1]+r[2]+r[2]);var n=parseInt(r.substring(0,2),16),o=parseInt(r.substring(2,4),16),a=parseInt(r.substring(4,6),16);return t>1&&t<=100&&(t/=100),"rgba("+n+","+o+","+a+","+t+")"}(m.control_color||(null==h?void 0:h.color)||"#00b3ff",.5)}:{"--plyr-audio-control-color":"#ffffff","--plyr-range-thumb-background":"#ffffff","--plyr-range-fill-background":"#ffffff"}),{},{"--plyr-range-thumb-shadow":"0px"}):p(p(p({"--presto-player-border-radius":"".concat(null==m?void 0:m.border_radius,"px")},null!=m&&m.caption_background?{"--plyr-captions-background":m.caption_background}:{}),null!=h&&h.color?{"--plyr-color-main":h.color}:{}),{},{"--presto-player-email-border-radius":"".concat((null==m||null===(t=m.email_collection)||void 0===t?void 0:t.border_radius)||0,"px"),"--presto-player-logo-width":"".concat((null==h?void 0:h.logo_width)||75,"px")})},(0,c.tZ)(i.pv,{src:y,"data-css":E,classes:v,currentTime:Z,overlays:k,isAdmin:!0,preload:_,preset:m,bunny:{thumbnail:null==b?void 0:b.previewThumbnail,preview:null==b?void 0:b.preview},youtube:{channelId:null==S?void 0:S.channel_id},tracks:!(null==m||!m.captions)&&[{kind:"captions",label:"English",srclang:"en",src:"/path/to/captions.en.vtt",default:!0}],branding:h,chapters:C,blockAttributes:b,poster:b.poster,provider:"audio"===x?"audio":(0,s.VH)(y),mediaTitle:b.title},(0,c.tZ)("div",{slot:"player-end"},!(null===(r=m.search)||void 0===r||!r.enabled)&&(0,c.tZ)(i.Zs,{css:(0,l.iv)(n||(n=(0,o.Z)(["\n                position: absolute;\n                top: 15px;\n                right: 23px;\n                z-index: 1;\n              "]))),placeholder:null===(a=m.search)||void 0===a?void 0:a.placeholder}),(null==O?void 0:O.enabled)&&(null==P?void 0:P.enabled)&&(0,c.tZ)("div",{className:"presto-player__overlay is-image",style:{position:"absolute",width:"".concat((null==P?void 0:P.width)||100,"%"),left:"".concat(100*((null==P||null===(u=P.focalPoint)||void 0===u?void 0:u.x)||.5),"%"),top:"".concat(100*((null==P||null===(f=P.focalPoint)||void 0===f?void 0:f.y)||.5),"%")}},(0,c.tZ)("img",{src:null==P?void 0:P.src,style:{transform:"translateX(-50%) translateY(-50%)"}})),g)))}},4994:function(e,t,r){"use strict";var n=r(5861),o=r(3324),a=(r(9307),r(1284)),l=r.n(a),i=r(9807),s=r(917),__=wp.i18n.__,c=wp.components,u=c.ColorPicker,p=c.Button,d=c.withNotices,f=c.BaseControl,y=c.RangeControl,v=wp.blockEditor,m=v.MediaUpload,h=v.MediaUploadCheck,b=wp.compose.useInstanceId,g=wp.element.useState,Z=wp.data,w=Z.dispatch,_=Z.useSelect,k=["image"];t.Z=d((function e(t){t.setAttributes,t.attributes;var r,a=t.type,c=b(e),d=g(1),v=(0,o.Z)(d,2),Z=v[0],x=v[1],C=_((function(e){return e("presto-player/player").branding()})),P=function(){var e=(0,n.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w("presto-player/player").saveOptions({branding:C});case 2:wp.data.dispatch("core/notices").createNotice("success","Player branding saved.",{type:"snackbar",isDismissible:!0});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,s.tZ)("div",{className:"presto-player__panel--branding"},"audio"!==a&&(0,s.tZ)("p",null,__("Here you can select the global player branding This will apply to all players on the site.","presto-player")),(0,s.tZ)(h,null,(0,s.tZ)(f,{className:"editor-video-poster-control"},"audio"!==a&&(0,s.tZ)(React.Fragment,null,(0,s.tZ)(f.VisualLabel,null,(0,s.tZ)("p",null,__("Logo Overlay","presto-player")," ",!(null!==(r=prestoPlayer)&&void 0!==r&&r.isPremium)&&(0,s.tZ)(i.Z,null))),(0,s.tZ)(m,{title:__("Select logo overlay image","presto-player"),onSelect:function(e){w("presto-player/player").updateBranding("logo",e.url)},allowedTypes:k,render:function(e){var t=e.open;return(0,s.tZ)(p,{className:"presto-setting__logo",isSecondary:!0,onClick:function(){var e;null!==(e=prestoPlayer)&&void 0!==e&&e.isPremium?t():w("presto-player/player").setProModal(!0)},"aria-describedby":"video-block__logo-image-description-".concat(c)},null!=C&&C.logo?__("Replace","presto-player"):__("Select","presto-player"))}})),(0,s.tZ)("p",{id:"video-block__logo-image-description-".concat(c),hidden:!0},null!=C&&C.logo?sprintf(/* translators: %s: poster image URL. */
__("The current logo image url is %s","presto-player"),null==C?void 0:C.logo):__("There is no logo image currently selected","presto-player")),!(null==C||!C.logo)&&(0,s.tZ)(p,{onClick:function(){w("presto-player/player").updateBranding("logo","")},isTertiary:!0},__("Remove","presto-player")))),!(null==C||!C.logo)&&(0,s.tZ)(y,{label:__("Logo Max Width","presto-player"),value:(null==C?void 0:C.logo_width)||150,onChange:function(e){return w("presto-player/player").updateBranding("logo_width",e)},min:1,max:400}),(0,s.tZ)(u,{color:null==C?void 0:C.color,onChangeComplete:function(e){w("presto-player/player").updateBranding("color",e.hex)},key:Z,disableAlpha:!0}),(null==C?void 0:C.color)&&(0,s.tZ)(f,null,(0,s.tZ)(p,{isSecondary:!0,onClick:function(){var e,t;w("presto-player/player").updateBranding("color",(null===(e=prestoPlayer)||void 0===e||null===(t=e.defaults)||void 0===t?void 0:t.color)||"#00b3ff"),x(Z+1)}},__("Reset Color","presto-player"))),(0,s.tZ)(p,{isPrimary:!0,onClick:P},__("Save Branding","presto-player")))}))},398:function(e,t,r){"use strict";r.d(t,{Z:function(){return Z}});var n=r(9062),o=r(4942),a=r(3324),l=(r(9307),r(7161)),i=r(917),__=wp.i18n.__,s=wp.components,c=s.Flex,u=s.FlexItem,p=s.FlexBlock,d=s.TextControl,f=s.Button,y=wp.element.useState,v=function(e){var t=e.update,r=e.add,n=e.remove,s=e.className,v=e.time,m=e.title,h=(e.disabled,e.showNotice,y(v)),b=(0,a.Z)(h,2),g=b[0],Z=b[1];return(0,i.tZ)(c,{align:"center",className:s},(0,i.tZ)(u,null,(0,i.tZ)(d,(0,o.Z)({className:"presto-player__caption--time",style:{width:"60px"},placeholder:"0:00",value:g,onChange:function(e){return Z(e)},onBlur:function(){var e=(0,l.as)(g);t({time:e}),Z(e)},autoComplete:"off"},"placeholder","0:00"))),(0,i.tZ)(p,null,(0,i.tZ)(d,{className:"presto-player__caption--title",placeholder:__("Title","presto-player"),value:m||"",onChange:function(e){return t({title:e})},autoComplete:"off"})),(0,i.tZ)(u,null,n&&(0,i.tZ)(f,{icon:"minus",className:"ph-chapter__remove",style:{marginBottom:"8px"},label:__("Remove Chapter","presto-player"),onClick:n}),r&&(0,i.tZ)(f,{icon:"plus-alt",className:"ph-chapter__add",label:__("Add Chapter","presto-player"),style:{marginBottom:"8px"},onClick:function(){r(),Z("")}})))};function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){(0,o.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}wp.i18n.__;var b=wp.element.useState,g=wp.data.dispatch,Z=function(e){var t,r=e.setAttributes,o=e.attributes,l=function(){g("presto-player/player").setProModal(!0)};if(null===(t=prestoPlayer)||void 0===t||!t.isPremium)return(0,i.tZ)(v,{disabled:!0,className:"ph-chapter is-new",time:"",title:"",update:function(){},showNotice:l,add:l});var s=o.chapters,c=b({title:"",time:""}),u=(0,a.Z)(c,2),p=u[0],d=u[1];return(0,i.tZ)(React.Fragment,null,(s||[]).sort((function(e,t){return parseInt(e.time.split(":")[0])-parseInt(t.time.split(":")[0])==0?parseInt(e.time.split(":")[1])-parseInt(t.time.split(":")[1]):parseInt(e.time.split(":")[0])-parseInt(t.time.split(":")[0])})).map((function(e,t){return(0,i.tZ)(v,{key:"".concat(t,"-").concat(e.time),className:"ph-chapter",time:e.time,title:e.title,chapter:e,update:function(t){!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=s.indexOf(e),o=s.map((function(e,r){return r!==n?e:h(h({},e),t)}));r({chapters:o})}(e,t)},remove:function(){!function(e){var t=s.indexOf(e);r({chapters:s.filter((function(e,r){return r!==t}))})}(e)}})})),(0,i.tZ)(v,{className:"ph-chapter is-new",time:p.time,title:p.title,update:function(e){d(h(h({},p),e))},add:function(){p.time&&p.title&&(r({chapters:[].concat((0,n.Z)(s||[]),[{time:p.time,title:p.title}])}),d({title:"",time:""}))}}))}},1145:function(e,t,r){"use strict";var n=r(3324),o=(r(9307),r(7453)),a=wp.components,l=a.ColorPicker,i=a.ColorIndicator,s=a.Popover,c=a.Button,u=(a.Flex,wp.element),p=u.useState,d=u.useEffect,__=wp.i18n.__,f={name:"dbcz6",styles:"width:25px;height:25px;border-radius:9999px"},y={name:"h3ohiq",styles:"display:flex;align-items:center;justify-content:space-between;padding:10px"},v={name:"1yzqyz8",styles:"margin:0 5px"},m={name:"iml53j",styles:"display:flex;justify-content:flex-end;padding:10px"},h={name:"1yzqyz8",styles:"margin:0 5px"};t.Z=function(e){var t=e.color,r=e.setColor,a=e.onFocus,u=p(!1),b=(0,n.Z)(u,2),g=b[0],Z=b[1],w=p(t),_=(0,n.Z)(w,2),k=_[0],x=_[1];return d((function(){g&&t&&x(t)}),[g]),(0,o.tZ)("span",null,(0,o.tZ)(i,{css:f,colorValue:t,onClick:function(){Z(!g),a&&a()}}),!!g&&(0,o.tZ)(s,{position:"bottom left",focusOnMount:!0,onFocusOutside:function(e){Z(!1)}},(0,o.tZ)(l,{color:t||"",onChangeComplete:function(e){return(null==e?void 0:e.hex)&&r(e)},disableAlpha:!0}),(0,o.tZ)("div",{css:y},(0,o.tZ)(c,{css:v,isTertiary:!0,onClick:function(){r({hex:null}),Z(!1)}},__("Reset","presto-player")),(0,o.tZ)("div",{css:m},(0,o.tZ)(c,{css:h,isTertiary:!0,onClick:function(){r({hex:k}),Z(!1)}},__("Cancel","presto-player")),(0,o.tZ)(c,{isPrimary:!0,onClick:function(){return Z(!1)}},__("Apply","presto-player"))))))}},9807:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}}),r(9307);var n=r(917),__=wp.i18n.__;function o(){return(0,n.tZ)("div",{className:"presto-player__pro-badge"},__("Pro","presto-player"))}},5297:function(e,t,r){"use strict";var n,o,a,l,i,s,c=r(168),u=r(4942),p=r(3324),d=(r(9307),r(7453));function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){(0,u.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var __=wp.i18n.__,v=wp.components,m=v.Button,h=v.Popover,b=v.Icon,g=wp.blockEditor.__experimentalLinkControl,Z=wp.element.useState,w=wp.url.prependHTTP;t.Z=function(e){var t=e.setSettings,r=e.settings,u=Z(!1),f=(0,p.Z)(u,2),v=f[0],_=f[1],k=r.url,x=Z(),C=(0,p.Z)(x,2),P=C[0],O=C[1],S=y({url:null==r?void 0:r.url,type:null==r?void 0:r.type,id:null==r?void 0:r.id,opensInNewTab:null==r?void 0:r.opensInNewTab},P),E=function(e){e=y(y({},P),e);var r=S.opensInNewTab!==e.opensInNewTab&&S.url===e.url&&void 0===e.url;if(O(r?e:void 0),!r){var n=w(e.url);t({url:n,type:e.type,id:void 0!==e.id&&null!==e.id?String(e.id):void 0,opensInNewTab:e.opensInNewTab})}};return(0,d.tZ)("span",null,k?(0,d.tZ)("div",{css:(0,d.iv)(n||(n=(0,c.Z)(["\n            display: flex;\n            justify-content: space-between;\n          "])))},(0,d.tZ)("div",{css:(0,d.iv)(o||(o=(0,c.Z)(["\n              max-width: 85%;\n              overflow: hidden;\n              display: flex;\n              align-items: center;\n            "])))},(0,d.tZ)("a",{href:"#",css:(0,d.iv)(a||(a=(0,c.Z)(["\n                padding: 10px;\n                background: #f3f3f3;\n                border-radius: 4px;\n                width: 100%;\n                display: inline-flex;\n                align-items: center;\n                white-space: nowrap;\n                overflow: hidden;\n                text-overflow: ellipsis;\n                text-decoration: none;\n              "]))),onClick:function(){return _(!v)}},(0,d.tZ)(b,{icon:"edit",css:(0,d.iv)(l||(l=(0,c.Z)(["\n                  cursor: pointer;\n                  opacity: 0.75;\n                  margin: 0 2px;\n                  font-size: 16px;\n                  width: 16px;\n                  height: 16px;\n                  text-decoration: none;\n                "])))}),k),v&&(0,d.tZ)(h,{position:"bottom center",onClose:function(){return _(!1)}},(0,d.tZ)(g,{value:r,onChange:E}))),(0,d.tZ)("div",{css:(0,d.iv)(i||(i=(0,c.Z)(["\n              display: flex;\n              align-items: center;\n            "])))},(0,d.tZ)(b,{onClick:function(){confirm(__("Are you sure you wish to remove this link?","presto-player"))&&t({})},icon:"trash",className:"presto-icon",css:(0,d.iv)(s||(s=(0,c.Z)(["\n                cursor: pointer;\n                opacity: 0.75;\n                margin: 0 2px;\n                fontsize: 18px;\n                width: 18px;\n                height: 18px;\n\n                &:hover {\n                  color: #cc1818;\n                }\n              "])))}))):(0,d.tZ)("span",null,(0,d.tZ)(m,{isPrimary:!0,isSmall:!0,onClick:function(){return _(!v)}},__("Add Link","presto-player")),v&&(0,d.tZ)(h,{position:"bottom center",onClose:function(){return _(!1)}},(0,d.tZ)(g,{value:r,onChange:E}))))}},2777:function(e,t){"use strict";var r={setUrlPrivate:function(){var e=-1===window.location.href.indexOf("?")?"?":"&",t=window.location.href+e+"presto_video_type=private";window.history.pushState({path:t},"",t)},setUrlPublic:function(){var e=-1===window.location.href.indexOf("?")?"?":"&",t=window.location.href+e+"presto_video_type=public";window.history.pushState({path:t},"",t)},unsetUrlParams:function(){var e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=new URL(e);return t.forEach((function(e){r.searchParams.delete(e)})),r.href}(window.location.href,["presto_video_type"]);window.history.pushState({path:e},"",e)}};t.Z=r},3865:function(e,t,r){"use strict";r.d(t,{Z:function(){return G}});var n,o,a,l=r(4942),i=r(3324),s=(r(9307),r(1145)),c=r(5297),u=r(168),p=r(5861),d=r(1284),f=r.n(d),y=r(7453);function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){(0,l.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var __=wp.i18n.__,h=wp.components,b=h.TextControl,g=h.ExternalLink,Z=h.Button,w=(h.Flex,wp.element),_=w.useState,k=w.useEffect,x=wp.data,C=x.useSelect,P=x.dispatch,O=function(e){var t=e.onClose,r=e.value,l=e.setValue,s=_(!1),c=(0,i.Z)(s,2),d=c[0],v=c[1],h=wp.data.useSelect((function(e){return e("core").canUser("read","settings")})),w=C((function(e){return e("presto-player/player").youtube()}));k((function(){l(w.channel_id)}),[null==w?void 0:w.channel_id]);var x=function(){var e=(0,p.Z)(f().mark((function e(n){var o,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),v(!0),P("presto-player/player").updateYoutube({channel_id:r}),o=m(m({},w),{channel_id:r}),e.prev=4,e.next=7,wp.apiFetch({path:"wp/v2/settings",method:"POST",data:{presto_player_youtube:o}});case 7:null!=(a=e.sent)&&a.presto_player_youtube&&(P("presto-player/player").setYoutube(null==a?void 0:a.presto_player_youtube),t()),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(4);case 13:return e.prev=13,v(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[4,11,13,16]])})));return function(_x){return e.apply(this,arguments)}}();return h?(0,y.tZ)("form",{onSubmit:x},(0,y.tZ)(b,{css:(0,y.iv)(n||(n=(0,u.Z)(["\n          margin-bottom: 0 !important;\n        "]))),label:__("Youtube Channel ID","presto-player"),help:(0,y.tZ)("p",null,(0,y.tZ)(g,{href:"https://support.google.com/youtube/answer/3250431?hl=en"},__("Find my channel id","presto-player"))),value:r,onChange:function(e){return l(e)}}),(0,y.tZ)(Z,{disabled:d,isBusy:d,css:(0,y.iv)(o||(o=(0,u.Z)(["\n          margin-bottom: 1em;\n        "]))),isPrimary:!0,type:"submot"},__("Save","presto-player")),(0,y.tZ)(Z,{onClick:t,css:(0,y.iv)(a||(a=(0,u.Z)(["\n          margin-bottom: 1em;\n        "]))),isTertiary:!0},__("Cancel","presto-player"))):""},S=r(917);function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(Object(r),!0).forEach((function(t){(0,l.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var N=wp.i18n.__,A=wp.components,T=A.ToggleControl,D=A.Flex,R=A.Button,B=A.BaseControl,L=A.RangeControl,M=A.TextControl,I=A.SelectControl,F=A.TextareaControl,U=wp.element,V=U.useEffect,z=U.useState,$=wp.data.useSelect;function G(e){var t=e.state,r=e.updateState,n=e.className,o=e.value,a=e.setValue,l=t.action_bar,u=z(!1),p=(0,i.Z)(u,2),d=p[0],f=p[1],y=$((function(e){return e("presto-player/player").branding()})),v=$((function(e){return e("presto-player/player").youtube()})),m=function(e){r(j(j({},t),{},{action_bar:j(j({},l),e)}))};return V((function(){null!=l&&l.text||m({text:"Like this?"}),null!=l&&l.button_type||m({button_type:"custom"}),null!=l&&l.button_text||m({button_text:"Click Here"})}),[t]),(0,S.tZ)("div",{className:n},(0,S.tZ)(B,null,(0,S.tZ)("h3",null,N("Action Bar","presto-player"))),(0,S.tZ)(B,{className:"presto-player__control--large-play"},(0,S.tZ)(T,{label:N("Enable","presto-player"),help:N("Show an action bar below your player while it's playing.","presto-player"),onChange:function(e){m({enabled:e})},checked:null==l?void 0:l.enabled})),!(null==l||!l.enabled)&&(0,S.tZ)(React.Fragment,null,(0,S.tZ)(B,{className:"presto-player__control--percentage-watched"},(0,S.tZ)(L,{label:N("Display At (Percentage)","presto-player"),labelPosition:"top",onChange:function(e){m({percentage_start:e})},marks:[{value:0,label:N("Start","presto-player")},{value:50,label:N("50% Watched","presto-player")},{value:100,label:N("End","presto-player")}],shiftStep:5,value:(null==l?void 0:l.percentage_start)||0})),(0,S.tZ)(B,{className:"presto-player__control--large-play"},(0,S.tZ)(F,{label:N("Text","presto-player"),help:N("Action bar text.","presto-player"),value:null==l?void 0:l.text,onChange:function(e){return m({text:e})}})),(0,S.tZ)(B,{className:"presto-player__control--large-play"},(0,S.tZ)(D,null,(0,S.tZ)(B.VisualLabel,null,N("Action Bar Background","presto-player")),(0,S.tZ)(s.Z,{color:(null==l?void 0:l.background_color)||"#1d1d1d",setColor:function(e){return m({background_color:e&&e.hex})}}))),(0,S.tZ)(B,null,(0,S.tZ)("h3",null,N("Button","presto-player"))),(0,S.tZ)(B,{className:"presto-player__control--button-type"},(0,S.tZ)(I,{label:N("Button Type","presto-player"),value:null==l?void 0:l.button_type,options:[{value:"custom",label:N("Custom","presto-player")},{value:"youtube",label:N("YouTube Subscribe","presto-player")},{value:"none",label:N("None","presto-player")}],onChange:function(e){return m({button_type:e})}})),"youtube"===(null==l?void 0:l.button_type)&&(null==v?void 0:v.channel_id)&&(0,S.tZ)(T,{label:N("Show Count","presto-player"),help:N("Show your follower count.","presto-player"),onChange:function(e){m({button_count:e})},checked:null==l?void 0:l.button_count}),function(){if("youtube"===(null==l?void 0:l.button_type))return d?(0,S.tZ)(O,{onClose:function(){return f(!1)},value:o,setValue:a}):(0,S.tZ)("div",null,(0,S.tZ)(R,{isSecondary:!0,onClick:function(e){e.preventDefault(),f(!0)}},null!=v&&v.channel_id?N("Update Youtube Channel Id","presto-player"):N("Add Youtube Channel Id","presto-player")),(0,S.tZ)("br",null),(0,S.tZ)("br",null),(0,S.tZ)("br",null))}(),"custom"===(null==l?void 0:l.button_type)&&(0,S.tZ)("div",null,(0,S.tZ)(B,{className:"presto-player__control--button-text"},(0,S.tZ)(M,{label:N("Button Text","presto-player"),help:(0,S.tZ)("p",null,N("Submit button text","presto-player")),value:null==l?void 0:l.button_text,onChange:function(e){return m({button_text:e})}})),(0,S.tZ)(B,{className:"presto-player__control--button-text"},(0,S.tZ)(B.VisualLabel,null,(0,S.tZ)("p",null," ",N("Button Link","presto-player"))),(0,S.tZ)(c.Z,{setSettings:function(e){m({button_link:e})},settings:(null==l?void 0:l.button_link)||{}})),(0,S.tZ)(B,{className:"presto-player__control--button-radius"},(0,S.tZ)(L,{label:N("Round Corners","presto-player"),help:N("Border radius of the button","presto-player"),value:(null==l?void 0:l.button_radius)||0,onChange:function(e){return m({button_radius:e})},min:0,max:25})),(0,S.tZ)(B,{className:"presto-player__control--button-color"},(0,S.tZ)(D,null,(0,S.tZ)(B.VisualLabel,null,N("Button Color","presto-player")),(0,S.tZ)(s.Z,{color:(null==l?void 0:l.button_color)||(null==y?void 0:y.color),setColor:function(e){return m({button_color:e&&e.hex})}}))),(0,S.tZ)(B,{className:"presto-player__control--button-text-color"},(0,S.tZ)(D,null,(0,S.tZ)(B.VisualLabel,null,N("Button Text Color","presto-player")),(0,S.tZ)(s.Z,{color:(null==l?void 0:l.button_text_color)||"#ffffff",setColor:function(e){return m({button_text_color:e&&e.hex})}}))))))}},7833:function(e,t,r){"use strict";var n,o,a=r(168),l=r(4942),i=r(9307),s=r(5736),c=r(5609),u=r(9818),p=r(5297),d=r(1145),f=r(7453);function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){(0,l.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function m(e){var t=e.state,r=e.updateState,y=e.className,m=t.cta,h=t.email_collection,b=(0,u.useSelect)((function(e){return e("presto-player/player").branding()})),g={percentage:100,show_rewatch:!0,show_skip:!0,headline:(0,s.__)("Want to learn more?","presto-player"),show_button:!0,button_text:(0,s.__)("Click Here","presto-player"),button_link:{opensInNewTab:!0}};(0,i.useEffect)((function(){Object.keys(g).forEach((function(e){var r;void 0===(null==t||null===(r=t.cta)||void 0===r?void 0:r[e])&&Z((0,l.Z)({},e,g[e]))}))}),[t]);var Z=function(e){r(v(v({},t),{},{cta:v(v({},m),e)}))};return(0,f.tZ)("div",{className:y},(0,f.tZ)(c.BaseControl,null,(0,f.tZ)("h3",null,(0,s.__)("Call To Action","presto-player"))),(0,f.tZ)(c.BaseControl,{className:"presto-player__control--large-play"},(0,f.tZ)(c.ToggleControl,{label:(0,s.__)("Enable","presto-player"),help:(0,s.__)("Show an email collection form and message over your player.","presto-player"),onChange:function(e){Z({enabled:e})},checked:null==m?void 0:m.enabled})),!(null==m||!m.enabled)&&(0,f.tZ)(React.Fragment,null,(0,f.tZ)(c.BaseControl,{className:"presto-player__control--percentage-watched"},(0,f.tZ)(c.RangeControl,{label:(0,s.__)("Display At (Percentage)","presto-player"),labelPosition:"top",onChange:function(e){Z({percentage:e})},marks:[{value:0,label:(0,s.__)("Start","presto-player")},{value:50,label:(0,s.__)("50% Watched","presto-player")},{value:100,label:(0,s.__)("End","presto-player")}],shiftStep:5,value:null==m?void 0:m.percentage})),(null==h?void 0:h.enabled)&&(null==h?void 0:h.percentage)===(null==m?void 0:m.percentage)&&(0,f.tZ)(c.Notice,{css:(0,f.iv)(n||(n=(0,a.Z)(["\n                  margin: 0 0 30px 0 !important;\n                "]))),status:"warning",isDismissible:!1},(0,s.__)("You already have an email capture set display at the same time.","presto-player"),(0,f.tZ)(c.Button,{onClick:function(){r(v(v({},t),{},{email_collection:v(v({},h),{enabled:!1})}))},isLink:!0,css:(0,f.iv)(o||(o=(0,a.Z)(["\n                    margin-top: 10px !important;\n                  "])))},(0,s.__)("Disable Email Capture","presto-player"))),100===(null==m?void 0:m.percentage)?(0,f.tZ)(c.BaseControl,{className:"presto-player__control--show-rewatch"},(0,f.tZ)(c.ToggleControl,{label:(0,s.__)("Show Rewatch Button","presto-player"),help:(0,s.__)("Show a rewatch button at the end of the player.","presto-player"),onChange:function(e){Z({show_rewatch:e})},checked:null==m?void 0:m.show_rewatch})):(0,f.tZ)(c.BaseControl,{className:"presto-player__control--show-skip"},(0,f.tZ)(c.ToggleControl,{label:(0,s.__)("Allow Skipping","presto-player"),help:(0,s.__)("Let the user continue watching the player.","presto-player"),onChange:function(e){Z({show_skip:e})},checked:null==m?void 0:m.show_skip})),(0,f.tZ)(c.BaseControl,{className:"presto-player__control--button-link"},(0,f.tZ)(c.BaseControl.VisualLabel,null,(0,f.tZ)("p",null," ",(0,s.__)("Link","presto-player"))),(0,f.tZ)(p.Z,{setSettings:function(e){Z({button_link:e})},settings:(null==m?void 0:m.button_link)||{}})),(0,f.tZ)(c.BaseControl,{className:"presto-player__control--headline"},(0,f.tZ)(c.TextareaControl,{label:(0,s.__)("Headline","presto-player"),help:(0,s.__)("The headline for your form.","presto-player"),value:null==m?void 0:m.headline,onChange:function(e){Z({headline:e})}})),(0,f.tZ)(c.BaseControl,{className:"presto-player__control--bottom-text"},(0,f.tZ)(c.TextareaControl,{label:(0,s.__)("Bottom Text","presto-player"),help:(0,s.__)("Text displayed below the form. HTML allowed.","presto-player"),value:null==m?void 0:m.bottom_text,onChange:function(e){Z({bottom_text:e})}})),(0,f.tZ)(c.BaseControl,{className:"presto-player__control--show-button"},(0,f.tZ)(c.ToggleControl,{label:(0,s.__)("Show Button","presto-player"),help:(0,s.__)("Show a call to action button.","presto-player"),onChange:function(e){Z({show_button:e})},checked:null==m?void 0:m.show_button})),!(null==m||!m.show_button)&&(0,f.tZ)("div",null,(0,f.tZ)(c.BaseControl,{className:"presto-player__control--button-text"},(0,f.tZ)(c.TextControl,{label:(0,s.__)("Button Text","presto-player"),help:(0,f.tZ)("p",null,(0,s.__)("Button text for the Call To Action","presto-player")),value:null==m?void 0:m.button_text,onChange:function(e){return Z({button_text:e})}})),(0,f.tZ)("h3",null,(0,s.__)("Style","presto-player")),(0,f.tZ)(c.BaseControl,null,(0,f.tZ)(c.RangeControl,{label:(0,s.__)("Round Corners","presto-player"),help:(0,s.__)("Border radius of form elements.","presto-player"),value:(null==m?void 0:m.button_radius)||0,onChange:function(e){return Z({button_radius:e})},min:0,max:25})),(0,f.tZ)(c.BaseControl,{className:"presto-player__control--button-color"},(0,f.tZ)(c.Flex,null,(0,f.tZ)(c.BaseControl.VisualLabel,null,(0,s.__)("Button Color","presto-player")),(0,f.tZ)(d.Z,{color:(null==m?void 0:m.button_color)||(null==b?void 0:b.color),setColor:function(e){return Z({button_color:e&&e.hex})}}))),(0,f.tZ)(c.BaseControl,{className:"presto-player__control--button-text-color"},(0,f.tZ)(c.Flex,null,(0,f.tZ)(c.BaseControl.VisualLabel,null,(0,s.__)("Button Text Color","presto-player")),(0,f.tZ)(d.Z,{color:(null==m?void 0:m.button_text_color)||"#ffffff",setColor:function(e){return Z({button_text_color:e&&e.hex})}})))),(0,f.tZ)(c.BaseControl,null,(0,f.tZ)(c.RangeControl,{label:(0,s.__)("Background Opacity","presto-player"),help:(0,s.__)("Opacity percentage of the cover background.","presto-player"),value:(null==m?void 0:m.background_opacity)||75,onChange:function(e){return Z({background_opacity:e})},min:0,max:100}))))}m.defaultProps={catName:"Sandy",eyeColor:"deepblue",age:"120"},t.Z=m},9632:function(e,t,r){"use strict";r.d(t,{Z:function(){return he}});var n,o,a=r(168),l=r(4942),i=(r(9307),r(5736)),s=r(5609),c=r(9818),u=r(9062),p=r(5861),d=r(3324),f=r(1284),y=r.n(f),v=r(917),m=function(){return(0,v.tZ)("div",null,(0,v.tZ)("presto-player-skeleton",{style:{width:"30%",marginBottom:"10px"}}),(0,v.tZ)("presto-player-skeleton",{style:{height:"2rem",marginBottom:"20px"}}))},__=wp.i18n.__,h=wp.components,b=h.SelectControl,g=h.TextControl,Z=h.Notice,w=wp.element,_=w.useEffect,k=w.useState,x=function(e){var t=e.options,r=e.updateEmailState,n=k(!1),o=(0,d.Z)(n,2),a=o[0],l=o[1],i=k([{value:null,label:__("Choose an audience","presto-player")}]),s=(0,d.Z)(i,2),c=s[0],f=s[1],h=k(""),w=(0,d.Z)(h,2),x=w[0],C=w[1],P=function(){var e=(0,p.Z)(y().mark((function e(){var t,r;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.prev=1,e.next=4,wp.apiFetch({path:"presto-player/v1/mailchimp/lists"});case 4:t=e.sent,r=c,(t||[]).forEach((function(e){r=[].concat((0,u.Z)(r),[{value:e.id,label:e.name}])})),f(r),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),null!==e.t0&&void 0!==e.t0&&e.t0.message&&C(e.t0.message);case 13:return e.prev=13,l(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,10,13,16]])})));return function(){return e.apply(this,arguments)}}();return _((function(){P()}),[]),a?(0,v.tZ)("div",null,(0,v.tZ)(m,null),(0,v.tZ)(m,null)):x?(0,v.tZ)(Z,{className:"presto-notice",status:"error",isDismissible:!1},x):(0,v.tZ)("div",null,(0,v.tZ)(b,{label:__("Choose an audience","presto-player"),value:null==t?void 0:t.provider_list,options:c,onChange:function(e){return r({provider_list:e})}}),(0,v.tZ)(g,{label:__("Tag","presto-player"),help:(0,v.tZ)("p",null,__("Give this contact an optional tag when they are added to the list.","presto-player")),value:null==t?void 0:t.provider_tag,onChange:function(e){return r({provider_tag:e})}}))},C=wp.i18n.__,P=wp.components,O=P.SelectControl,S=P.Notice,E=wp.element,j=E.useEffect,N=E.useState,A=function(e){var t=e.options,r=e.updateEmailState,n=N(!1),o=(0,d.Z)(n,2),a=o[0],l=o[1],i=N([{value:null,label:C("Choose a group","presto-player")}]),s=(0,d.Z)(i,2),c=s[0],f=s[1],h=N(""),b=(0,d.Z)(h,2),g=b[0],Z=b[1],w=function(){var e=(0,p.Z)(y().mark((function e(){var t,r;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.prev=1,e.next=4,wp.apiFetch({path:"presto-player/v1/mailerlite/groups"});case 4:t=e.sent,r=c,(t||[]).forEach((function(e){r=[].concat((0,u.Z)(r),[{value:e.id,label:e.name}])})),f(r),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),null!==e.t0&&void 0!==e.t0&&e.t0.message&&Z(e.t0.message);case 13:return e.prev=13,l(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,10,13,16]])})));return function(){return e.apply(this,arguments)}}();return j((function(){w()}),[]),a?(0,v.tZ)(m,null):g?(0,v.tZ)(S,{className:"presto-notice",status:"error",isDismissible:!1},g):(0,v.tZ)("div",null,(0,v.tZ)(O,{label:C("Choose a group","presto-player"),value:null==t?void 0:t.provider_list,options:c,onChange:function(e){return r({provider_list:e})}}))},T=wp.i18n.__,D=wp.components,R=D.SelectControl,B=D.Notice,L=wp.element,M=L.useEffect,I=L.useState,F=function(e){var t=e.options,r=e.updateEmailState,n=I(!1),o=(0,d.Z)(n,2),a=o[0],l=o[1],i=I(!1),s=(0,d.Z)(i,2),c=s[0],f=s[1],h=I([{value:null,label:T("Choose a list","presto-player")}]),b=(0,d.Z)(h,2),g=b[0],Z=b[1],w=I([{value:null,label:T("Choose a tag","presto-player")}]),_=(0,d.Z)(w,2),k=_[0],x=_[1],C=I(""),P=(0,d.Z)(C,2),O=P[0],S=P[1],E=function(){var e=(0,p.Z)(y().mark((function e(){var t,r;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.prev=1,e.next=4,wp.apiFetch({path:"presto-player/v1/activecampaign/lists"});case 4:t=e.sent,r=g,(t||[]).forEach((function(e){r=[].concat((0,u.Z)(r),[{value:e.id,label:e.name||T("Default list","presto-player")}])})),Z(r),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),null!==e.t0&&void 0!==e.t0&&e.t0.message&&S(e.t0.message);case 13:return e.prev=13,l(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,10,13,16]])})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=(0,p.Z)(y().mark((function e(){var t,r;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.prev=1,e.next=4,wp.apiFetch({path:"presto-player/v1/activecampaign/tags"});case 4:t=e.sent,r=k,(t||[]).forEach((function(e){r=[].concat((0,u.Z)(r),[{value:e.id,label:e.tag}])})),x(r),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),null!==e.t0&&void 0!==e.t0&&e.t0.message&&S(e.t0.message);case 13:return e.prev=13,f(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,10,13,16]])})));return function(){return e.apply(this,arguments)}}();return M((function(){E(),j()}),[]),O?(0,v.tZ)(B,{className:"presto-notice",status:"error",isDismissible:!1},O):(0,v.tZ)("div",null,a?(0,v.tZ)(m,null):g.length>1&&(0,v.tZ)(R,{label:T("Choose a list","presto-player"),value:null==t?void 0:t.provider_list,options:g,onChange:function(e){return r({provider_list:e})}}),c?(0,v.tZ)(m,null):k.length>1&&(0,v.tZ)(R,{label:T("Choose a tag","presto-player"),value:null==t?void 0:t.provider_tag,options:k,onChange:function(e){return r({provider_tag:e})}}))},U=wp.i18n.__,V=wp.components,z=V.SelectControl,$=V.Notice,G=wp.element,H=G.useEffect,W=G.useState,q=function(e){var t=e.options,r=e.updateEmailState,n=W(!1),o=(0,d.Z)(n,2),a=o[0],l=o[1],i=W(!1),s=(0,d.Z)(i,2),c=s[0],f=s[1],h=W([{value:null,label:U("Choose a list","presto-player")}]),b=(0,d.Z)(h,2),g=b[0],Z=b[1],w=W([{value:null,label:U("Choose a tag","presto-player")}]),_=(0,d.Z)(w,2),k=_[0],x=_[1],C=W(""),P=(0,d.Z)(C,2),O=P[0],S=P[1],E=function(){var e=(0,p.Z)(y().mark((function e(){var t,r;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.prev=1,e.next=4,wp.apiFetch({path:"presto-player/v1/fluentcrm/lists"});case 4:t=e.sent,r=g,(t||[]).forEach((function(e){r=[].concat((0,u.Z)(r),[{value:e.id,label:e.title||e.slug}])})),Z(r),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),null!==e.t0&&void 0!==e.t0&&e.t0.message&&S(e.t0.message);case 13:return e.prev=13,l(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,10,13,16]])})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=(0,p.Z)(y().mark((function e(){var t,r;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.prev=1,e.next=4,wp.apiFetch({path:"presto-player/v1/fluentcrm/tags"});case 4:t=e.sent,r=k,(t||[]).forEach((function(e){r=[].concat((0,u.Z)(r),[{value:e.id,label:e.title||e.slug}])})),x(r),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),null!==e.t0&&void 0!==e.t0&&e.t0.message&&S(e.t0.message);case 13:return e.prev=13,f(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,10,13,16]])})));return function(){return e.apply(this,arguments)}}();return H((function(){E(),j()}),[]),O?(0,v.tZ)($,{className:"presto-notice",status:"error",isDismissible:!1},O):(0,v.tZ)("div",null,a?(0,v.tZ)(m,null):g.length>1&&(0,v.tZ)(z,{label:U("Choose a list","presto-player"),value:null==t?void 0:t.provider_list,options:g,onChange:function(e){return r({provider_list:e})}}),c?(0,v.tZ)(m,null):k.length>1&&(0,v.tZ)(z,{label:U("Choose a tag","presto-player"),value:null==t?void 0:t.provider_tag,options:k,onChange:function(e){return r({provider_tag:e})}}))},Y=wp.i18n.__,K=wp.components,Q=K.SelectControl,X=K.Notice,J=wp.element,ee=J.useEffect,te=J.useState,re=function(e){var t=e.options,r=e.updateEmailState,n=te(!1),o=(0,d.Z)(n,2),a=o[0],l=o[1],i=te([{value:null,label:Y("Choose a webhook","presto-player")}]),s=(0,d.Z)(i,2),c=s[0],f=s[1],h=te(""),b=(0,d.Z)(h,2),g=b[0],Z=b[1],w=function(){var e=(0,p.Z)(y().mark((function e(){var t,r;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.prev=1,e.next=4,wp.apiFetch({path:"presto-player/v1/webhook"});case 4:t=e.sent,r=c,(t||[]).forEach((function(e){r=[].concat((0,u.Z)(r),[{value:e.id,label:e.name}])})),f(r),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),null!==e.t0&&void 0!==e.t0&&e.t0.message&&Z(e.t0.message);case 13:return e.prev=13,l(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,10,13,16]])})));return function(){return e.apply(this,arguments)}}();return ee((function(){w()}),[]),a?(0,v.tZ)(m,null):g?(0,v.tZ)(X,{className:"presto-notice",status:"error",isDismissible:!1},g):(0,v.tZ)("div",null,(0,v.tZ)(Q,{label:Y("Choose a webhook","presto-player"),value:null==t?void 0:t.provider_list,options:c,onChange:function(e){return r({provider_list:e})}}))},ne=wp.i18n.__,oe=wp.components,ae=oe.SelectControl,le=oe.Button,ie=oe.Flex,se=oe.Icon,ce=wp.element,ue=ce.useEffect,pe=ce.useState,de=function(e){var t=e.options,r=e.updateEmailState,n=pe(!1),o=(0,d.Z)(n,2),a=o[0],l=o[1],i=pe([{value:"none",label:ne("None","presto-player")}]),s=(0,d.Z)(i,2),c=s[0],f=s[1],h=pe(""),b=(0,d.Z)(h,2),g=b[0],Z=b[1],w={presto_player_activecampaign:{label:"ActiveCampaign",value:"activecampaign"},presto_player_mailchimp:{label:"MailChimp",value:"mailchimp"},presto_player_mailerlite:{label:"MailerLite",value:"mailerlite"},presto_player_fluentcrm:{label:"FluentCRM",value:"fluentcrm"}},_=function(){var e=(0,p.Z)(y().mark((function e(){var t,r;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),Z(""),e.prev=2,e.next=5,wp.apiFetch({path:"wp/v2/settings"});case 5:t=e.sent,r=c,Object.keys(t).forEach((function(e){var n;null!=w&&w[e]&&null!==(n=t[e])&&void 0!==n&&n.connected&&(r=[].concat((0,u.Z)(r),[w[e]]))})),f([].concat((0,u.Z)(r),[{label:ne("Webhooks","presto-player"),value:"webhooks"}])),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),null!==e.t0&&void 0!==e.t0&&e.t0.message&&Z(e.t0.message);case 14:return e.prev=14,l(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[2,11,14,17]])})));return function(){return e.apply(this,arguments)}}();return ue((function(){_()}),[]),a?(0,v.tZ)(m,null):(0,v.tZ)("div",null,g,c.length>1?(0,v.tZ)("div",null,(0,v.tZ)(ae,{label:ne("Choose an email provider","presto-player"),value:null==t?void 0:t.provider,options:c,onChange:function(e){return r({provider:e})}}),function(){var e=c.find((function(e){return e.value===(null==t?void 0:t.provider)}));if(Object.keys(e||{}).length)switch(null==t?void 0:t.provider){case"webhooks":return(0,v.tZ)(re,{options:t,updateEmailState:r});case"mailchimp":return(0,v.tZ)(x,{options:t,updateEmailState:r});case"mailerlite":return(0,v.tZ)(A,{options:t,updateEmailState:r});case"activecampaign":return(0,v.tZ)(F,{options:t,updateEmailState:r});case"fluentcrm":return(0,v.tZ)(q,{options:t,updateEmailState:r})}}()):(0,v.tZ)(ie,null,(0,v.tZ)(le,{target:"_blank",href:"/wp-admin/edit.php?post_type=pp_video_block&page=presto-player-settings#/integrations",isSecondary:!0,isSmall:!0},ne("Connect a provider","presto-player")),(0,v.tZ)(le,{isSmall:!0,onClick:function(e){e.preventDefault(),_()}},(0,v.tZ)(se,{icon:"update"}))))},fe=r(1145),ye=r(7453);function ve(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function me(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(r),!0).forEach((function(t){(0,l.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ve(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function he(e){var t=e.state,r=e.updateState,l=e.className,u=t.email_collection,p=t.cta,d=(0,c.useSelect)((function(e){return e("presto-player/player").branding()})),f=function(e){r(me(me({},t),{},{email_collection:me(me({},u),e)}))};return(0,ye.tZ)("div",{className:l},(0,ye.tZ)(s.BaseControl,null,(0,ye.tZ)("h3",null,(0,i.__)("Email Capture","presto-player"))),(0,ye.tZ)(s.BaseControl,{className:"presto-player__control--large-play"},(0,ye.tZ)(s.ToggleControl,{label:(0,i.__)("Enable","presto-player"),help:(0,i.__)("Show an email collection form and message over your player.","presto-player"),onChange:function(e){f({enabled:e})},checked:null==u?void 0:u.enabled})),!(null==u||!u.enabled)&&(0,ye.tZ)(React.Fragment,null,(0,ye.tZ)(s.BaseControl,{className:"presto-player__control--percentage-watched"},(0,ye.tZ)(s.RangeControl,{label:(0,i.__)("Display At (Percentage)","presto-player"),labelPosition:"top",onChange:function(e){f({percentage:e})},marks:[{value:0,label:(0,i.__)("Start","presto-player")},{value:50,label:(0,i.__)("50% Watched","presto-player")},{value:100,label:(0,i.__)("End","presto-player")}],shiftStep:5,value:(null==u?void 0:u.percentage)||0})),(null==p?void 0:p.enabled)&&(null==u?void 0:u.percentage)===(null==p?void 0:p.percentage)&&(0,ye.tZ)(s.Notice,{css:(0,ye.iv)(n||(n=(0,a.Z)(["\n                margin: 0 0 30px 0 !important;\n              "]))),status:"warning",isDismissible:!1},(0,i.__)("You already have a Call To Action set display at the same time.","presto-player"),(0,ye.tZ)(s.Button,{onClick:function(){r(me(me({},t),{},{cta:me(me({},p),{enabled:!1})}))},isLink:!0,css:(0,ye.iv)(o||(o=(0,a.Z)(["\n                  margin-top: 10px !important;\n                "])))},(0,i.__)("Disable Call To Action","presto-player"))),(0,ye.tZ)(s.BaseControl,{className:"presto-player__control--large-play"},(0,ye.tZ)(s.ToggleControl,{label:(0,i.__)("Allow Skipping","presto-player"),help:(0,i.__)("Let the viewer skip","presto-player"),onChange:function(e){f({allow_skip:e})},checked:null==u?void 0:u.allow_skip})),(0,ye.tZ)(s.BaseControl,{className:"presto-player__control--large-play"},(0,ye.tZ)(s.TextareaControl,{label:(0,i.__)("Headline","presto-player"),help:(0,i.__)("The headline for your form.","presto-player"),value:null==u?void 0:u.headline,onChange:function(e){f({headline:e})}})),(0,ye.tZ)(s.BaseControl,{className:"presto-player__control--large-play"},(0,ye.tZ)(s.TextareaControl,{label:(0,i.__)("Bottom Text","presto-player"),help:(0,i.__)("Text displayed below the form. HTML allowed.","presto-player"),value:null==u?void 0:u.bottom_text,onChange:function(e){f({bottom_text:e})}})),(0,ye.tZ)(s.BaseControl,{className:"presto-player__control--large-play"},(0,ye.tZ)(s.TextControl,{label:(0,i.__)("Play Button Text","presto-player"),help:(0,ye.tZ)("p",null,(0,i.__)("Submit button text","presto-player")),value:null==u?void 0:u.button_text,onChange:function(e){return f({button_text:e})}})),(0,ye.tZ)(s.BaseControl,{className:"presto-player__control--button-color"},(0,ye.tZ)(s.Flex,null,(0,ye.tZ)(s.BaseControl.VisualLabel,null,(0,i.__)("Button Color","presto-player")),(0,ye.tZ)(fe.Z,{color:(null==p?void 0:p.button_color)||(null==d?void 0:d.color),setColor:function(e){return f({button_color:e&&e.hex})}}))),(0,ye.tZ)(s.BaseControl,{className:"presto-player__control--button-text-color"},(0,ye.tZ)(s.Flex,null,(0,ye.tZ)(s.BaseControl.VisualLabel,null,(0,i.__)("Button Text Color","presto-player")),(0,ye.tZ)(fe.Z,{color:(null==p?void 0:p.button_text_color)||"#ffffff",setColor:function(e){return f({button_text_color:e&&e.hex})}}))),(0,ye.tZ)("h3",null,(0,i.__)("Integrate","presto-player")),(0,ye.tZ)(s.BaseControl,null,(0,ye.tZ)(de,{updateEmailState:f,options:u})),(0,ye.tZ)("h3",null,(0,i.__)("Style","presto-player")),(0,ye.tZ)(s.BaseControl,null,(0,ye.tZ)(s.RangeControl,{label:(0,i.__)("Round Corners","presto-player"),help:(0,i.__)("Border radius of form elements.","presto-player"),value:(null==u?void 0:u.border_radius)||0,onChange:function(e){return f({border_radius:e})},min:0,max:25}))))}},9235:function(e,t,r){"use strict";r.d(t,{Z:function(){return j}});var n=r(9062),o=r(3324),a=r(4942),l=(r(9307),r(917));function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){(0,a.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var c=wp.i18n,__=c.__,u=c.sprintf,p=wp.components,d=p.NavigableMenu,f=p.MenuItem,y=p.FormFileUpload,v=p.MenuGroup,m=p.ToolbarGroup,h=p.ToolbarButton,b=p.Dropdown,g=(p.SVG,p.Rect,p.Path,p.Button),Z=p.TextControl,w=(p.SelectControl,wp.blockEditor),_=w.MediaUpload,k=w.MediaUploadCheck,x=wp.data.useSelect,C=wp.element.useState,P=["text/vtt"],O=(0,l.tZ)("svg",{viewBox:"0 0 29 25",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,l.tZ)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.5014 20.2854H28.6316V0.764648H0.110825V20.2854H11.241L14.3712 24.2854L17.5014 20.2854ZM14.3712 21.0401L16.5269 18.2854H26.6316V2.76465H2.11082V18.2854H12.2155L14.3712 21.0401Z"}),(0,l.tZ)("path",{d:"M10.4503 14.9446C9.56226 14.9446 8.76226 14.7606 8.05026 14.3926C7.33826 14.0166 6.77826 13.4966 6.37026 12.8326C5.97026 12.1606 5.77026 11.4006 5.77026 10.5526C5.77026 9.70464 5.97026 8.94864 6.37026 8.28464C6.77826 7.61264 7.33826 7.09264 8.05026 6.72464C8.76226 6.34864 9.56226 6.16064 10.4503 6.16064C11.2663 6.16064 11.9943 6.30464 12.6343 6.59264C13.2743 6.88064 13.8023 7.29664 14.2183 7.84064L12.4303 9.43664C11.9103 8.78064 11.2983 8.45264 10.5943 8.45264C10.0023 8.45264 9.52626 8.64464 9.16626 9.02864C8.80626 9.40464 8.62626 9.91264 8.62626 10.5526C8.62626 11.1926 8.80626 11.7046 9.16626 12.0886C9.52626 12.4646 10.0023 12.6526 10.5943 12.6526C11.2983 12.6526 11.9103 12.3246 12.4303 11.6686L14.2183 13.2646C13.8023 13.8086 13.2743 14.2246 12.6343 14.5126C11.9943 14.8006 11.2663 14.9446 10.4503 14.9446Z"}),(0,l.tZ)("path",{d:"M19.2042 14.9446C18.3162 14.9446 17.5162 14.7606 16.8042 14.3926C16.0922 14.0166 15.5322 13.4966 15.1242 12.8326C14.7242 12.1606 14.5242 11.4006 14.5242 10.5526C14.5242 9.70464 14.7242 8.94864 15.1242 8.28464C15.5322 7.61264 16.0922 7.09264 16.8042 6.72464C17.5162 6.34864 18.3162 6.16064 19.2042 6.16064C20.0202 6.16064 20.7482 6.30464 21.3882 6.59264C22.0282 6.88064 22.5562 7.29664 22.9722 7.84064L21.1842 9.43664C20.6642 8.78064 20.0522 8.45264 19.3482 8.45264C18.7562 8.45264 18.2802 8.64464 17.9202 9.02864C17.5602 9.40464 17.3802 9.91264 17.3802 10.5526C17.3802 11.1926 17.5602 11.7046 17.9202 12.0886C18.2802 12.4646 18.7562 12.6526 19.3482 12.6526C20.0522 12.6526 20.6642 12.3246 21.1842 11.6686L22.9722 13.2646C22.5562 13.8086 22.0282 14.2246 21.3882 14.5126C20.7482 14.8006 20.0202 14.9446 19.2042 14.9446Z"}));function S(e){var t,r=e.tracks,n=e.onEditPress;return t=0===r.length?(0,l.tZ)("p",{className:"block-library-video-tracks-editor__tracks-informative-message"},__("Captions are .vtt files that help make your content more accesible to a wider range of users.","presto-player")):r.map((function(e,t){return(0,l.tZ)("div",{key:t,className:"block-library-video-tracks-editor__track-list-track"},(0,l.tZ)("span",null,e.label," "),(0,l.tZ)(g,{isTertiary:!0,onClick:function(){return n(t)},"aria-label":u(/* translators: %s: Label of the video text track e.g: "French subtitles" */
__("Edit %s","presto-player"),e.label)},__("Edit","presto-player")))})),(0,l.tZ)(v,{label:__("Captions","presto-player"),className:"block-library-video-tracks-editor__track-list"},t)}function E(e){var t=e.track,r=e.onChange,n=e.onClose,o=e.onRemove,a=t.src,i=void 0===a?"":a,c=t.label,u=void 0===c?"":c,p=t.srcLang,f=void 0===p?"":p,y=(t.kind,i.startsWith("blob:")?"":i.substring(i.lastIndexOf("/")+1));return(0,l.tZ)(d,null,(0,l.tZ)("div",{className:"block-library-video-tracks-editor__single-track-editor"},(0,l.tZ)("span",{className:"block-library-video-tracks-editor__single-track-editor-edit-track-label"},__("Edit caption track","presto-player")),(0,l.tZ)("span",null,__("File","presto-player"),": ",(0,l.tZ)("b",null,y)),(0,l.tZ)("div",{className:"block-library-video-tracks-editor__single-track-editor-label-language"},(0,l.tZ)(Z,{autoFocus:!0,onChange:function(e){return r(s(s({},t),{},{label:e}))},label:__("Label","presto-player"),value:u,help:__("Title of track","presto-player")}),(0,l.tZ)(Z,{onChange:function(e){return r(s(s({},t),{},{srcLang:e}))},label:__("Source language","presto-player"),value:f,help:__("Language tag (en, fr, etc.)","presto-player")})),(0,l.tZ)("div",{className:"block-library-video-tracks-editor__single-track-editor-buttons-container"},(0,l.tZ)(g,{isSecondary:!0,onClick:function(){var e={},o=!1;""===u&&(e.label=__("English","presto-player"),o=!0),""===f&&(e.srcLang="en",o=!0),o&&r(s(s({},t),e)),n()}},__("Close","presto-player")),(0,l.tZ)(g,{isDestructive:!0,isLink:!0,onClick:o},__("Remove track","presto-player")))))}function j(e){var t=e.tracks,r=void 0===t?[]:t,a=e.onChange,i=x((function(e){return e("core/block-editor").getSettings().mediaUpload}),[]),c=C(null),u=(0,o.Z)(c,2),p=u[0],g=u[1];return i?(0,l.tZ)(b,{contentClassName:"block-library-video-tracks-editor",renderToggle:function(e){var t=e.isOpen,r=e.onToggle;return(0,l.tZ)(m,null,(0,l.tZ)(h,{label:__("Captions","presto-player"),showTooltip:!0,"aria-expanded":t,"aria-haspopup":"true",onClick:r,icon:O}))},renderContent:function(e){return function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(e),null!==p?(0,l.tZ)(E,{track:r[p],onChange:function(e){var t=(0,n.Z)(r);t[p]=e,a(t)},onClose:function(){return g(null)},onRemove:function(){a(r.filter((function(e,t){return t!==p}))),g(null)}}):(0,l.tZ)(React.Fragment,null,(0,l.tZ)(d,null,(0,l.tZ)(S,{tracks:r,onEditPress:g}),(0,l.tZ)(v,{className:"block-library-video-tracks-editor__add-tracks-container",label:__("Add caption languages","presto-player")},(0,l.tZ)(_,{onSelect:function(e){var t=e.url,o=r.length;a([].concat((0,n.Z)(r),[{src:t}])),g(o)},allowedTypes:P,render:function(e){var t=e.open;return(0,l.tZ)(f,{icon:"media",onClick:t},__("Open Media Library","presto-player"))}}),(0,l.tZ)(k,null,(0,l.tZ)(y,{onChange:function(e){var t=e.target.files,l=r.length;i({allowedTypes:P,filesList:t,onFileChange:function(e){var t=(0,o.Z)(e,1)[0].url,i=(0,n.Z)(r);i[l]||(i[l]={}),i[l]=s(s({},r[l]),{},{src:t}),a(i),g(l)}})},accept:".vtt,text/vtt",render:function(e){var t=e.openFileDialog;return(0,l.tZ)(f,{icon:"upload",onClick:function(){t()}},__("Upload","presto-player"))}})))))}}):null}},7161:function(e,t,r){"use strict";r.d(t,{D9:function(){return l},VH:function(){return p},ZD:function(){return s},as:function(){return u},i1:function(){return i},nH:function(){return c}});var n=wp.element,o=n.useRef,a=n.useEffect;function l(e){var t=o();return a((function(){t.current=e})),t.current}function i(e){var t=e.status,r=void 0===t?"success":t,n=e.message;wp.data.dispatch("core/notices").createNotice(r,n,{type:"snackbar"})}function s(e){var t,r=e.split(":");return r.length>1&&(t=60*parseInt(r[0])),parseInt(r[1])+parseInt(t)}function c(e){var t=parseInt(e,10),r=Math.floor(t/60);return t<10&&(t="0"+t),r+":"+t}function u(e){var t=e;if(!(t=t.replace(/[^\d\d:\d\d.-]/g,"")).includes(":"))return"".concat(t,":00");0===t.substr(0,t.indexOf(":")).length&&(t="0".concat(t));var r=t.indexOf(":");return t.substring(0,r+3)}function p(e){if(e){if(e.match(/^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/))return"youtube";if(e.match(/(https?:\/\/)?(www\.)?(player\.)?vimeo\.com\/([a-z]*\/)*([0-9]{6,11})[?]?.*/))return"vimeo";if(e.indexOf("https://vz-")>-1&&e.indexOf("b-cdn.net")>-1)return"bunny";if(e.indexOf(".mp3")>-1)return"audio"}return"self-hosted"}},9493:function(e,t,r){"use strict";var n=r(4942),o=r(3324),a=(r(9307),r(4184)),l=r.n(a),i=r(917),__=wp.i18n.__,s=wp.element,c=s.useState,u=s.useEffect,p=lodash,d=p.partial,f=p.noop,y=p.find,v=wp.components,m=v.NavigableMenu,h=v.Animate;t.Z=function(e){var t,r=e.className,a=e.children,s=e.items,p=e.title,v=e.orientation,b=void 0===v?"horizontal":v,g=e.activeClass,Z=void 0===g?"is-active":g,w=e.onSelect,_=void 0===w?f:w,k=c(null),x=(0,o.Z)(k,2),C=x[0],P=x[1],O=c("left"),S=(0,o.Z)(O,2),E=(S[0],S[1]),j=function(e){P(e),_&&_(e)},N=function(e,t){t.click()},A=y(s,{name:C}),T="".concat(null!==(t=null==A?void 0:A.name)&&void 0!==t?t:"none");return u((function(){E(C?"right":"left")}),[C]),(0,i.tZ)("div",{className:r},(0,i.tZ)(h,{type:"slide-in",origin:A?"right":"left"},(function(e){var t=e.className;return A?(0,i.tZ)("div",{key:T,"aria-labelledby":T,role:"itempanel",id:"".concat(T,"-view"),className:l()(t,"presto-player__menu-content")},(0,i.tZ)("div",{className:"presto-player__menu-items"},(0,i.tZ)("div",{className:"presto-player__menu-item is-back-button",onClick:function(){return j("")}},(0,i.tZ)("svg",{class:"back-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",role:"img","aria-hidden":"true",focusable:"false"},(0,i.tZ)("path",{d:"M14.6 7l-1.2-1L8 12l5.4 6 1.2-1-4.6-5z"})),__("Back","presto-player"))),a(A)):(0,i.tZ)("div",{className:l()(t,"is-from-right")},!!p&&(0,i.tZ)("h2",null,p),(0,i.tZ)(m,{role:"itemlist",orientation:b,onNavigate:N,className:l()("presto-player__menu-items")},s.map((function(e){return(0,i.tZ)("div",{className:l()("presto-player__menu-item",e.className,(0,n.Z)({},Z,e.name===C)),itemId:"".concat(e.name),"aria-controls":"".concat(e.name,"-view"),selected:e.name===C,key:e.name,onClick:d(j,e.name)},!!e.icon&&(0,i.tZ)("div",{class:"presto-player__menu-icon"},e.icon),e.title,(0,i.tZ)("svg",{className:"submenu-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",role:"img",ariaHidden:"true",focusable:"false"},(0,i.tZ)("path",{d:"M10.6 6L9.4 7l4.6 5-4.6 5 1.2 1 5.4-6z"})))}))))})))}},9512:function(e,t){"use strict";var r=wp.apiFetch;r.use(r.createNonceMiddleware(prestoPlayer.nonce)),r.use(r.createRootURLMiddleware(prestoPlayer.root+prestoPlayer.prestoVersionString)),t.Z=r},6263:function(e,t,r){"use strict";function n(e){var t,r=(e||"").match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/);return r&&11===(null==r||null===(t=r[2])||void 0===t?void 0:t.length)?r[2]:null}function o(e){var t=/^.*(vimeo\.com\/)((channels\/[A-z]+\/)|(groups\/[A-z]+\/videos\/))?([0-9]+)/.exec(e||"");return(null==t?void 0:t[5])||""}function a(e){var t=o(e);if(t)return{video_id:t,type:"vimeo"};var r=n(e);return r?{video_id:r,type:"youtube"}:{$video_id:0,$type:"none"}}function l(e){return"string"==typeof e&&e.includes(".m3u8")}r.d(t,{L2:function(){return o},Ln:function(){return a},dA:function(){return l},qS:function(){return n}})},4184:function(e,t){var r;!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var a=typeof r;if("string"===a||"number"===a)e.push(r);else if(Array.isArray(r)){if(r.length){var l=o.apply(null,r);l&&e.push(l)}}else if("object"===a){if(r.toString!==Object.prototype.toString&&!r.toString.toString().includes("[native code]")){e.push(r.toString());continue}for(var i in r)n.call(r,i)&&r[i]&&e.push(i)}}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()},8679:function(e,t,r){"use strict";var n=r(9864),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},l={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},i={};function s(e){return n.isMemo(e)?l:i[e.$$typeof]||o}i[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i[n.Memo]=l;var c=Object.defineProperty,u=Object.getOwnPropertyNames,p=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,y=Object.prototype;e.exports=function e(t,r,n){if("string"!=typeof r){if(y){var o=f(r);o&&o!==y&&e(t,o,n)}var l=u(r);p&&(l=l.concat(p(r)));for(var i=s(t),v=s(r),m=0;m<l.length;++m){var h=l[m];if(!(a[h]||n&&n[h]||v&&v[h]||i&&i[h])){var b=d(r,h);try{c(t,h,b)}catch(e){}}}}return t}},9921:function(e,t){"use strict";var r="function"==typeof Symbol&&Symbol.for,n=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,l=r?Symbol.for("react.strict_mode"):60108,i=r?Symbol.for("react.profiler"):60114,s=r?Symbol.for("react.provider"):60109,c=r?Symbol.for("react.context"):60110,u=r?Symbol.for("react.async_mode"):60111,p=r?Symbol.for("react.concurrent_mode"):60111,d=r?Symbol.for("react.forward_ref"):60112,f=r?Symbol.for("react.suspense"):60113,y=r?Symbol.for("react.suspense_list"):60120,v=r?Symbol.for("react.memo"):60115,m=r?Symbol.for("react.lazy"):60116,h=r?Symbol.for("react.block"):60121,b=r?Symbol.for("react.fundamental"):60117,g=r?Symbol.for("react.responder"):60118,Z=r?Symbol.for("react.scope"):60119;function w(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case u:case p:case a:case i:case l:case f:return e;default:switch(e=e&&e.$$typeof){case c:case d:case m:case v:case s:return e;default:return t}}case o:return t}}}function _(e){return w(e)===p}t.AsyncMode=u,t.ConcurrentMode=p,t.ContextConsumer=c,t.ContextProvider=s,t.Element=n,t.ForwardRef=d,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=o,t.Profiler=i,t.StrictMode=l,t.Suspense=f,t.isAsyncMode=function(e){return _(e)||w(e)===u},t.isConcurrentMode=_,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return w(e)===d},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===o},t.isProfiler=function(e){return w(e)===i},t.isStrictMode=function(e){return w(e)===l},t.isSuspense=function(e){return w(e)===f},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===p||e===i||e===l||e===f||e===y||"object"==typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===d||e.$$typeof===b||e.$$typeof===g||e.$$typeof===Z||e.$$typeof===h)},t.typeOf=w},9864:function(e,t,r){"use strict";e.exports=r(9921)},6652:function(e,t,r){var n={"./audio/index.js":408,"./bunny/index.js":6849,"./hosted/index.js":8024,"./reusable-display/index.js":318,"./reusable-edit/index.js":7592,"./vimeo/index.js":4048,"./youtube/index.js":2132};function o(e){var t=a(e);return r(t)}function a(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}o.keys=function(){return Object.keys(n)},o.resolve=a,e.exports=o,o.id=6652},14:function(e,t,r){var n={"./reusable-videos/index.js":605};function o(e){var t=a(e);return r(t)}function a(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}o.keys=function(){return Object.keys(n)},o.resolve=a,e.exports=o,o.id=14},9196:function(e){"use strict";e.exports=window.React},1284:function(e){"use strict";e.exports=window.regeneratorRuntime},5609:function(e){"use strict";e.exports=window.wp.components},9818:function(e){"use strict";e.exports=window.wp.data},9307:function(e){"use strict";e.exports=window.wp.element},5736:function(e){"use strict";e.exports=window.wp.i18n},907:function(e,t,r){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}r.d(t,{Z:function(){return n}})},3878:function(e,t,r){"use strict";function n(e){if(Array.isArray(e))return e}r.d(t,{Z:function(){return n}})},5057:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(907);function o(e){if(Array.isArray(e))return(0,n.Z)(e)}},7326:function(e,t,r){"use strict";function n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}r.d(t,{Z:function(){return n}})},5861:function(e,t,r){"use strict";function n(e,t,r,n,o,a,l){try{var i=e[a](l),s=i.value}catch(e){return void r(e)}i.done?t(s):Promise.resolve(s).then(n,o)}function o(e){return function(){var t=this,r=arguments;return new Promise((function(o,a){var l=e.apply(t,r);function i(e){n(l,o,a,i,s,"next",e)}function s(e){n(l,o,a,i,s,"throw",e)}i(void 0)}))}}r.d(t,{Z:function(){return o}})},5671:function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.d(t,{Z:function(){return n}})},3144:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(7343);function o(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(0,n.Z)(o.key),o)}}function a(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}},4942:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(7343);function o(e,t,r){return(t=(0,n.Z)(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},7462:function(e,t,r){"use strict";function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n.apply(this,arguments)}r.d(t,{Z:function(){return n}})},1120:function(e,t,r){"use strict";function n(e){return n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},n(e)}r.d(t,{Z:function(){return n}})},136:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(9611);function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,n.Z)(e,t)}},4578:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(9611);function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,(0,n.Z)(e,t)}},9199:function(e,t,r){"use strict";function n(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}r.d(t,{Z:function(){return n}})},1902:function(e,t,r){"use strict";function n(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,_x,a,l=[],_n=!0,i=!1;try{if(_x=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;_n=!1}else for(;!(_n=(n=_x.call(r)).done)&&(l.push(n.value),l.length!==t);_n=!0);}catch(e){i=!0,o=e}finally{try{if(!_n&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(i)throw o}}return l}}r.d(t,{Z:function(){return n}})},5267:function(e,t,r){"use strict";function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}r.d(t,{Z:function(){return n}})},2786:function(e,t,r){"use strict";function n(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}r.d(t,{Z:function(){return n}})},2963:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(1002),o=r(7326);function a(e,t){if(t&&("object"===(0,n.Z)(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,o.Z)(e)}},9611:function(e,t,r){"use strict";function n(e,t){return n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},n(e,t)}r.d(t,{Z:function(){return n}})},3324:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(3878),o=r(1902),a=r(181),l=r(5267);function i(e,t){return(0,n.Z)(e)||(0,o.Z)(e,t)||(0,a.Z)(e,t)||(0,l.Z)()}},168:function(e,t,r){"use strict";function n(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}r.d(t,{Z:function(){return n}})},9062:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(5057),o=r(9199),a=r(181),l=r(2786);function i(e){return(0,n.Z)(e)||(0,o.Z)(e)||(0,a.Z)(e)||(0,l.Z)()}},5512:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(1002);function o(e,t){if("object"!==(0,n.Z)(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==(0,n.Z)(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}},7343:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(1002),o=r(5512);function a(e){var t=(0,o.Z)(e,"string");return"symbol"===(0,n.Z)(t)?t:String(t)}},1002:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r.d(t,{Z:function(){return n}})},181:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(907);function o(e,t){if(e){if("string"==typeof e)return(0,n.Z)(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?(0,n.Z)(e,t):void 0}}},7563:function(e,t,r){"use strict";r.d(t,{Ab:function(){return l},Fr:function(){return i},G$:function(){return a},K$:function(){return c},MS:function(){return n},h5:function(){return s},lK:function(){return u},uj:function(){return o}});var n="-ms-",o="-moz-",a="-webkit-",l="comm",i="rule",s="decl",c="@import",u="@keyframes"},8160:function(e,t,r){"use strict";r.d(t,{cD:function(){return a},qR:function(){return o}});var n=r(6686);function o(e){var t=(0,n.Ei)(e);return function(r,n,o,a){for(var l="",i=0;i<t;i++)l+=e[i](r,n,o,a)||"";return l}}function a(e){return function(t){t.root||(t=t.return)&&e(t)}}},2190:function(e,t,r){"use strict";r.d(t,{MY:function(){return l}});var n=r(7563),o=r(6686),a=r(6411);function l(e){return(0,a.cE)(i("",null,null,null,[""],e=(0,a.un)(e),0,[0],e))}function i(e,t,r,n,l,p,d,f,y){for(var v=0,m=0,h=d,b=0,g=0,Z=0,w=1,_=1,k=1,x=0,C="",P=l,O=p,S=n,E=C;_;)switch(Z=x,x=(0,a.lp)()){case 40:if(108!=Z&&58==(0,o.uO)(E,h-1)){-1!=(0,o.Cw)(E+=(0,o.gx)((0,a.iF)(x),"&","&\f"),"&\f")&&(k=-1);break}case 34:case 39:case 91:E+=(0,a.iF)(x);break;case 9:case 10:case 13:case 32:E+=(0,a.Qb)(Z);break;case 92:E+=(0,a.kq)((0,a.Ud)()-1,7);continue;case 47:switch((0,a.fj)()){case 42:case 47:(0,o.R3)(c((0,a.q6)((0,a.lp)(),(0,a.Ud)()),t,r),y);break;default:E+="/"}break;case 123*w:f[v++]=(0,o.to)(E)*k;case 125*w:case 59:case 0:switch(x){case 0:case 125:_=0;case 59+m:g>0&&(0,o.to)(E)-h&&(0,o.R3)(g>32?u(E+";",n,r,h-1):u((0,o.gx)(E," ","")+";",n,r,h-2),y);break;case 59:E+=";";default:if((0,o.R3)(S=s(E,t,r,v,m,l,f,C,P=[],O=[],h),p),123===x)if(0===m)i(E,t,S,S,P,p,h,f,O);else switch(99===b&&110===(0,o.uO)(E,3)?100:b){case 100:case 109:case 115:i(e,S,S,n&&(0,o.R3)(s(e,S,S,0,0,l,f,C,l,P=[],h),O),l,O,h,f,n?P:O);break;default:i(E,S,S,S,[""],O,0,f,O)}}v=m=g=0,w=k=1,C=E="",h=d;break;case 58:h=1+(0,o.to)(E),g=Z;default:if(w<1)if(123==x)--w;else if(125==x&&0==w++&&125==(0,a.mp)())continue;switch(E+=(0,o.Dp)(x),x*w){case 38:k=m>0?1:(E+="\f",-1);break;case 44:f[v++]=((0,o.to)(E)-1)*k,k=1;break;case 64:45===(0,a.fj)()&&(E+=(0,a.iF)((0,a.lp)())),b=(0,a.fj)(),m=h=(0,o.to)(C=E+=(0,a.QU)((0,a.Ud)())),x++;break;case 45:45===Z&&2==(0,o.to)(E)&&(w=0)}}return p}function s(e,t,r,l,i,s,c,u,p,d,f){for(var y=i-1,v=0===i?s:[""],m=(0,o.Ei)(v),h=0,b=0,g=0;h<l;++h)for(var Z=0,w=(0,o.tb)(e,y+1,y=(0,o.Wn)(b=c[h])),_=e;Z<m;++Z)(_=(0,o.fy)(b>0?v[Z]+" "+w:(0,o.gx)(w,/&\f/g,v[Z])))&&(p[g++]=_);return(0,a.dH)(e,t,r,0===i?n.Fr:u,p,d,f)}function c(e,t,r){return(0,a.dH)(e,t,r,n.Ab,(0,o.Dp)((0,a.Tb)()),(0,o.tb)(e,2,-2),0)}function u(e,t,r,l){return(0,a.dH)(e,t,r,n.h5,(0,o.tb)(e,0,l),(0,o.tb)(e,l+1,-1),l)}},211:function(e,t,r){"use strict";r.d(t,{P:function(){return l},q:function(){return a}});var n=r(7563),o=r(6686);function a(e,t){for(var r="",n=(0,o.Ei)(e),a=0;a<n;a++)r+=t(e[a],a,e,t)||"";return r}function l(e,t,r,l){switch(e.type){case n.K$:case n.h5:return e.return=e.return||e.value;case n.Ab:return"";case n.lK:return e.return=e.value+"{"+a(e.children,l)+"}";case n.Fr:e.value=e.props.join(",")}return(0,o.to)(r=a(e.children,l))?e.return=e.value+"{"+r+"}":""}},6411:function(e,t,r){"use strict";r.d(t,{FK:function(){return i},JG:function(){return p},QU:function(){return P},Qb:function(){return _},Tb:function(){return d},Ud:function(){return m},cE:function(){return Z},dH:function(){return u},fj:function(){return v},iF:function(){return w},kq:function(){return k},lp:function(){return y},mp:function(){return f},q6:function(){return C},r:function(){return b},tP:function(){return h},un:function(){return g}});var n=r(6686),o=1,a=1,l=0,i=0,s=0,c="";function u(e,t,r,n,l,i,s){return{value:e,root:t,parent:r,type:n,props:l,children:i,line:o,column:a,length:s,return:""}}function p(e,t){return(0,n.f0)(u("",null,null,"",null,null,0),e,{length:-e.length},t)}function d(){return s}function f(){return s=i>0?(0,n.uO)(c,--i):0,a--,10===s&&(a=1,o--),s}function y(){return s=i<l?(0,n.uO)(c,i++):0,a++,10===s&&(a=1,o++),s}function v(){return(0,n.uO)(c,i)}function m(){return i}function h(e,t){return(0,n.tb)(c,e,t)}function b(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function g(e){return o=a=1,l=(0,n.to)(c=e),i=0,[]}function Z(e){return c="",e}function w(e){return(0,n.fy)(h(i-1,x(91===e?e+2:40===e?e+1:e)))}function _(e){for(;(s=v())&&s<33;)y();return b(e)>2||b(s)>3?"":" "}function k(e,t){for(;--t&&y()&&!(s<48||s>102||s>57&&s<65||s>70&&s<97););return h(e,m()+(t<6&&32==v()&&32==y()))}function x(e){for(;y();)switch(s){case e:return i;case 34:case 39:34!==e&&39!==e&&x(s);break;case 40:41===e&&x(e);break;case 92:y()}return i}function C(e,t){for(;y()&&e+s!==57&&(e+s!==84||47!==v()););return"/*"+h(t,i-1)+"*"+(0,n.Dp)(47===e?e:y())}function P(e){for(;!b(v());)y();return h(e,i)}},6686:function(e,t,r){"use strict";r.d(t,{$e:function(){return m},Cw:function(){return u},Dp:function(){return o},EQ:function(){return s},Ei:function(){return y},R3:function(){return v},Wn:function(){return n},f0:function(){return a},fy:function(){return i},gx:function(){return c},tb:function(){return d},to:function(){return f},uO:function(){return p},vp:function(){return l}});var n=Math.abs,o=String.fromCharCode,a=Object.assign;function l(e,t){return 45^p(e,0)?(((t<<2^p(e,0))<<2^p(e,1))<<2^p(e,2))<<2^p(e,3):0}function i(e){return e.trim()}function s(e,t){return(e=t.exec(e))?e[0]:e}function c(e,t,r){return e.replace(t,r)}function u(e,t){return e.indexOf(t)}function p(e,t){return 0|e.charCodeAt(t)}function d(e,t,r){return e.slice(t,r)}function f(e){return e.length}function y(e){return e.length}function v(e,t){return t.push(e),e}function m(e,t){return e.map(t).join("")}}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,r),a.exports}r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e={};r.r(e),r.d(e,{branding:function(){return _},getAudioPresets:function(){return v},getDefaultAudioPreset:function(){return Z},getDefaultPreset:function(){return g},getPreset:function(){return m},getPresets:function(){return y},getReusableVideo:function(){return b},getReusableVideos:function(){return h},playerCSS:function(){return k},presetsLoading:function(){return w},proModal:function(){return C},youtube:function(){return x}});var t={};r.r(t),r.d(t,{addAudioPreset:function(){return I},addPreset:function(){return R},addVideo:function(){return T},appendVideos:function(){return A},fetchFromAPI:function(){return H},fetchFromWPAPI:function(){return W},fetchOptions:function(){return G},removeAudioPreset:function(){return U},removePreset:function(){return L},saveOptions:function(){return $},setAudioPresets:function(){return M},setBranding:function(){return V},setPresetAudioSettings:function(){return Q},setPresetLoading:function(){return O},setPresetSettings:function(){return K},setPresets:function(){return D},setProModal:function(){return E},setVideos:function(){return j},setVideosLoading:function(){return S},setYoutube:function(){return q},updateAudioPreset:function(){return F},updateBranding:function(){return z},updatePreset:function(){return B},updateVideos:function(){return N},updateYoutube:function(){return Y}}),r(9307);var n=r(4942),o=r(9062);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var i=wp.data,s=i.combineReducers,c=i.dispatch,u=wp.apiFetch,p=lodash.pick,d=function(e,t){return e.find((function(e){return e.id===t.id}))?e:[].concat((0,o.Z)(e),[t])},f=s({presetReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_PRESET":return t.value;case"ADD_PRESET":return[].concat((0,o.Z)(e),[t.value]);case"UPDATE_PRESET":return e.map((function(e,r){var n;return e.id!==(null===(n=t.value)||void 0===n?void 0:n.id)?e:l(l({},e),t.value)}));case"REMOVE_PRESET":return e.filter((function(e){return e!==t.value}))}return e},audioPresetReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_AUDIO_PRESET":case"SET_AUDIO_PRESET":return t.value;case"ADD_AUDIO_PRESET":return[].concat((0,o.Z)(e),[t.value]);case"UPDATE_AUDIO_PRESET":return e.map((function(e,r){var n;return e.id!==(null===(n=t.value)||void 0===n?void 0:n.id)?e:l(l({},e),t.value)}));case"REMOVE_AUDIO_PRESET":return e.filter((function(e){return e!==t.value}))}return e},presetLoadingReducer:function(){var e=arguments.length>1?arguments[1]:void 0;if("SET_PRESET_LOADING"===e.type)return e.value},videosLoadingReducer:function(){var e=arguments.length>1?arguments[1]:void 0;if("SET_VIDEOS_LOADING"===e.type)return e.value},videosReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{total:0,total_pages:0,videos:[],hasResolved:!1,isError:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_VIDEOS":return t.value;case"UPDATE_VIDEOS":return l(l({},e),t.value);case"APPEND_VIDEOS":var r=e;return(t.value||[]).forEach((function(e){r.videos=d(r.videos,e)})),r;case"ADD_VIDEO":return l(l({},e),{},{videos:d(e.videos,t.value)});case"UPDATE_VIDEO":return l(l({},e),{},{videos:e.videos.map((function(e,r){var n;return e.id!==(null===(n=t.value)||void 0===n?void 0:n.id)?e:l(l({},e),t.value)}))});case"REMOVE_VIDEO":return l(l({},e),{},{videos:e.videos.filter((function(e){return e!==t.value}))})}return e},proModalReducer:function(){var e=arguments.length>1?arguments[1]:void 0;if("SET_PRO_MODAL"===e.type)return e.value},brandingReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_BRANDING":return t.value;case"UPDATE_BRANDING":return l(l({},e),{},(0,n.Z)({},t.name,t.value))}return e},youtubeReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_YOUTUBE":return t.value;case"UPDATE_YOUTUBE":return l(l({},e),{},(0,n.Z)({},t.name,t.value))}return e},presetSettingsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return"SET_PRESET_SETTINGS"===t.type?t.value:e},optionsApi:function(e,t){switch(t.type){case"FETCH_OPTIONS":return u({path:"/presto-player/v1/settings/"}).then((function(e){c("presto-player/player").setBranding(e.presto_player_branding),c("presto-player/player").setYoutube(e.presto_player_youtube),c("presto-player/player").setPresetSettings(e.presto_player_presets),c("presto-player/player").setPresetAudioSettings(e.presto_player_audio_presets)}));case"SAVE_OPTIONS":var r={presto_player_branding:p(null==t?void 0:t.branding,["logo","color","logo_width","player_css"])};return Object.keys(r).forEach((function(e){return(null==r[e]||!Object.keys((null==r?void 0:r[e])||{}).length)&&delete r[e]})),u({path:"/presto-player/v1/settings",method:"POST",data:r}),r}},audioPresetSettingsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return"SET_PRESET_AUDIO_SETTINGS"===t.type?t.value:e}});function y(e){return(null==e?void 0:e.presetReducer)||[]}function v(e){return(null==e?void 0:e.audioPresetReducer)||[]}function m(e,t){var r;return null!=e&&null!==(r=e.presetReducer)&&void 0!==r&&r.length?null==e?void 0:e.presetReducer.find((function(e){return e.id===t})):[]}function h(e){return(null==e?void 0:e.videosReducer)||[]}function b(e,t){var r,n;return(null==e||null===(r=e.videosReducer)||void 0===r||null===(n=r.videos)||void 0===n?void 0:n.find((function(e){return(null==e?void 0:e.id)===t})))||[]}function g(e){var t,r=null==e||null===(t=e.presetSettingsReducer)||void 0===t?void 0:t.default_player_preset,n=r&&((null==e?void 0:e.presetReducer)||[]).find((function(e){return e.id&&e.id===r}));return n||(n=((null==e?void 0:e.presetReducer)||[]).find((function(e){return"default"==e.slug}))),n||(n=((null==e?void 0:e.presetReducer)||[])[0]),n}function Z(e){var t,r=null==e||null===(t=e.audioPresetSettingsReducer)||void 0===t?void 0:t.default_player_preset,n=r&&((null==e?void 0:e.audioPresetReducer)||[]).find((function(e){return e.id&&e.id===r}));return n||(n=((null==e?void 0:e.audioPresetReducer)||[]).find((function(e){return"default"==e.slug}))),n||(n=((null==e?void 0:e.audioPresetReducer)||[])[0]),n}function w(e){return!(null==e||!e.presetLoadingReducer)}function _(e){return null==e?void 0:e.brandingReducer}function k(e){var t;return null==e||null===(t=e.brandingReducer)||void 0===t?void 0:t.player_css}function x(e){return null==e?void 0:e.youtubeReducer}function C(e){return null==e?void 0:e.proModalReducer}function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function O(e){return{type:"SET_PRESET_LOADING",value:e}}function S(e){return{type:"SET_VIDEOS_LOADING",value:e}}function E(e){return{type:"SET_PRO_MODAL",value:e}}function j(e){return{type:"SET_VIDEOS",value:e}}function N(e){return{type:"UPDATE_VIDEOS",value:e}}function A(e){return{type:"APPEND_VIDEOS",value:e}}function T(e){return{type:"ADD_VIDEO",value:e}}function D(e){return{type:"SET_PRESET",value:e}}function R(e){return{type:"ADD_PRESET",value:e}}function B(e){return{type:"UPDATE_PRESET",value:e}}function L(e){return{type:"REMOVE_PRESET",value:e}}function M(e){return{type:"SET_AUDIO_PRESET",value:e}}function I(e){return{type:"ADD_AUDIO_PRESET",value:e}}function F(e){return{type:"UPDATE_AUDIO_PRESET",value:e}}function U(e){return{type:"REMOVE_AUDIO_PRESET",value:e}}function V(e){return{type:"SET_BRANDING",value:e}}function z(e,t){return{type:"UPDATE_BRANDING",name:e,value:t}}function $(e){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({type:"SAVE_OPTIONS"},e)}function G(){return{type:"FETCH_OPTIONS"}}function H(e){return{type:"FETCH_FROM_API",path:e}}function W(e,t){return{type:"FETCH_FROM_WP_API",path:e,args:t}}function q(e){return{type:"SET_YOUTUBE",value:e}}function Y(e,t){return{type:"UPDATE_YOUTUBE",name:e,value:t}}function K(e){return{type:"SET_PRESET_SETTINGS",value:e}}function Q(e){return{type:"SET_PRESET_AUDIO_SETTINGS",value:e}}var X=r(5861),J=r(1284),ee=r.n(J);function te(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function re(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?te(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):te(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ne=wp.apiFetch,oe={FETCH_FROM_API:function(e){return ne({url:prestoPlayer.root+prestoPlayer.prestoVersionString+e.path})},FETCH_FROM_WP_API:function(e){return(0,X.Z)(ee().mark((function t(){var r,n,o,a,l,i,s;return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.args,n=e.path,o=void 0===n?"":n,t.next=3,ne(re(re(re({path:wp.url.addQueryArgs("wp/v2/".concat(o),null==r?void 0:r.query)},null!=r&&r.data?{data:r.data}:{}),null==r?void 0:r.options),{},{parse:!1}));case 3:return a=t.sent,t.next=6,a.json();case 6:return l=t.sent,i=a.headers&&a.headers.get("X-WP-Total"),s=a.headers&&a.headers.get("X-WP-TotalPages"),t.abrupt("return",new Promise((function(e,t){e({data:l,total:i,total_pages:s})})));case 10:case"end":return t.stop()}}),t)})))()}},ae={getPresets:ee().mark((function e(){var t;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H("preset");case 2:return t=e.sent,e.abrupt("return",D(t));case 4:case"end":return e.stop()}}),e)})),getAudioPresets:ee().mark((function e(){var t;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H("audio-preset");case 2:return t=e.sent,e.abrupt("return",M(t));case 4:case"end":return e.stop()}}),e)})),getReusableVideo:ee().mark((function e(t){var r,n;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="presto-videos/".concat(t),e.next=3,W(r,{});case 3:return n=e.sent,e.abrupt("return",T((null==n?void 0:n.data)||{}));case 5:case"end":return e.stop()}}),e)}))},le=(0,wp.data.registerStore)("presto-player/player",{reducer:f,selectors:e,actions:t,controls:oe,resolvers:ae}),ie=r(9807),se=r(917),ce=wp.components,ue=ce.Modal,pe=ce.Button,de=wp.data,fe=de.dispatch,ye=de.useSelect,ve=wp.blocks,me=ve.registerBlockType,he=ve.unregisterBlockType,be=wp.plugins,ge=be.registerPlugin,Ze=be.unregisterPlugin,we=wp.data,_e=we.select,ke=we.dispatch,xe=wp.element.render,Ce=function(){return null},Pe=function(e){var t=e.getContext,r=e.register,n=e.unregister,o=e.before,a=void 0===o?Ce:o,l=e.after,i=void 0===l?Ce:l,s={};!function(){a();var e=t(),o=[];e.keys().forEach((function(t){var a=e(t);a!==s[t]&&(s[t]&&n(s[t]),r(a),o.push(a.name),s[t]=a)})),i(o)}()},Oe=null;Pe({getContext:function(){return r(6652)},register:function(e){var t,r=e.name,n=e.options;null!==(t=prestoPlayer)&&void 0!==t&&t.isPremium?me(r,n):n.premium||me(r,n)},unregister:function(e){var t=e.name;return he(t)},before:function(){Oe=_e("core/editor").getSelectedBlockClientId(),ke("core/editor").clearSelectedBlock()},after:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_e("core/editor").getBlocks().forEach((function(t){var r=t.name,n=t.clientId;e.includes(r)&&ke("core/editor").selectBlock(n)})),Oe?ke("core/editor").selectBlock(Oe):ke("core/editor").clearSelectedBlock(),Oe=null}}),Pe({getContext:function(){return r(14)},register:function(e){var t=e.name,r=e.options;return ge(t,r)},unregister:function(e){var t=e.name;return Ze(t)}}),jQuery("body").append('<div id="presto-plugin-app"></div>'),xe((0,se.tZ)((function(){return ye((function(e){return e("presto-player/player").proModal()}))?(0,se.tZ)(ue,{title:"Pro Feature",onRequestClose:function(){fe("presto-player/player").setProModal(!1)}},(0,se.tZ)("h2",null,"Unlock Presto Player ",(0,se.tZ)(ie.Z,null)),(0,se.tZ)("p",null,"Get this feature and more with the Pro version of Presto Player!"),(0,se.tZ)(pe,{href:"https://prestoplayer.com",target:"_blank",isPrimary:!0},"Learn More")):""}),null),document.getElementById("presto-plugin-app")),ke("presto-player/player").fetchOptions();var Se=!1;wp.data.subscribe((function(){var e=wp.data.select("core/editor").isSavingPost(),t=wp.data.select("core/editor").isAutosavingPost();if(e&&!t){if(Se)return;Se=!0;var r=le.getState().brandingReducer;ke("presto-player/player").saveOptions({branding:r}).then((function(){Se=!1}))}}))}()}();